(function(e){function t(t){for(var n,a,i=t[0],c=t[1],l=t[2],d=0,p=[];d<i.length;d++)a=i[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&p.push(r[a][0]),r[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(p.length)p.shift()();return s.push.apply(s,l||[]),o()}function o(){for(var e,t=0;t<s.length;t++){for(var o=s[t],n=!0,i=1;i<o.length;i++){var c=o[i];0!==r[c]&&(n=!1)}n&&(s.splice(t--,1),e=a(a.s=o[0]))}return e}var n={},r={app:0},s=[];function a(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=n,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(o,n,function(t){return e[t]}.bind(null,n));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;s.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},2395:function(e,t,o){},"31aa":function(e,t,o){"use strict";var n=o("6c2d"),r=o.n(n);r.a},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},s=[],a={mounted:function(){this.$Message.config({background:!0,duration:3})}},i=a,c=(o("7c55"),o("2877")),l=Object(c["a"])(i,r,s,!1,null,null,null),u=l.exports,d=o("8c4f"),p=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"home"},[o("Form",{ref:"formInline",attrs:{model:e.formInline,rules:{user:[{required:!0,message:"请输入账号"}],password:[{required:!0,message:"请输入密码"},{type:"string",min:6,message:"密码至少6位"}]},inline:""}},[o("FormItem",{attrs:{prop:"user"}},[o("Input",{attrs:{type:"text",placeholder:"账号"},model:{value:e.formInline.user,callback:function(t){e.$set(e.formInline,"user",t)},expression:"formInline.user"}})],1),o("FormItem",{attrs:{prop:"password"}},[o("Input",{attrs:{type:"password",placeholder:"密码"},model:{value:e.formInline.password,callback:function(t){e.$set(e.formInline,"password",t)},expression:"formInline.password"}})],1),o("FormItem",[o("Button",{attrs:{type:"primary"},on:{click:e.handleLogin}},[e._v("添加账号")])],1)],1),o("div",{staticClass:"card-container"},e._l(e.userList,(function(t){return o("Card",{key:t.email,staticClass:"card",attrs:{title:t.email}},[o("div",{attrs:{slot:"extra"},slot:"extra"},[o("a",{on:{click:function(o){return e.logoutUser(t.email)}}},[e._v("登出")]),e._v(" "),o("a",{on:{click:function(o){return e.deleteUser(t.email)}}},[e._v("删除")])]),o("iframe",{attrs:{src:e.baseUrl+"#/user/"+t.email+"/"+t.password}})])})),1)],1)},g=[],f=(o("99af"),o("7db0"),o("4160"),o("a434"),o("b64b"),o("159b"),o("96cf"),o("1da1")),h={name:"Home",data:function(){return{baseUrl:"".concat(location.origin).concat(location.pathname),formInline:{user:"",password:""},userList:[]}},mounted:function(){var e=this.getStorageUser(),t=[];Object.keys(e).forEach((function(o){t.push({email:o,password:e[o]})})),this.userList=t},methods:{handleLogin:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs["formInline"].validate();case 2:o=t.sent,o&&e.onAddUser(e.formInline.user,e.formInline.password);case 4:case"end":return t.stop()}}),t)})))()},saveStorageUser:function(e,t){var o=this.getStorageUser();"undefined"==typeof t?(delete o[e],localStorage.removeItem(e)):o[e]=t,localStorage.setItem("ydxxGame_userList",JSON.stringify(o))},getStorageUser:function(e){var t=JSON.parse(localStorage.getItem("ydxxGame_userList")||"{}")||{};return e?t[e]||null:t},onAddUser:function(e,t){this.saveStorageUser(e,t),this.userList.push({email:e,password:t})},deleteUser:function(e){var t=this.userList.find((function(t){return t.email===e}));this.userList.splice(t,1),this.saveStorageUser(e)}}},m=h,y=(o("31aa"),Object(c["a"])(m,p,g,!1,null,"078e0172",null)),v=y.exports,k=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.user?o("div",{staticClass:"user"},[o("p",[e._v("状态："+e._s(e.user.status)+" "+e._s(e.user.status_msg&&""+e.user.status_msg))]),e.user.myInfo?[o("div",{staticClass:"br"}),o("p",[e._v(" LV."+e._s(e.user.myInfo.level)+" "),e.user.myInfo.exp>e.user.myInfo.nextExp?o("a",{on:{click:function(t){return e.game.upPlayerLevel()}}},[e._v("升级")]):e._e(),e._v(" EXP："+e._s(Math.floor(e.user.myInfo.exp))+"/"+e._s(Math.floor(e.user.myInfo.nextExp))+" "),e.user.myInfo.potential_num>0?o("Poptip",{attrs:{transfer:"",placement:"bottom"}},[o("Button",{attrs:{size:"small",type:"info"}},[e._v(" 加点 ")]),o("div",{attrs:{slot:"content"},slot:"content"},[o("a",{attrs:{size:"small"},on:{click:function(t){return e.handleAllocationPoint(1)}}},[e._v(" 全力加点 ")]),o("a",{attrs:{size:"small"},on:{click:function(t){return e.handleAllocationPoint(2)}}},[e._v(" 全魔加点 ")])])],1):e._e(),e._v(" "),e.user.myInfo.game_silver>1e6?o("Poptip",{attrs:{transfer:"",placement:"bottom"}},[o("Button",{attrs:{size:"small",type:"info"}},[e._v(" 点技能 ")]),o("div",{attrs:{slot:"content"},slot:"content"},[o("a",{attrs:{size:"small"},on:{click:function(t){return e.handleFationSkill(1)}}},[e._v(" 剑修五十级 ")]),o("a",{attrs:{size:"small"},on:{click:function(t){return e.handleFationSkill(2)}}},[e._v(" 枪修五十级 ")])])],1):e._e()],1),o("div",{staticClass:"br"}),o("p",[e._v(" 财产："+e._s(Math.floor(e.user.myInfo.game_gold))+"仙石 "+e._s(Math.floor(e.user.myInfo.game_silver))+"灵石 "),o("Button",{attrs:{size:"small",type:"info"},on:{click:function(t){return e.$Message.error("还没做啊嘤嘤嘤")}}},[e._v(" 物品栏 ")])],1),o("div",{staticClass:"br"}),o("p",[e._v(" 气血储备："+e._s(Math.floor(e.user.myInfo.hp_store))+" 魔法储备："+e._s(Math.floor(e.user.myInfo.mp_store))+" ")])]:e._e(),[o("div",{staticClass:"br"}),e.unusecbt?[e.unusecbt.normal?[e._v(" 检测到你有 "),o("span",{staticStyle:{color:"red"}},[e._v(e._s(e.unusecbt.normal.num))]),e._v(" 张没鉴定的 "),o("span",{staticStyle:{color:"red"}},[e._v("藏宝图")]),e._v(" ["),o("a",{on:{click:function(){e.game.useGoods(e.unusecbt.normal.id)}}},[e._v("鉴定一张")]),e._v("] "),e.unusecbt.normal.num>=12?[o("div",{staticClass:"br"}),e.hightcbtTask?o("a",{on:{click:function(t){return e.game.payUserTask(e.hightcbtTask.utid)}}},[e._v(" 完成 ")]):o("a",{on:{click:function(t){return e.game.getCopyTask(e.hightcbtTaskId)}}},[e._v(" 领取 ")]),e._v(" 高级宝图任务 ")]:e._e()]:e._e(),e.unusecbt.high?[e._v(" 检测到你有 "),o("span",{staticStyle:{color:"red"}},[e._v(e._s(e.unusecbt.high.num))]),e._v(" 张没鉴定的 "),o("span",{staticStyle:{color:"red"}},[e._v("高级藏宝图")]),e._v(" ["),o("a",{on:{click:function(){e.game.useGoods(e.unusecbt.high.id)}}},[e._v("鉴定一张")]),e._v("] ")]:e._e()]:e._e()],e.waBao.length>0?[o("div",{staticClass:"br"}),e._v(" 检测到你在 "),o("span",{staticStyle:{color:"green"}},[e._v(e._s(e.waBao.map((function(e){return e.name})).join("，")))]),e._v(" 有藏宝图 "),e.currentWaBao?[e._v(" ，巧了，刚好有一张"+e._s(e.currentWaBao.name)+" "),o("Button",{attrs:{size:"small",type:"info"},on:{click:function(){e.game.wbt(e.currentWaBao.btId)}}},[e._v(" 挖宝 ")])]:e._e()]:e._e(),e.user.map?[o("div",{staticClass:"br"}),e._v(" 地图： "),e.user.team?o("Button",{attrs:{size:"small",type:"info",disabled:""}},[e._v(" "+e._s(e.user.map.name)+" ")]):o("Poptip",{attrs:{transfer:"",placement:"bottom"}},[o("Button",{attrs:{size:"small",type:"info"}},[e._v(" "+e._s(e.user.map.name)+" ")]),o("div",{attrs:{slot:"content"},slot:"content"},e._l(e.toMap,(function(t){return o("p",{key:t.id},[o("a",{staticStyle:{width:"100%"},attrs:{size:"small"},on:{click:function(){e.game.moveToNewMap(t.id)}}},[e._v(" "+e._s(t.name)+" ")])])})),0)],1)]:e._e(),e.user.team&&e.user.team.leader===e.user.email?[o("div",{staticClass:"br"}),e._v(" 副本： "),o("Poptip",{attrs:{transfer:"",placement:"bottom"}},[o("Button",{attrs:{size:"small",type:"info"}},[e._v(" "+e._s(e.user.combatName||"未选择")+" ")]),o("div",{attrs:{slot:"content"},slot:"content"},e._l(e.user.screens,(function(t){return o("p",{key:t._id},[o("a",{staticStyle:{width:"100%"},attrs:{size:"small"},on:{click:function(){e.user.team.combat=t._id,e.game.switchCombatScreen(t._id)}}},[e._v(" "+e._s(t.name)+" ")])])})),0)],1)]:e._e(),o("div",{staticClass:"br"}),e._v(" 队伍： "),e.user.team&&e.user.team.leader===e.user.email?[e._v(" ["+e._s(e.user.team.users.length||1)+"/5] "),o("Button",{attrs:{size:"small",type:"error"},on:{click:function(t){return e.game.leaveTeam()}}},[e._v(" 解散 ")]),e._v(" "),o("i-switch",{attrs:{disabled:!e.user.combatName,"true-color":"#13ce66","false-color":"#ff4949",size:"large"},on:{"on-change":function(t){e.user.fighting&&e.game.startCombat(e.user.team.combat)}},model:{value:e.user.fighting,callback:function(t){e.$set(e.user,"fighting",t)},expression:"user.fighting"}},[o("span",{attrs:{slot:"open"},slot:"open"},[e._v("战斗")]),o("span",{attrs:{slot:"close"},slot:"close"},[e._v("平时")])])]:e.user.team?[e._v(" 队长["+e._s(e.user.team.leader)+"] "),o("Button",{attrs:{size:"small",type:"warning"},on:{click:function(t){return e.game.leaveTeam()}}},[e._v(" 离开 ")])]:[o("Button",{attrs:{size:"small",type:"success"},on:{click:function(t){return e.game.createdTeam(e.user.map.id)}}},[e._v(" 创建 ")]),e._v(" "),o("Poptip",{attrs:{transfer:"",placement:"bottom"}},[o("Button",{attrs:{size:"small",type:"success"},on:{click:function(t){return e.game.getTeamList(e.user.map.id)}}},[e._v(" 加入 ")]),o("div",{attrs:{slot:"content"},slot:"content"},e._l(e.user.teams,(function(t){return o("p",{key:t._id},[o("a",{staticStyle:{width:"100%"},attrs:{size:"small"},on:{click:function(o){return e.game.addTeam(t._id)}}},[e._v(" "+e._s(t.leader.nickname)+" ("+e._s(t.leader.level)+") ["+e._s(t.users.length)+"/"+e._s((t.combat||{}).player_num)+"] ")])])})),0)],1)],o("div",{staticClass:"br"}),e._v(" 技能： "),e.user.skills?o("Poptip",{attrs:{transfer:"",placement:"bottom"}},[o("Button",{attrs:{size:"small",type:"default"}},[e._v(" "+e._s(e.user.skillname||"物理攻击")+" ")]),o("div",{attrs:{slot:"content"},slot:"content"},[0===e.user.skills.length?[e._v(" 没技能 ")]:e._l(e.user.skills,(function(t){return o("p",{key:t._id},[o("a",{staticStyle:{width:"100%"},on:{click:function(){e.$set(e.user,"skillid",t._id),e.$set(e.user,"skillname",t.name)}}},[e._v(" "+e._s(t.name)+" ")])])}))],2)],1):e._e(),o("div",{staticClass:"br"}),"object"==typeof e.user.message?o("div",[e._v(" ["+e._s(e.user.message.time)+"] "+e._s("第"+e.user.message.round_num+"轮")+" "),o("div",{staticStyle:{display:"inline-block"},domProps:{innerHTML:e._s(e.user.message.msg.join(","))}})]):e._e()],2):e._e()},H=[],b=(o("4de4"),o("a15b"),o("d81d"),o("b0c0"),o("d3b7"),o("ac1f"),o("25f0"),o("4d90"),o("5319"),o("2909")),_=(o("c975"),o("53ca")),M=o("c3cf"),T=o.n(M),S=!1,w="js-websocket",P="0.0.1",I=200,E=501,x=100,C={gameHost:"yundingxx.com",gameProtocol:"ws",loginPort:3014,gamePort:3052,loginServer:null,gameServer:null,socketPathTpl:"{protocol}://{host}:{port}/"},U=T.a.Package,G=T.a.Message,$={replaceParams:function(e,t){return e.replace(/{([^}]+)}/g,(function(e,o){return t[o]||e}))}},F={onLoginGame:function(e){e.code==I?this.user_info=Object.assign(this.user_info,e.data):S&&console.error("onLoginGame",e.msg)},onSaveData:function(e){var t=this;if(e.code==I){var o=e.data||e,n=["map","myInfo","players","userTasks","wordLogds","team","teams","screens","initData"];n.forEach((function(e){o[e]&&(t.user_info[e]=o[e],"map"==e&&(t.user_info.mid=o.map.id))}))}else S&&console.error("onLoginGame",e.msg||e)}};Object.keys(F).forEach((function(e){F[e].hookMark="Core."+e}));var L=function(e){"object"!=Object(_["a"])(e)&&"undefined"!=typeof e||(this.config=Object.assign(C,e)),this.initConfig()};L.isDEBUG=function(){S=!0},L.prototype.initConfig=function(){this.socket=null,this.isStop=!1,this.email="",this.password="",this.user_info={},this.token=null,this.config.loginServer||(this.config.loginServer=this.getSocketServer(this.config.loginPort)),this.messageHandlers=[],this.messageHandlers[U.TYPE_HANDSHAKE]=this.onHandshake,this.messageHandlers[U.TYPE_HEARTBEAT]=this.onHeartbeat,this.messageHandlers[U.TYPE_DATA]=this.onData,this.messageHandlers[U.TYPE_KICK]=this.onKick,this.reqId=1,this.heartbeatInterval=0,this.heartbeatId=null,this.heartbeatTimeoutId=null,this.heartbeatTimeout=0,this.xyUpdateIntervalId=0,this.dict={},this.abbrs={},this.protoVersion=0,this.serverProtos={},this.clientProtos={},this.initCallback=null,this.callbacks=[],this.callRoutes=[],this.hookHandlers=L.regHookHandlers},L.regHookHandlers={onAdd:[],onLeave:[],onChatMsg:[],onMyTeamReload:[F.onSaveData],onStartBat:[F.onSaveData],onRoundBatEnd:[],"chat.chatHandler.send":[],"connector.entryHandler.enter":[],"connector.fationHandler.applyForFation":[],"connector.fationHandler.closeUserTask":[],"connector.fationHandler.createFation":[],"connector.fationHandler.donateFationFunds":[],"connector.fationHandler.doneFationApply":[],"connector.fationHandler.getFationApply":[],"connector.fationHandler.getFationList":[],"connector.fationHandler.getFationTask":[],"connector.fationHandler.initFation":[],"connector.fationHandler.leaveFation":[],"connector.fationHandler.showFationUserList":[],"connector.fationHandler.upFation":[],"connector.fationHandler.upFationUserSkill":[console.log],"connector.fationHandler.upUserFationLevel":[],"connector.loginHandler.login":[F.onSaveData],"connector.playerHandler.byGoodsToSystem":[],"connector.playerHandler.byPalyerGoods":[],"connector.playerHandler.getCopyTask":[],"connector.playerHandler.getPlayerSellGoods":[],"connector.playerHandler.init":[],"connector.playerHandler.move":[],"connector.playerHandler.moveToNewMap":[F.onSaveData],"connector.playerHandler.nextMap":[],"connector.playerHandler.payUserTask":[],"connector.playerHandler.sellGoods":[],"connector.playerHandler.sendMsg":[],"connector.playerHandler.wearUserEquipment":[],"connector.systemHandler.getRankList":[],"connector.systemHandler.getSystemSellGoods":[],"connector.systemHandler.getSystemTask":[],"connector.teamHandler.addTeam":[],"connector.teamHandler.createdTeam":[F.onSaveData],"connector.teamHandler.getAllCombatScreen":[F.onSaveData],"connector.teamHandler.getTeamList":[F.onSaveData],"connector.teamHandler.leaveTeam":[],"connector.teamHandler.roundOperating":[],"connector.teamHandler.showMyTeam":[],"connector.teamHandler.startCombat":[console.log],"connector.teamHandler.switchCombatScreen":[],"connector.userHandler.addUserPetSkill":[],"connector.userHandler.allSellGoods":[],"connector.userHandler.allocationPoint":[],"connector.userHandler.fbProcess":[],"connector.userHandler.fitPet":[],"connector.userHandler.getMyFb":[],"connector.userHandler.getMyGoods":[],"connector.userHandler.getMyPet":[],"connector.userHandler.getMyPetSkillGoods":[],"connector.userHandler.getMySkill":[],"connector.userHandler.getMyTitle":[],"connector.userHandler.getMylogs":[],"connector.userHandler.getUserEqs":[],"connector.userHandler.getUserTask":[],"connector.userHandler.makeGoods":[],"connector.userHandler.playUserPet":[],"connector.userHandler.polyLin":[],"connector.userHandler.repairUserArms":[],"connector.userHandler.resetAttribute":[],"connector.userHandler.selectMyTitle":[],"connector.userHandler.sellGoods":[],"connector.userHandler.shelfMyGoods":[],"connector.userHandler.turnIntoPet":[],"connector.userHandler.upPlayerLevel":[],"connector.userHandler.upUserPetLevel":[],"connector.userHandler.updateUserPrice":[],"connector.userHandler.useGoods":[],"connector.userHandler.userInfo":[],"connector.userHandler.wbt":[],"connector.userHandler.xyDuiHuan":[],"connector.userHandler.xyUpdate":[F.onSaveData],"gate.gateHandler.queryEntry":[]},L.prototype.getSocketServer=function(e,t,o){return"number"!=typeof e?null:$.replaceParams(this.config.socketPathTpl,{protocol:o||this.config.gameProtocol,host:t||this.config.gameHost,port:e})},L.prototype.regHookHandler=function(e,t,o){if(!this.hookHandlers[e]||"function"!=typeof t)return!1;var n=t.hookMark||null;if(n&&"object"==Object(_["a"])(this.hookHandlers[e]))for(var r=0;r<this.hookHandlers[e].length;r++){var s=this.hookHandlers[e][r];if(s.hookMark&&n==s.hookMark)return s}return this.hookHandlers[e].push(t),!0},L.prototype.start=function(){this.socket||this.createWebSocket(this.config.loginServer)},L.prototype.createWebSocket=function(e){var t=this,o=new WebSocket(e);o.binaryType="arraybuffer";var n={open:this.onOpen,message:this.onMessage,error:this.onError,close:this.onClose};return Object.keys(n).map((function(e){o.addEventListener(e,(function(o){n[e].call(t,o)}))})),this.reqId=1,this.socket=o,o},L.prototype.onOpen=function(e){this.handShake()},L.prototype.onMessage=function(e){var t=U.decode(e.data);if(t.type,Array.isArray(t))for(var o=0;o<t.length;o++){var n=t[o];this.messageHandlers.call(this,[n.type](n.body))}else this.messageHandlers[t.type].call(this,t.body);this.heartbeatTimeout&&(this.nextHeartbeatTimeout=Date.now()+this.heartbeatTimeout)},L.prototype.onError=function(e){console.log("onError",e),window.location.reload()},L.prototype.onClose=function(e){console.log("onClose",e,this.isStop),this.isStop||this.login()},L.prototype.sendMessage=function(e,t,o){2==arguments.length&&"function"==typeof t&&(o=t,t=null);var n=T.a.strencode(JSON.stringify(e)),r=U.TYPE_HANDSHAKE,s=null;if("string"==typeof t){var a=0;this.dict&&this.dict[t]&&(s=this.dict[t],a=1);var i=this.reqId++%255,c=i?G.TYPE_REQUEST:G.TYPE_NOTIFY;"function"!=typeof o&&"string"!=typeof o||(this.callbacks[i]=o),this.callRoutes[i]=t,n=G.encode(i,c,a,a?s:t,n),r=U.TYPE_DATA}var l=U.encode(r,n);this.socket.readyState===this.socket.CLOSED&&location.reload(),this.socket.send(l)},L.prototype.onHandshake=function(e){if(e=JSON.parse(T.a.strdecode(e)),S&&console.log("onHandshake",e),e.code===E)throw new Error("client version not fullfill");if(e.code!==I)throw new Error("handshake fail");var t=U.encode(U.TYPE_HANDSHAKE_ACK);if(this.socket.send(t),e.sys&&e.sys.heartbeat){this.heartbeatInterval=1e3*e.sys.heartbeat,this.heartbeatTimeout=2*this.heartbeatInterval;var o=e.sys.dict;if(o)for(var n in this.dict=o,this.abbrs={},o)this.abbrs[o[n]]=n}if(e.sys&&e.sys.protos){var r=e.sys.protos;r&&(this.protoVersion=r.version||0,this.serverProtos=r.server||{},this.clientProtos=r.client||{})}this.initCallback&&(this.initCallback.call(this),this.initCallback=null)},L.prototype.onHeartbeat=function(){var e=this;if(this.heartbeatInterval){var t=U.encode(U.TYPE_HEARTBEAT);this.heartbeatTimeoutId&&(clearTimeout(this.heartbeatTimeoutId),this.heartbeatTimeoutId=null),this.heartbeatId||(this.heartbeatId=setTimeout((function(){e.heartbeatId=null,e.socket.send(t),e.nextHeartbeatTimeout=Date.now()+e.heartbeatTimeout,e.heartbeatTimeoutId=setTimeout(e.heartbeatTimeoutCb,e.heartbeatTimeout)}),this.heartbeatInterval))}},L.prototype.heartbeatTimeoutCb=function(){var e=this.nextHeartbeatTimeout-Date.now();e>x?this.heartbeatTimeoutId=setTimeout(this.heartbeatTimeoutCb,e):S&&console.error("server heartbeat timeout")},L.prototype.onData=function(e){var t=G.decode(e);!t.route&&t.id&&this.callRoutes[t.id]&&(t.route=this.callRoutes[t.id]),t.body=JSON.parse(T.a.strdecode(t.body));var o=[],n=!1,r=!0;if("function"==typeof this.callbacks[t.id]){var s=this.callbacks[t.id];delete this.callbacks[t.id],"string"==typeof s.hookMark&&o.push(s.hookMark),n=!0,r=!(!1===s.call(this,t.body))}if(r&&t.route&&"object"==Object(_["a"])(this.hookHandlers[t.route]))for(var a=0;a<this.hookHandlers[t.route].length;a++){var i=this.hookHandlers[t.route][a];if("string"==typeof i.hookMark){if(o.indexOf(i.hookMark)>=0)continue;o.push(i.hookMark)}n=!0,r=!(!1===i.call(this,t.body))}n||S&&console.log("onData",t.route,t.body)},L.prototype.onKick=function(e){S&&console.log("onKick",e)},L.prototype.Stop=function(){this.isStop=!0,this.socket&&(this.socket.close(),this.heartbeatId&&clearInterval(this.heartbeatId),this.heartbeatTimeoutId&&clearTimeout(this.heartbeatTimeoutId),this.xyUpdateIntervalId&&clearInterval(this.xyUpdateIntervalId))},L.prototype.handShake=function(){var e={sys:{type:w,version:P,rsa:{},protoVersion:this.protoVersion}};this.sendMessage(e)},L.prototype.login=function(e,t,o,n){var r=e||this.email,s=t||this.password,a="gate.gateHandler.queryEntry",i={login_email:r,login_pwd:s,code:"",is_r:!0};this.initCallback=function(){this.email=r,this.password=t,this.user_info.email=r,this.sendMessage(i,a,this.onLogin)},this.start()},L.prototype.onLogin=function(e){if(e.code!=I)return S&&console.error("onLogin",e.msg),!0;S&&console.log("onLogin",e),this.config.gamePort=e.port,this.user_info.mid=e.mid,this.token=e.token,this.isStop=!0,this.socket.close(),this.gameServer=this.getSocketServer(e.port),this.initCallback=this.loginToken,this.createWebSocket(this.gameServer)},L.prototype.loginToken=function(){var e=this,t="connector.loginHandler.login",o={email:this.user_info.email,token:this.token};this.onClose=!1,this.sendMessage(o,t,(function(t){if(t.code!=I)return S&&console.error("登录到游戏服务器失败",t),void e.Stop();S&&console.log("登录到游戏服务器成功",e,t),e.xyUpdateIntervalId=setInterval((function(){e.xyUpdate()}),6e4)}))},L.prototype.xyUpdate=function(){this.sendMessage({},"connector.userHandler.xyUpdate")},L.prototype.getMylogs=function(){this.sendMessage({},"connector.userHandler.getMylogs")},L.prototype.getMyFb=function(){this.sendMessage({},"connector.userHandler.getMyFb")},L.prototype.upPlayerLevel=function(){this.sendMessage({},"connector.userHandler.upPlayerLevel")},L.prototype.fbProcess=function(e,t){this.sendMessage({type:e,id:t},"connector.userHandler.fbProcess")},L.prototype.move=function(e,t){this.sendMessage({x:e,mid:t},"connector.playerHandler.move")},L.prototype.nextMap=function(e){this.sendMessage({type:e},"connector.playerHandler.nextMap")},L.prototype.moveToNewMap=function(e){this.sendMessage({mid:e},"connector.playerHandler.moveToNewMap")},L.prototype.getAllCombatScreen=function(){this.sendMessage({},"connector.teamHandler.getAllCombatScreen")},L.prototype.switchCombatScreen=function(e){this.sendMessage({cbatid:e},"connector.teamHandler.switchCombatScreen")},L.prototype.getTeamList=function(e){this.sendMessage({mid:e},"connector.teamHandler.getTeamList")},L.prototype.createdTeam=function(e){this.sendMessage({mid:e},"connector.teamHandler.createdTeam")},L.prototype.addTeam=function(e){this.sendMessage({tid:e},"connector.teamHandler.addTeam")},L.prototype.leaveTeam=function(){this.sendMessage({},"connector.teamHandler.leaveTeam")},L.prototype.startCombat=function(e){this.sendMessage({cbatid:e},"connector.teamHandler.startCombat")},L.prototype.roundOperating=function(e,t,o,n){this.sendMessage({type:e,parm:t,attack_id:o,tid:n},"connector.teamHandler.roundOperating")},L.prototype.getMyGoods=function(e){this.sendMessage({page:e},"connector.userHandler.getMyGoods")},L.prototype.playerSellGoods=function(e,t,o){this.sendMessage({ugid:e,game_gold:t,count:o},"connector.playerHandler.sellGoods")},L.prototype.selectMyTitle=function(e){this.sendMessage({index:e},"connector.userHandler.selectMyTitle")},L.prototype.getMyTitle=function(){this.sendMessage({},"connector.userHandler.getMyTitle")},L.prototype.getMyPet=function(){this.sendMessage({},"connector.userHandler.getMyPet")},L.prototype.wbt=function(e){this.sendMessage({ugid:e},"connector.userHandler.wbt")},L.prototype.getCopyTask=function(e){this.sendMessage({tid:e},"connector.playerHandler.getCopyTask")},L.prototype.getMySkill=function(){this.sendMessage({},"connector.userHandler.getMySkill")},L.prototype.repairUserArms=function(e){this.sendMessage({type:e},"connector.userHandler.repairUserArms")},L.prototype.getUserTask=function(){this.sendMessage({},"connector.userHandler.getUserTask")},L.prototype.useGoods=function(e){this.sendMessage({gid:e},"connector.userHandler.useGoods")},L.prototype.userInfo=function(){this.sendMessage({},"connector.userHandler.userInfo")},L.prototype.wearUserEquipment=function(e){this.sendMessage({ueid:e},"connector.playerHandler.wearUserEquipment")},L.prototype.payUserTask=function(e){this.sendMessage({utid:e},"connector.playerHandler.payUserTask")},L.prototype.turnIntoPet=function(e){this.sendMessage({pid:e},"connector.userHandler.turnIntoPet")},L.prototype.getSystemSellGoods=function(e){this.sendMessage({pageIndex:e},"connector.systemHandler.getSystemSellGoods")},L.prototype.shelfMyGoods=function(e){this.sendMessage({id:e},"connector.userHandler.shelfMyGoods")},L.prototype.getPlayerSellGoods=function(e,t){this.sendMessage({pageIndex:e||1,select:t},"connector.playerHandler.getPlayerSellGoods")},L.prototype.byPalyerGoods=function(e,t){this.sendMessage({usgid:e,type:t},"connector.playerHandler.byPalyerGoods")},L.prototype.byGoodsToSystem=function(e,t){this.sendMessage({id:t,type:e},"connector.playerHandler.byGoodsToSystem")},L.prototype.getSystemTask=function(){this.sendMessage({},"connector.systemHandler.getSystemTask")},L.prototype.makeGoods=function(e){this.sendMessage({arr:e},"connector.userHandler.makeGoods")},L.prototype.userSellGoods=function(e){this.sendMessage({arr:e},"connector.userHandler.sellGoods")},L.prototype.playUserPet=function(e,t){this.sendMessage({pid:e,status:t},"connector.userHandler.playUserPet")},L.prototype.upUserPetLevel=function(e,t,o){var n={pid:e,type:t};2==t&&(o=o||{},Object.assign(n,{str:o.str||null,int:o.int||null,agi:o.agi||null,vit:o.vit||null,con:o.con||null})),this.sendMessage(n,"connector.userHandler.upUserPetLevel")},L.prototype.send=function(e,t){this.sendMessage({send_channel:e,send_msg:t},"chat.chatHandler.send")},L.prototype.allocationPoint=function(e,t,o,n,r){this.sendMessage({str:e,int:t,agi:o,vit:n,con:r},"connector.userHandler.allocationPoint")},L.prototype.getUserEqs=function(){this.sendMessage({},"connector.userHandler.getUserEqs")},L.prototype.updateUserPrice=function(){this.sendMessage({},"connector.userHandler.updateUserPrice")},L.prototype.showMyTeam=function(e){this.sendMessage({is_show:e},"connector.teamHandler.showMyTeam")},L.prototype.getRankList=function(e){this.sendMessage({type:e},"connector.systemHandler.getRankList")},L.prototype.initFation=function(){this.sendMessage({},"connector.fationHandler.initFation")},L.prototype.createFation=function(e){this.sendMessage({name:e},"connector.fationHandler.createFation")},L.prototype.applyForFation=function(e){this.sendMessage({fid:e},"connector.fationHandler.applyForFation")},L.prototype.doneFationApply=function(e,t){this.sendMessage({type:e,faid:t},"connector.fationHandler.doneFationApply")},L.prototype.upUserFationLevel=function(e,t){this.sendMessage({type:e,uid:t},"connector.fationHandler.upUserFationLevel")},L.prototype.getFationList=function(){this.sendMessage({},"connector.fationHandler.getFationList")},L.prototype.getFationApply=function(){this.sendMessage({},"connector.fationHandler.getFationApply")},L.prototype.showFationUserList=function(){this.sendMessage({},"connector.fationHandler.showFationUserList")},L.prototype.leaveFation=function(){this.sendMessage({},"connector.fationHandler.leaveFation")},L.prototype.upFationUserSkill=function(e){this.sendMessage({type:e},"connector.fationHandler.upFationUserSkill")},L.prototype.donateFationFunds=function(){this.sendMessage({},"connector.fationHandler.donateFationFunds")},L.prototype.getFationTask=function(){this.sendMessage({},"connector.fationHandler.getFationTask")},L.prototype.upFation=function(e){this.sendMessage({type:e},"connector.fationHandler.upFation")},L.prototype.polyLin=function(e){this.sendMessage({type:e},"connector.userHandler.polyLin")},L.prototype.closeUserTask=function(e){this.sendMessage({tid:e},"connector.fationHandler.closeUserTask")},L.prototype.allSellGoods=function(){this.sendMessage({},"connector.userHandler.allSellGoods")},L.prototype.resetAttribute=function(){this.sendMessage({},"connector.userHandler.resetAttribute")},L.prototype.getMyPet=function(e,t){this.sendMessage({ids:e+","+t},"connector.userHandler.getMyPet")},L.prototype.fitPet=function(e,t){this.sendMessage({ids:e+","+t},"connector.userHandler.fitPet")},L.prototype.addUserPetSkill=function(e){this.sendMessage({ugid:ugid,upid:e},"connector.userHandler.addUserPetSkill")},L.prototype.getMyPetSkillGoods=function(){this.sendMessage({},"connector.userHandler.getMyPetSkillGoods")};var O=L,A=function(e){var t=e,o=function(){};o.hookMark="regHooks.emptyCb",O.regHookHandlers["onLeave"].push(o),O.regHookHandlers["onAdd"].push(o);var n=function(e){var o=t.user;return 500==e.code?(o.status="登录失败",void(o.status_msg="账号已在他处登录")):200!=e.code?(o.status="登录失败",void(o.status_msg=e.msg||"未知错误")):void(e.token?o.status="鉴权成功":(o.status="登录成功","object"==Object(_["a"])(e.data)&&(t.$set(o,"userEqs",e.data.userEqs),t.$set(o,"myInfo",e.data.myInfo),t.$set(o,"userTasks",e.data.userTasks),t.$set(o,"map",e.data.map),this.userInfo(),this.getTeamList(t.user.map.id),t.$set(o,"goods",[]),t.$set(o,"goodsPage",1),this.getMyGoods(),this.getMySkill())))};n.hookMark="regHooks.loginCb",O.regHookHandlers["gate.gateHandler.queryEntry"].push(n),O.regHookHandlers["connector.loginHandler.login"].push(n);var r=function(e){var o=t.user;t.$set(o,"map",e.map)};r.hookMark="regHooks.moveToNewMapCb",O.regHookHandlers["connector.playerHandler.moveToNewMap"].push(r);var s=function(e){200==e.code?(t.$set(t.user,"team",{leader:this.email,users:[]}),t.$Message.success("队伍创建成功")):t.$Message.error(e.msg)};s.hookMark="regHooks.createdTeamCb",O.regHookHandlers["connector.teamHandler.createdTeam"].push(s);var a=function(e){200==e.code?(t.$delete(t.user,"team"),t.$Message.info("已离开队伍"),t.game.getTeamList(t.user.map.id)):t.$Message.error(e.msg)};a.hookMark="regHooks.leaveTeamCb",O.regHookHandlers["connector.teamHandler.leaveTeam"].push(a);var i=function(e){if(200==e.code){for(var o=e.data.combat||null,n=e.data.users[0].nickname,r=e.data.users,s=0;s<this.user_info.screens.length;s++){var a=this.user_info.screens[s];a._id==o&&(o=a.name)}t.$set(t.user,"team",{combat:o,leader:n,users:r}),t.$Message.info("已加入队伍")}else t.$Message.error(e.msg)};i.hookMark="regHooks.addTeamCb",O.regHookHandlers["connector.teamHandler.addTeam"].push(i);var c=function(e){if(e.code&&200!=e.code)t.$Message.error(e.msg);else{var o=t.user;if(e.new_uid&&!e.team&&o.team)o.team.users.forEach((function(t,n){t._id==e.new_uid&&o.team.users.splice(n,1)}));else{if(e.data||!e.team)return e.data&&t.$set(o,"fighting",!1),t.$delete(o,"team"),void t.$delete(o,"combatName");for(var n=e.team.leader,r=[],s=0;s<e.team.users.length;s++){var a=e.team.users[s];a._id==n&&(n=a.email),r.push({_id:a._id,email:a.email,level:a.level})}t.$set(o,"team",{leader:n,users:r,combat:e.team.combat}),o.email===n&&t.user.fighting&&this.startCombat(e.team.combat)}}};c.hookMark="regHooks.onMyTeamReloadCb",O.regHookHandlers["onMyTeamReload"].push(c);var l=function(e){if(200==e.code){var o=t.user;t.$set(o,"screens",e.data.screens),t.$set(o,"teams",e.data.teams.filter((function(e){return e.users.length!==(e.combat||{}).player_num})))}else t.$Message.error(e.msg)};l.hookMark="regHooks.getTeamListCb",O.regHookHandlers["connector.teamHandler.getTeamList"].push(l);var u=function(e){200==e.code?(t.$Message.success("切换副本成功"),t.game.getTeamList(t.user.map.id)):t.$Message.error(e.msg)};u.hookMark="regHooks.switchCombatScreenCb",O.regHookHandlers["connector.teamHandler.switchCombatScreen"].push(u);var d=function(e){var o=t.user;this.roundOperating(o.skilltype||"1",o.skillid||"1","",o.team._id)};d.hookMark="regHooks.onStartBatCb",O.regHookHandlers["onStartBat"].push(d);var p=function(e){var o=t.user;o.myInfo.hp_store<5e3&&this.byGoodsToSystem(2,"5eef5b6e0faad0b123d709c5"),o.myInfo.mp_store<5e3&&this.byGoodsToSystem(2,"5eef5d140faad0b123d709c6"),o.fighting&&this.startCombat(o.team.combat),t.setMessage(this.email,e.data),this.userInfo()};p.hookMark="regHooks.onRoundBatEndCb",O.regHookHandlers["onRoundBatEnd"].push(p);var g=function(e){200==e.code||t.$Message.error(e.msg)};g.hookMark="regHooks.roundOperatingCb",O.regHookHandlers["connector.teamHandler.roundOperating"].push(g);var f=function(e){if(200==e.code){for(var o=!0,n=0;n<e.data.goods.length;n++){var r=e.data.goods[n];if(o&&r.goods&&r.goods.info&&r.goods.info.indexOf("储备值")>-1)this.useGoods(r._id),o=!1;else{var s=void 0,a=void 0,i=void 0;r.name&&r.expand?s=JSON.parse(r.expand).map:(r.name||r.goods.name).indexOf("藏宝图")>-1&&((r.name||r.goods.name).indexOf("高级藏宝图")>-1&&(i=!0),a=!0),t.user.goods.push({id:r._id,num:r.count,map:s,unusecbt:a,highcbt:i,name:r.name||r.goods.name})}}t.user.goods.length!==e.data.count&&this.getMyGoods(++t.user.goodsPage)}else t.$Message.error(e.msg)};f.hookMark="regHooks.getMyGoodsCb",O.regHookHandlers["connector.userHandler.getMyGoods"].push(f);var h=function(e){200==e.code?(t.$Message.success("正在自动补气补蓝"),t.user.goods=[],t.user.goodsPage=1,this.getMyGoods()):t.$Message.error(e.msg)};h.hookMark="regHooks.byGoodsToSystemCb",O.regHookHandlers["connector.playerHandler.byGoodsToSystem"].push(h);var m=function(e){200==e.code?(this.userInfo(),t.user.goods=[],t.user.goodsPage=1,this.getMyGoods()):t.$Message.error(e.msg)};m.hookMark="regHooks.useGoodsCb",O.regHookHandlers["connector.userHandler.useGoods"].push(m);var y=function(e){200==e.code?this.userInfo():t.$Message.error(e.msg)};y.hookMark="regHooks.upPlayerLevelCb",O.regHookHandlers["connector.userHandler.upPlayerLevel"].push(y);var v=function(e){if(200==e.code){e.user.nextExp=e.nextLevelGetExp;var o=t.user;t.$set(o,"myInfo",e.user)}else t.$Message.error(e.msg)};v.hookMark="regHooks.userInfoCb",O.regHookHandlers["connector.userHandler.userInfo"].push(v);var k=function(e){200==e.code?t.$set(t.user,"skills",e.data.skill):t.$Message.error(e.msg)};k.hookMark="regHooks.getMySkillCb",O.regHookHandlers["connector.userHandler.getMySkill"].push(k);var H=function(e){200==e.code?this.userInfo():t.$Message.error(e.msg)};H.hookMark="regHooks.allocationPointCb",O.regHookHandlers["connector.userHandler.allocationPoint"].push(H);var b=function(e){console.log(e),200==e.code||t.$Message.error(e.msg)};b.hookMark="regHooks.getCopyTaskCb",O.regHookHandlers["connector.playerHandler.getCopyTask"].push(b);var M=function(e){200==e.code?t.$set(t.user,"userTasks",e.data):t.$Message.error(e.msg)};M.hookMark="regHooks.getUserTaskCb",O.regHookHandlers["connector.userHandler.getUserTask"].push(M);var T=function(e){console.log(e),200==e.code?(t.$Message.success("成功领到高级藏宝图，正在刷新背包"),t.user.goods=[],t.user.goodsPage=1,this.getMyGoods(),this.getUserTask()):t.$Message.error(e.msg)};T.hookMark="regHooks.payUserTaskCb",O.regHookHandlers["connector.playerHandler.payUserTask"].push(T);var S=function(e){200==e.code?(t.$Message.success(e.msg),t.user.goods=[],t.user.goodsPage=1,this.getMyGoods()):t.$Message.error(e.msg)};S.hookMark="regHooks.wbtCb",O.regHookHandlers["connector.userHandler.wbt"].push(S)},j={core:{ext_url:"https://github.com/imdong/YunDingOnlineSDK/raw/master/auto_login.user.js",official_login:"http://yundingxx.com:3366/login"},maps:[{id:1,name:"聚灵城",is_city:!0,up:[],next:[2,3]},{id:2,name:"梵风岭",is_city:!1,up:[1],next:[4]},{id:3,name:"雨落道",is_city:!1,up:[1],next:[5]},{id:4,name:"梵风岭-东",is_city:!1,up:[2],next:[]},{id:5,name:"雨落东城",is_city:!0,up:[3],next:[6,7,8,9]},{id:6,name:"追风谷",is_city:!1,up:[5],next:[4]},{id:7,name:"通天道",is_city:!1,up:[5],next:[10]},{id:8,name:"长树林海",is_city:!1,up:[5],next:[11]},{id:9,name:"玉花县",is_city:!0,up:[5],next:[12]},{id:10,name:"天都城",is_city:!0,up:[7],next:[13]},{id:11,name:"林中栈道",is_city:!1,up:[8],next:[]},{id:12,name:"栀花荒野",is_city:!1,up:[9],next:[]},{id:13,name:"九幽-西",is_city:!1,up:[10],next:[14]},{id:14,name:"九幽殿",is_city:!0,up:[13],next:[15,16]},{id:15,name:"九幽-东",is_city:!0,up:[14],next:[]},{id:16,name:"聚仙驿站",is_city:!0,up:[10],next:[14]}]},D=(o("a9e3"),function(e){var t=Number(Date.now());return new Promise((function(o){(function n(){setTimeout((function(){var r;"function"===typeof e&&(r=e()),"number"===typeof e&&(r=Number(Date.now())-t<e),r?n():o()}),10)})()}))}),Y={name:"User",data:function(){return{game:{},user:null,config:j,hightcbtTaskId:"5f01ee501a863c76d650525c"}},watch:{user:{deep:!0,handler:function(e){var t=null;if(e&&e.screens&&e.team&&e.team.combat){var o=e.screens.find((function(t){return t._id===e.team.combat}));o&&(t=o.name)}e.combatName=t,this.saveStorageUserInfo(e)}}},computed:{toMap:function(){var e=this.user,t=j.maps;if(e&&e.map){var o=t.find((function(t){return t.id===e.map.id})),n=o.up,r=o.next,s=[].concat(Object(b["a"])(n),Object(b["a"])(r)).map((function(e){var o=t.find((function(t){return t.id===e})).name;return{id:e,name:o}}));return s}return[]},waBao:function(){var e=this.user.goods,t=j.maps;if(!e)return[];var o=e.filter((function(e){return!!e.map})).map((function(e){return{id:e.map,btId:e.id,name:t.find((function(t){return t.id===e.map})).name}}));return o},currentWaBao:function(){var e=this;return this.waBao.find((function(t){return t.id===e.user.map.id}))},unusecbt:function(){var e=this.user.goods;if(!e)return null;var t=e.filter((function(e){return e.unusecbt}));if(0===t.length)return null;var o={normal:t.find((function(e){return!e.highcbt})),high:t.find((function(e){return e.highcbt}))};return o},hightcbtTask:function(){var e=this,t=this.user.userTasks;return t?this.user.userTasks.find((function(t){return t.task._id===e.hightcbtTaskId})):null}},mounted:function(){A(this);var e=this.$route.params,t=e.email,o=e.password;this.initUser(t,o)},methods:{saveStorageUserInfo:function(e){localStorage.setItem(e.email,JSON.stringify({fighting:e.fighting,email:e.email,skillid:e.skillid,skillname:e.skillname}))},getStorageUserInfo:function(e){var t=localStorage.getItem(e);if(t)return JSON.parse(t)},initUser:function(e,t){var o=new O,n=this.getStorageUserInfo(e)||{email:e,status:"已添加",teams:[],fighting:!1};this.game=o,this.user=n,o.login(e,t)},setMessage:function(e,t){t.time=this.getDateTime();var o=t.round_arr.find((function(t){return t.a_name===e}));t.msg=[o?"".concat(e,"使用了[").concat(o.process,"]造成了[").concat(o.hurt.map(Math.floor).join(","),"]伤害"):""],t.die_arr&&t.die_arr.length&&t.msg.push(t.die_arr.map((function(e){return"".concat(e,"卒")})).join(",")),1===t.win&&(t.exp.forEach((function(o){o.name==e&&t.msg.push("获得经验[".concat(o.exp||"没经验了","]"))})),t.player_reward.forEach((function(o){if(o.name==e)if(o.mark)t.msg.push(o.mark);else{var n=[];o.goods.forEach((function(e){n.push(e.gname)})),n.length>0&&t.msg.push("战利品[".concat(n.join(","),"]"))}}))),2===t.win&&t.msg.push("死亡"),this.$set(this.user,"message",t)},handleAllocationPoint:function(e){var t=this.user.myInfo.potential_num;1===e&&this.game.allocationPoint(t,0,0,0,0),2===e&&this.game.allocationPoint(0,t,0,0,0)},handleFationSkill:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function o(){var n;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:t.$Message.info("正在自动连点技能，完成后会提示"),n=0;case 2:if(!(n<50)){o.next=10;break}return 1===e&&t.game.repairUserArms(1),2===e&&t.game.repairUserArms(2),o.next=7,D(100);case 7:n++,o.next=2;break;case 10:t.game.userInfo(),t.$Message.info("技能修炼完成");case 12:case"end":return o.stop()}}),o)})))()},getDateTime:function(){var e=new Date;return"H:i:s".replace(/[His]/g,(function(t){var o="";switch(t){case"H":o=e.getHours();break;case"i":o=e.getMinutes();break;case"s":o=e.getSeconds();break;default:break}return o.toString().padStart(2,"0")}))}}},B=Y,N=(o("6f7f"),Object(c["a"])(B,k,H,!1,null,"390b598e",null)),R=N.exports;n["default"].use(d["a"]);var z=[{path:"/",name:"Home",component:v},{path:"/user/:email/:password",name:"user",component:R}],q=new d["a"]({routes:z}),K=q,J=o("2f62");n["default"].use(J["a"]);var W=new J["a"].Store({state:{},mutations:{},actions:{},modules:{}}),Q=o("f825"),V=o.n(Q);o("f8ce");n["default"].use(V.a),n["default"].config.productionTip=!1,new n["default"]({router:K,store:W,render:function(e){return e(u)}}).$mount("#app")},"6c2d":function(e,t,o){},"6f7f":function(e,t,o){"use strict";var n=o("b953"),r=o.n(n);r.a},"7c55":function(e,t,o){"use strict";var n=o("2395"),r=o.n(n);r.a},b953:function(e,t,o){},c3cf:function(e,t,o){(function(n){var r;o("d3b7"),o("5cc6"),o("9a8c"),o("a975"),o("735e"),o("c1ac"),o("d139"),o("3a7b"),o("d5d6"),o("82f8"),o("e91f"),o("60bd"),o("5f96"),o("3280"),o("3fcc"),o("ca91"),o("25a1"),o("cd26"),o("3c5d"),o("2954"),o("649e"),o("219c"),o("170b"),o("b39a"),o("72f7"),r=function(e,t,o){(function(e,t,n){var r=e,s=4,a=1,i=2,c=1,l=65535,u=1,d=7,p=r.Package={},g=r.Message={};p.TYPE_HANDSHAKE=1,p.TYPE_HANDSHAKE_ACK=2,p.TYPE_HEARTBEAT=3,p.TYPE_DATA=4,p.TYPE_KICK=5,g.TYPE_REQUEST=0,g.TYPE_NOTIFY=1,g.TYPE_RESPONSE=2,g.TYPE_PUSH=3,r.strencode=function(e){for(var o=new t(3*e.length),n=0,r=0;r<e.length;r++){var s=e.charCodeAt(r),a=null;a=s<=127?[s]:s<=2047?[192|s>>6,128|63&s]:[224|s>>12,128|(4032&s)>>6,128|63&s];for(var i=0;i<a.length;i++)o[n]=a[i],++n}var c=new t(n);return f(c,0,o,0,n),c},r.strdecode=function(e){var o=new t(e),n=[],r=0,s=0,a=o.length;while(r<a)o[r]<128?(s=o[r],r+=1):o[r]<224?(s=((63&o[r])<<6)+(63&o[r+1]),r+=2):(s=((15&o[r])<<12)+((63&o[r+1])<<6)+(63&o[r+2]),r+=3),n.push(s);return String.fromCharCode.apply(null,n)},p.encode=function(e,o){var n=o?o.length:0,r=new t(s+n),a=0;return r[a++]=255&e,r[a++]=n>>16&255,r[a++]=n>>8&255,r[a++]=255&n,o&&f(r,a,o,0,n),r},p.decode=function(e){var o=0,n=new t(e),r=0,s=[];while(o<n.length){var a=n[o++];r=(n[o++]<<16|n[o++]<<8|n[o++])>>>0;var i=r?new t(r):null;f(i,0,n,o,r),o+=r,s.push({type:a,body:i})}return 1===s.length?s[0]:s},g.encode=function(e,o,n,s,l){var u=h(o)?y(e):0,d=a+u;if(m(o))if(n){if("number"!==typeof s)throw new Error("error flag for number route!");d+=i}else if(d+=c,s){if(s=r.strencode(s),s.length>255)throw new Error("route maxlength is overflow");d+=s.length}l&&(d+=l.length);var p=new t(d),g=0;return g=v(o,n,p,g),h(o)&&(g=k(e,p,g)),m(o)&&(g=H(n,s,p,g)),l&&(g=b(l,p,g)),p},g.decode=function(e){var o=new t(e),n=o.length||o.byteLength,s=0,a=0,i=null,c=o[s++],l=c&u,p=c>>1&d;if(h(p)){var g=parseInt(o[s]),y=0;do{g=parseInt(o[s]);a+=(127&g)*Math.pow(2,7*y),s++,y++}while(g>=128)}if(m(p))if(l)i=o[s++]<<8|o[s++];else{var v=o[s++];v?(i=new t(v),f(i,0,o,s,v),i=r.strdecode(i)):i="",s+=v}var k=n-s,H=new t(k);return f(H,0,o,s,k),{id:a,type:p,compressRoute:l,route:i,body:H}};var f=function(e,t,o,n,r){if("function"===typeof o.copy)o.copy(e,t,n,n+r);else for(var s=0;s<r;s++)e[t++]=o[n++]},h=function(e){return e===g.TYPE_REQUEST||e===g.TYPE_RESPONSE},m=function(e){return e===g.TYPE_REQUEST||e===g.TYPE_NOTIFY||e===g.TYPE_PUSH},y=function(e){var t=0;do{t+=1,e>>=7}while(e>0);return t},v=function(e,t,o,n){if(e!==g.TYPE_REQUEST&&e!==g.TYPE_NOTIFY&&e!==g.TYPE_RESPONSE&&e!==g.TYPE_PUSH)throw new Error("unkonw message type: "+e);return o[n]=e<<1|(t?1:0),n+a},k=function(e,t,o){do{var n=e%128,r=Math.floor(e/128);0!==r&&(n+=128),t[o++]=n,e=r}while(0!==e);return o},H=function(e,t,o,n){if(e){if(t>l)throw new Error("route number is overflow");o[n++]=t>>8&255,o[n++]=255&t}else t?(o[n++]=255&t.length,f(o,n,t,0,t.length),n+=t.length):o[n++]=0;return n},b=function(e,t,o){return f(t,o,e,0,e.length),o+e.length};o.exports=r,"undefined"!=typeof window&&(window.Protocol=r)})("undefined"==typeof window?o.exports:this.Protocol={},"undefined"==typeof window?n:Uint8Array)}.call(t,o,t,e),void 0===r||(e.exports=r)}).call(this,o("b639").Buffer)}});
//# sourceMappingURL=app.03723ca6.js.map