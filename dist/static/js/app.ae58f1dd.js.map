{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/pet.vue?926d","webpack:///./src/views/User.vue?0f21","webpack:///./src/components/bag.vue?5f1f","webpack:///./src/App.vue?7df1","webpack:///src/App.vue","webpack:///./src/App.vue?a7d1","webpack:///./src/App.vue","webpack:///./src/views/Home.vue?73aa","webpack:///./src/components/screens.vue?8003","webpack:///src/components/screens.vue","webpack:///./src/components/screens.vue?2613","webpack:///./src/components/screens.vue","webpack:///./src/components/monster-map.vue?9466","webpack:///src/components/monster-map.vue","webpack:///./src/components/monster-map.vue?3bd0","webpack:///./src/components/monster-map.vue","webpack:///./src/components/skill-map.vue?b9bd","webpack:///src/components/skill-map.vue","webpack:///./src/components/skill-map.vue?2ae7","webpack:///./src/components/skill-map.vue","webpack:///./src/config.js","webpack:///./src/libs/tools.js","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?2b8c","webpack:///./src/views/Home.vue","webpack:///./src/views/User.vue?a700","webpack:///./src/libs/YunDingOnlineSDK.js","webpack:///./src/libs/regHooks.js","webpack:///src/views/User.vue","webpack:///./src/components/bag.vue?3ac0","webpack:///src/components/bag.vue","webpack:///./src/components/bag.vue?2423","webpack:///./src/components/bag.vue","webpack:///./src/components/eqs.vue?55e1","webpack:///src/components/eqs.vue","webpack:///./src/components/eqs.vue?7762","webpack:///./src/components/eqs.vue","webpack:///./src/components/market.vue?58da","webpack:///src/components/market.vue","webpack:///./src/components/market.vue?3ef9","webpack:///./src/components/market.vue","webpack:///./src/components/pet.vue?d88b","webpack:///src/components/pet.vue","webpack:///./src/components/pet.vue?3101","webpack:///./src/components/pet.vue","webpack:///./src/components/skills.vue?d2f3","webpack:///src/components/skills.vue","webpack:///./src/components/skills.vue?76ec","webpack:///./src/components/skills.vue","webpack:///./src/components/tasks.vue?d8d1","webpack:///src/components/tasks.vue","webpack:///./src/components/tasks.vue?a1e2","webpack:///./src/components/tasks.vue","webpack:///./src/components/userinfo.vue?996d","webpack:///src/components/userinfo.vue","webpack:///./src/components/userinfo.vue?2482","webpack:///./src/components/userinfo.vue","webpack:///./src/components/shop.vue?6ab1","webpack:///src/components/shop.vue","webpack:///./src/components/shop.vue?ae75","webpack:///./src/components/shop.vue","webpack:///./src/components/pet-catch-ctrl.vue?1d21","webpack:///src/components/pet-catch-ctrl.vue","webpack:///./src/components/pet-catch-ctrl.vue?67a0","webpack:///./src/components/pet-catch-ctrl.vue","webpack:///./src/views/User.vue?3db7","webpack:///./src/views/User.vue","webpack:///./src/router/index.js","webpack:///./src/store/index.js","webpack:///./src/mixins.js","webpack:///./src/main.js","webpack:///./src/App.vue?74c1","webpack:///./src/views/User.vue?a85f","webpack:///./src/views/Home.vue?d90c","webpack:///./src/libs/protocol.js","webpack:///./src/components/shop.vue?2129","webpack:///./src/views/Home.vue?8826"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","mounted","$Message","config","background","duration","component","staticClass","ref","formInline","model","callback","$$v","$set","expression","on","handleLogin","_v","$event","showSkillMap","showMonsterMap","showScreensContent","openDm","slot","handleSendChat","sendMsg","_e","forever","_l","user","index","email","handleReload","isLogin","deleteUser","refInFor","baseUrl","e","frameLoad","msg","style","top","display","color","_s","nickname","domProps","skillMap","screens","screen","_id","staticStyle","player_num","min_level","max_level","monsterId","getMonster","gds","random_arr","rate","props","methods","monster","map","screenName","monsterSearch","txt","handlerSearchMonster","monsterMap","level","growing_num","rareType","type","dodge_zz","str_zz","int_zz","con_zz","vit_zz","speed_zz","skill","info","mdata","filter","rare","flag","includes","skills","some","skillType","hurt_field","unit","unit_highest","real_damage","min_hurt","max_hurt","consume_num","created_at","computed","skillList","list","globalMaps","sleep","method","start","Number","Date","now","Promise","resolve","selfRecursion","setTimeout","findMapPath","nowid","toid","maps","configData","topath","circleCalcle","nid","pre","find","id","up","next","allId","concat","nicePath","sort","randomNum","minNum","maxNum","Infinity","exclude","parseInt","Math","random","components","password","userList","msgList","msgDm","dmline","dayPlan","dayPlanOptions","watch","deep","handler","dm","getDmColor","keys","users","forEach","floor","document","body","offsetHeight","addEventListener","setInterval","startTime","frames","game","team","isleader","fullIndex","leaveTeam","fullTeamLeader","teamnotInIndex","teammateNotInTeam","showMyTeam","fms","contentWindow","location","reload","combatName","combat","tempcombat","switchCombatScreen","fighting","startCombat","combatId","undonePlan","message","indexOf","isDone","planCheckTimes","tempcombatid","createdTeam","teamleader","getTeamList","teams","addTeam","teamStatus","md","sk","$refs","chatMsg","channel","chatSend","saveStorageUser","getStorageUser","onAddUser","passwd","status","status_msg","modalTitle","modalType","showModal","myInfo","exp","nextExp","upPlayerLevel","potential_num","nativeOn","handleAllocationPoint","game_gold","game_silver","hp_store","mp_store","vitality_num","polyLin","unusecbt","normal","num","useGoods","readToUse","useNum","handleUseItem","high","waBao","handleAutoWaBao","item","warning","moveToMap","then","success","leader","tempcombatname","combatTotal","skillname","time","round_num","mark","join","fightGains","beginTime","gains","tips","tag","DEBUG","JS_WS_CLIENT_TYPE","JS_WS_CLIENT_VERSION","RES_OK","RES_OLD_CLIENT","gapThreshold","default_config","gameHost","gameProtocol","loginPort","gamePort","loginServer","gameServer","socketPathTpl","Package","Protocol","Message","Tool","replaceParams","str","replaceMaps","replace","full_match","CoreHooks","onLoginGame","code","user_info","assign","console","error","onSaveData","datas","save_keys","mid","hookMark","GameApi","initConfig","isDEBUG","socket","isStop","token","getSocketServer","messageHandlers","TYPE_HANDSHAKE","onHandshake","TYPE_HEARTBEAT","onHeartbeat","TYPE_DATA","onData","TYPE_KICK","onKick","reqId","heartbeatInterval","heartbeatId","heartbeatTimeoutId","heartbeatTimeout","xyUpdateIntervalId","dict","abbrs","protoVersion","serverProtos","clientProtos","initCallback","callbacks","callRoutes","hookHandlers","regHookHandlers","log","port","host","protocol","regHookHandler","route","cb","position","cbMark","cb_item","createWebSocket","url","WebSocket","binaryType","bindEvents","open","onOpen","onMessage","onError","close","onClose","enevtName","event","handShake","messages","decode","Array","isArray","nextHeartbeatTimeout","login","sendMessage","arguments","bytes","strencode","JSON","stringify","pkg_type","routeId","compressRoute","TYPE_REQUEST","TYPE_NOTIFY","encode","packet","readyState","CLOSED","send","parse","strdecode","Error","TYPE_HANDSHAKE_ACK","sys","heartbeat","protos","version","server","client","clearTimeout","heartbeatTimeoutCb","gap","is_call","is_bubble","Stop","clearInterval","handshakeBuffer","rsa","_email","pwd","is_r","login_email","login_pwd","onLogin","loginToken","xyUpdate","send_msg","send_channel","getMylogs","getMyFb","upLevelUserSkill","fbProcess","move","x","nextMap","moveToNewMap","getAllCombatScreen","cbatid","tid","roundOperating","attack_id","mtid","parm","getMyGoods","page","playerSellGoods","ugid","price","count","selectMyTitle","getMyTitle","getMyPet","wbt","getCopyTask","getMySkill","repairUserArms","getUserTask","gid","userInfo","wearUserEquipment","ueid","payUserTask","utid","turnIntoPet","pid","getSystemSellGoods","pageIndex","shelfMyGoods","getPlayerSellGoods","select","byPalyerGoods","usgid","byGoodsToSystem","getSystemTask","subSystemMsg","makeGoods","selectGoodsArr","arr","sellGoods","playUserPet","upUserPetLevel","point","parms","int","agi","vit","con","allocationPoint","getUserEqs","updateUserPrice","is_show","getRankList","initFation","createFation","applyForFation","fid","doneFationApply","fation_apply_id","faid","upUserFationLevel","uid","getFationList","getFationApply","showFationUserList","leaveFation","upFationUserSkill","donateFationFunds","getFationTask","upFation","closeUserTask","allSellGoods","resetAttribute","getNewPet","a_id","b_id","ids","fitPet","addUserPetSkill","upid","getMyPetSkillGoods","freshPackage","_app","app","buildUserTasks","userTasks","taskList","task","give","give_goods","give_goods_num","contribution_num","need","needGoods","have_count","need_count","title","emptyCb","sendValidateCode","fetch","rs","json","loginCb","userEqs","moveToNewMapCb","createdTeamCb","leaveTeamCb","$delete","addTeamCb","onMyTeamReloadCb","new_uid","getTeamListCb","ts","switchCombatScreenCb","onStartBatCb","catchTarget","battleUnit","initData","catchList","catchType","catchPetBySkill","catchPet","bu","skilltype","skillid","onRoundBatEndCb","setMessage","chatSendCb","onChatMsgCb","getMyGoodsCb","goods","good","highcbt","goodsType","goods_type","expand","goodsPage","byGoodsToSystemCb","useGoodsCb","polyLinCb","allSellGoodsCb","sellGoodsCb","wearUserEquipmentCb","upPlayerLevelCb","userInfoCb","nextLevelGetExp","getMySkillCb","arms","typeMap","0","1","2","3","levelMap","4","5","6","7","arms_exp","typeName","arms_level","needExp","upLevelUserSkillCb","allocationPointCb","getSystemTaskCb","getCopyTaskCb","getUserTaskCb","payUserTaskCb","wbtCb","wbtResult","content","makeGoodsCb","getMyPetCb","a","b","upUserPetLevelCb","playUserPetCb","turnIntoPetCb","getNewPetCb","fitPetCb","addUserPetSkillCb","playerSellGoodsCb","sell","getPlayerSellGoodsCb","playerSellUser","market","good_map_type","keyword","sell_game_gold","$Spin","hide","getSystemSellGoodsCb","shop","shopPage","searchText","selected","goodsHandle","_f","selectGood","handleWearItem","handleSellGoods","selectedGoods","handleSellItem","modal","confirmHandle","bagInit","ele","obj","eq_info","useItem_mixin","sellPrice","res","val","img","eqsInfo","handlerMarketSearch","toFixed","getEqsInfo_mixin","handleByGoods","gdsList","$forceUpdate","show","tabPaneName","columns","handlePet","bat_num","handleData","pet1","pet2","label","selectPet1","selectPet2","filters","disabled","petsInfo","pets","petList","options","pet","bookList","points","arm","upSkillNum","upSkillType","handleFationSkill","等级","经验","round","气血","hp_cap","魔法","mp","命中","hit","物理伤害","physical_damage","物理防御","physical_defense","魔法伤害","magic_damage","魔法防御","magic_defense","治疗能力","restore_damage","速度","speed","物理暴击","physical_crit","法术暴击","magic_crit","体质","魔力","力量","耐力","敏捷","潜力","躲避","dodge","活力","气血储备","魔法储备","宝宝经验","pet_exp","currentGood","isCompose","skl","handleAutoChange","screenMonster","monsterName","catchRate","screenMonsterMap","interval","smm","catchSuccess","catchFail","lockPet","myPetIds","catchSkillCopy","checkScreenHasPet","monsterList","checkScreenHasSkill","checkPetInScreen","switchCombat","petId","catchSkills","cs","nextSkill","screenId","monsterScreen","discardPet","gainExp","roundCount","fightCount","saveStorageUserInfo","toMap","btId","mapid","btMaps","unuse","fightTime","avgExp","avgFightCount","regHooks","initUser","messageTime","getStorageAccount","localStorage","setItem","getStorageUserInfo","getDateTime","round_arr","ra","a_skill_type","a_trigger","trigger","a_name","belong","hurt_type","die_arr","win","player_reward","reward","gname","pointNum","full","date","getHours","getMinutes","getSeconds","toString","padStart","Vue","use","VueRouter","routes","path","Home","User","router","Vuex","Store","state","mutations","actions","addStyle_mixin","arr1","arr2","getIndex_mixin","readUse","render","eq_data","佩戴等级","wear_level","特技","评分","score","element","viewDesign","mixin","mixins","productionTip","store","h","App","$mount","define","require","ByteArray","global","PKG_HEAD_BYTES","MSG_FLAG_BYTES","MSG_ROUTE_CODE_BYTES","MSG_ROUTE_LEN_BYTES","MSG_ROUTE_CODE_MAX","MSG_COMPRESS_ROUTE_MASK","MSG_TYPE_MASK","TYPE_RESPONSE","TYPE_PUSH","byteArray","offset","charCode","charCodeAt","codes","_buffer","copyArray","buffer","array","end","chunk","String","fromCharCode","idBytes","msgHasId","caculateMsgIdBytes","msgLen","msgHasRoute","encodeMsgFlag","encodeMsgId","encodeMsgRoute","encodeMsgBody","bytesLen","byteLength","pow","routeLen","bodyLen","dest","doffset","src","soffset","copy","len","tmp","Buffer","Uint8Array"],"mappings":"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","file":"static/js/app.ae58f1dd.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pet.vue?vue&type=style&index=0&id=90cf5b4e&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pet.vue?vue&type=style&index=0&id=90cf5b4e&lang=less&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=style&index=0&id=709aa2bc&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=style&index=0&id=709aa2bc&lang=less&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./bag.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./bag.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"app\">\r\n    <router-view/>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  mounted () {\r\n    this.$Message.config({\r\n      background: true,\r\n      duration: 3\r\n    })\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\">\r\nhtml, body, #app {\r\n  font-family: Avenir, Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  color: #2c3e50;\r\n  width: 100%;\r\n  height: 100%;\r\n  padding: 0;\r\n}\r\n.ivu-card-body {\r\n  width: 100%;\r\n  height: calc(100% - 51px);\r\n  padding: 8px!important;\r\n}\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=1b92e817&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('Form',{ref:\"formInline\",attrs:{\"model\":_vm.formInline,\"inline\":\"\"}},[_c('FormItem',{staticClass:\"formitem\",attrs:{\"prop\":\"user\"}},[_c('Input',{attrs:{\"type\":\"text\",\"placeholder\":\"账号\"},model:{value:(_vm.formInline.user),callback:function ($$v) {_vm.$set(_vm.formInline, \"user\", $$v)},expression:\"formInline.user\"}})],1),_c('FormItem',{staticClass:\"formitem\",attrs:{\"prop\":\"password\"}},[_c('Input',{attrs:{\"type\":\"password\",\"placeholder\":\"密码\"},model:{value:(_vm.formInline.password),callback:function ($$v) {_vm.$set(_vm.formInline, \"password\", $$v)},expression:\"formInline.password\"}})],1),_c('FormItem',[_c('Button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.handleLogin}},[_vm._v(\"添加账号\")])],1),_c('FormItem',[_c('Button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){_vm.showSkillMap = true}}},[_vm._v(\"技能图鉴\")])],1),_c('FormItem',[_c('Button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){_vm.showMonsterMap = true}}},[_vm._v(\"怪物图鉴\")])],1),_c('FormItem',[_c('Button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){_vm.showScreensContent = true}}},[_vm._v(\"副本资料\")])],1),_c('FormItem',[_vm._v(\" 弹幕 \"),_c('i-switch',{model:{value:(_vm.openDm),callback:function ($$v) {_vm.openDm=$$v},expression:\"openDm\"}},[_c('span',{attrs:{\"slot\":\"open\"},slot:\"open\"},[_vm._v(\"开\")]),_c('span',{attrs:{\"slot\":\"close\"},slot:\"close\"},[_vm._v(\"关\")])])],1),_c('FormItem',[(_vm.openDm)?_c('Input',{attrs:{\"search\":\"\",\"enter-button\":\"发送\",\"placeholder\":\"快来发送弹幕吧\"},on:{\"on-search\":_vm.handleSendChat},model:{value:(_vm.sendMsg),callback:function ($$v) {_vm.sendMsg=$$v},expression:\"sendMsg\"}}):_vm._e()],1),_c('FormItem',[_vm._v(\" 无限挂机 \"),_c('i-switch',{model:{value:(_vm.forever),callback:function ($$v) {_vm.forever=$$v},expression:\"forever\"}})],1),_c('br')],1),_c('div',{staticClass:\"card-container\"},[_c('Row',{attrs:{\"gutter\":8}},_vm._l((_vm.userList),function(user,index){return _c('Col',{key:user.email,attrs:{\"xs\":24,\"md\":12,\"xl\":8,\"xxl\":8}},[_c('Card',{staticClass:\"card\",attrs:{\"title\":user.email}},[_c('div',{attrs:{\"slot\":\"extra\"},slot:\"extra\"},[(user.isLogin)?_c('a',{on:{\"click\":function($event){return _vm.handleReload(index)}}},[_vm._v(\"重新加载\")]):_vm._e(),_vm._v(\" \"),(user.isLogin)?_c('a',{on:{\"click\":function($event){user.isLogin = false}}},[_vm._v(\"登出\")]):_vm._e(),_vm._v(\" \"),(!user.isLogin)?_c('a',{on:{\"click\":function($event){user.isLogin = true}}},[_vm._v(\"登入\")]):_vm._e(),_vm._v(\" \"),_c('a',{on:{\"click\":function($event){return _vm.deleteUser(user.email)}}},[_vm._v(\"删除\")])]),(user.isLogin)?_c('iframe',{ref:\"userFrame\",refInFor:true,attrs:{\"src\":(_vm.baseUrl + \"#/user/\" + (user.email))},on:{\"load\":function (e) { return _vm.frameLoad(index); }}}):_vm._e()])],1)}),1)],1),_c('div',_vm._l((_vm.msgDm),function(msg){return _c('Tag',{key:msg.key,staticClass:\"dm\",style:({ top: ((msg.top * 32) + \"px\"), display: _vm.openDm? 'block': 'none' }),attrs:{\"color\":msg.color,\"size\":\"large\"}},[_vm._v(\" \"+_vm._s(msg.nickname || '系统')+\"：\"),_c('label',{domProps:{\"innerHTML\":_vm._s(msg.msg)}})])}),1),_c('Drawer',{attrs:{\"mask\":false,\"width\":\"300px\",\"title\":\"技能图鉴\"},model:{value:(_vm.showSkillMap),callback:function ($$v) {_vm.showSkillMap=$$v},expression:\"showSkillMap\"}},[_c('SkillMapComponent',{attrs:{\"skillMap\":_vm.skillMap}})],1),_c('Drawer',{attrs:{\"mask\":false,\"width\":\"400px\",\"title\":\"副本资料\",\"placement\":\"left\"},model:{value:(_vm.showScreensContent),callback:function ($$v) {_vm.showScreensContent=$$v},expression:\"showScreensContent\"}},[_c('ScreensComponent',{attrs:{\"screens\":_vm.screens}})],1),_c('Drawer',{attrs:{\"mask\":false,\"width\":\"675px\",\"title\":\"宠物图鉴\",\"draggable\":\"\"},model:{value:(_vm.showMonsterMap),callback:function ($$v) {_vm.showMonsterMap=$$v},expression:\"showMonsterMap\"}},[(_vm.showMonsterMap)?_c('MonsterMapComponent',{attrs:{\"skillMap\":_vm.skillMap}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.screens.length === 0)?_c('p',[_vm._v(\"你得至少登录一个账号，我才能拿到数据\")]):_vm._e(),_vm._l((_vm.screens),function(screen){return _c('Card',{key:screen._id,staticStyle:{\"margin-bottom\":\"8px\"},attrs:{\"title\":screen.name}},[_c('p',[_vm._v(\"队伍最大人数：\"+_vm._s(screen.player_num))]),_c('p',[_vm._v(\"怪物等级：\"+_vm._s(screen.min_level)+\" ~ \"+_vm._s(screen.max_level))]),_c('p',[_vm._v(\"出没怪物： \"),_vm._l((screen.monster),function(monsterId,i){return _c('Tag',{key:(i + \"-\" + monsterId),attrs:{\"color\":\"magenta\"}},[_vm._v(\" \"+_vm._s(_vm.getMonster(monsterId, screen.name))+\" \")])})],2),_c('p',[_vm._v(\"掉落物品： \"),_vm._l((screen.must_goods),function(gds){return _c('Tag',{key:(\"must-\" + (gds._id)),attrs:{\"color\":\"purple\"}},[_vm._v(\" \"+_vm._s(gds.name)+\"[100%] \")])}),_vm._l((screen.random_goods),function(gds,i){return _c('Tag',{key:gds._id,attrs:{\"color\":\"cyan\"}},[_vm._v(\" \"+_vm._s(gds.name)+\"[\"+_vm._s(screen.random_arr[i].rate * 100)+\"%] \")])})],2)])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <p v-if=\"screens.length === 0\">你得至少登录一个账号，我才能拿到数据</p>\r\n    <Card v-for=\"screen in screens\" :key=\"screen._id\" :title=\"screen.name\" style=\"margin-bottom: 8px;\">\r\n      <p>队伍最大人数：{{screen.player_num}}</p>\r\n      <p>怪物等级：{{screen.min_level}} ~ {{screen.max_level}}</p>\r\n      <p>出没怪物：\r\n        <Tag v-for=\"(monsterId, i) in screen.monster\" :key=\"`${i}-${monsterId}`\" color=\"magenta\">\r\n          {{getMonster(monsterId, screen.name)}}\r\n        </Tag>\r\n      </p>\r\n      <p>掉落物品：\r\n        <Tag v-for=\"gds in screen.must_goods\" :key=\"`must-${gds._id}`\" color=\"purple\">\r\n          {{gds.name}}[100%]\r\n        </Tag>\r\n        <Tag v-for=\"(gds, i) in screen.random_goods\" :key=\"gds._id\" color=\"cyan\">\r\n          {{gds.name}}[{{screen.random_arr[i].rate * 100}}%]\r\n        </Tag>\r\n      </p>\r\n    </Card>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'screens',\r\n  props: {\r\n    screens: { type: Array, default: () => [] }\r\n  },\r\n  data () {\r\n    return {}\r\n  },\r\n  methods: {\r\n    getMonster (monsterId, screenName) {\r\n      const monster = window.monsterData.data.find(md => md._id === monsterId)\r\n      if (!monster) return '无数据';\r\n      monster.map = screenName;\r\n      return monster.name;\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./screens.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./screens.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./screens.vue?vue&type=template&id=046cba22&scoped=true&\"\nimport script from \"./screens.vue?vue&type=script&lang=js&\"\nexport * from \"./screens.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"046cba22\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Form',{ref:\"formInline\",attrs:{\"inline\":\"\"}},[_c('FormItem',[_c('Select',{attrs:{\"filterable\":\"\",\"multiple\":\"\",\"placeholder\":\"怪物包含的技能\"},model:{value:(_vm.monsterSearch.skills),callback:function ($$v) {_vm.$set(_vm.monsterSearch, \"skills\", $$v)},expression:\"monsterSearch.skills\"}},_vm._l((_vm.skillMap),function(value,key){return _c('Option',{key:key,attrs:{\"value\":key}},[_vm._v(_vm._s(key))])}),1)],1),_c('FormItem',[_c('Select',{attrs:{\"multiple\":\"\",\"placeholder\":\"怪物品质\"},model:{value:(_vm.monsterSearch.rare),callback:function ($$v) {_vm.$set(_vm.monsterSearch, \"rare\", $$v)},expression:\"monsterSearch.rare\"}},_vm._l((_vm.rareType),function(txt,i){return _c('Option',{key:txt,attrs:{\"value\":i}},[_vm._v(_vm._s(txt))])}),1)],1),_c('FormItem',[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handlerSearchMonster}},[_vm._v(\"搜索\")])],1)],1),(_vm.monsterMap.length === 0)?_c('h1',[_vm._v(\"没有结果，你得重新搜索\")]):_vm._e(),_vm._l((_vm.monsterMap),function(monster){return _c('Card',{key:monster._id,staticStyle:{\"margin\":\"0 8px 8px 0\",\"display\":\"inline-block\",\"width\":\"200px\",\"vertical-align\":\"top\"},attrs:{\"title\":monster.name}},[_c('p',[_vm._v(\"等级：\"+_vm._s(monster.level || '作者没写'))]),_c('p',[_vm._v(\"出没副本：\"+_vm._s(monster.map || '作者没写'))]),_c('p',[_vm._v(\"成长：\"+_vm._s(monster.growing_num))]),_c('p',[_vm._v(\"品质：\"+_vm._s(_vm.rareType[monster.type]))]),_c('p',[_vm._v(\"躲避资质：\"+_vm._s(monster.dodge_zz))]),_c('p',[_vm._v(\"攻击资质：\"+_vm._s(monster.str_zz))]),_c('p',[_vm._v(\"法力资质：\"+_vm._s(monster.int_zz))]),_c('p',[_vm._v(\"体力资质：\"+_vm._s(monster.con_zz))]),_c('p',[_vm._v(\"防御资质：\"+_vm._s(monster.vit_zz))]),_c('p',[_vm._v(\"速度资质：\"+_vm._s(monster.speed_zz))]),_c('p',[_vm._v(\"躲避资质：\"+_vm._s(monster.dodge_zz))]),(monster.skill && monster.skill.length > 0)?[_c('p',[_vm._v(\"携带技能：\")]),_vm._l((monster.skill),function(skill){return _c('Tooltip',{key:(\"\" + (monster._id) + (skill._id)),attrs:{\"word-wrap\":\"\"}},[_c('Tag',{attrs:{\"color\":\"primary\",\"type\":\"border\"}},[_vm._v(\" \"+_vm._s(skill.name)+\" \")]),_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_vm._v(\" \"+_vm._s(skill.info)+\" \")])],1)})]:_vm._e()],2)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <Form ref=\"formInline\" inline>\r\n      <FormItem>\r\n        <Select v-model=\"monsterSearch.skills\" filterable multiple placeholder=\"怪物包含的技能\">\r\n          <Option\r\n            v-for=\"(value, key) in skillMap\"\r\n            :key=\"key\"\r\n            :value=\"key\"\r\n          >{{key}}</option>\r\n        </Select>\r\n      </FormItem>\r\n      <FormItem>\r\n        <Select v-model=\"monsterSearch.rare\" multiple placeholder=\"怪物品质\">\r\n          <Option\r\n            v-for=\"(txt, i) in rareType\"\r\n            :key=\"txt\"\r\n            :value=\"i\"\r\n          >{{txt}}</option>\r\n        </Select>\r\n      </FormItem>\r\n      <FormItem>\r\n        <Button type=\"primary\" @click=\"handlerSearchMonster\">搜索</Button>\r\n      </FormItem>\r\n    </Form>\r\n    <h1 v-if=\"monsterMap.length === 0\">没有结果，你得重新搜索</h1>\r\n    <Card\r\n      v-for=\"monster in monsterMap\"\r\n      :key=\"monster._id\"\r\n      style=\"margin: 0 8px 8px 0;display:inline-block;width: 200px;vertical-align: top;\"\r\n      :title=\"monster.name\"\r\n    >\r\n      <p>等级：{{monster.level || '作者没写'}}</p>\r\n      <p>出没副本：{{monster.map || '作者没写'}}</p>\r\n      <p>成长：{{monster.growing_num}}</p>\r\n      <p>品质：{{rareType[monster.type]}}</p>\r\n      <p>躲避资质：{{monster.dodge_zz}}</p>\r\n      <p>攻击资质：{{monster.str_zz}}</p>\r\n      <p>法力资质：{{monster.int_zz}}</p>\r\n      <p>体力资质：{{monster.con_zz}}</p>\r\n      <p>防御资质：{{monster.vit_zz}}</p>\r\n      <p>速度资质：{{monster.speed_zz}}</p>\r\n      <p>躲避资质：{{monster.dodge_zz}}</p>\r\n      <template v-if=\"monster.skill && monster.skill.length > 0\">\r\n        <p>携带技能：</p>\r\n        <Tooltip v-for=\"skill in monster.skill\" :key=\"`${monster._id}${skill._id}`\" word-wrap>\r\n          <Tag color=\"primary\" type=\"border\">\r\n            {{skill.name}}\r\n          </Tag>\r\n          <div slot=\"content\">\r\n            {{skill.info}}\r\n          </div>\r\n        </Tooltip>\r\n      </template>\r\n    </Card>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'monster-map',\r\n  props: {\r\n    skillMap: { type: Object, default: () => ({}) }\r\n  },\r\n  data () {\r\n    return {\r\n      monsterMap: [],\r\n      monsterSearch: {}\r\n    }\r\n  },\r\n  methods: {\r\n    handlerSearchMonster () {\r\n      const mdata = window.monsterData.data;\r\n      const { skills, rare } = this.monsterSearch;\r\n      this.monsterMap = mdata.filter(d => {\r\n        let flag = true;\r\n        if (rare && rare.length > 0) {\r\n          flag = rare.includes(d.type);\r\n        }\r\n        if (flag && skills && skills.length > 0) {\r\n          if (d.skill) {\r\n            flag = d.skill.some(skl => skills.includes(skl.name));\r\n          } else {\r\n            flag = false;\r\n          }\r\n        }\r\n        return flag;\r\n      }).sort((n, m) => n.growing_num - m.growing_num);\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./monster-map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./monster-map.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./monster-map.vue?vue&type=template&id=a6e8c57e&scoped=true&\"\nimport script from \"./monster-map.vue?vue&type=script&lang=js&\"\nexport * from \"./monster-map.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a6e8c57e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h3',{staticStyle:{\"padding-bottom\":\"16px\"}},[_vm._v(\" 筛选： \"),_c('Dropdown',{on:{\"on-click\":function (name) { return _vm.skillType = name; }}},[_c('a',[_vm._v(\" \"+_vm._s(_vm.skillType)+\" \")]),_c('DropdownMenu',{attrs:{\"slot\":\"list\"},slot:\"list\"},[_c('DropdownItem',{attrs:{\"name\":\"全部\"}},[_vm._v(\"全部\")]),_c('DropdownItem',{attrs:{\"name\":\"物理\"}},[_vm._v(\"物理\")]),_c('DropdownItem',{attrs:{\"name\":\"魔法\"}},[_vm._v(\"魔法\")]),_c('DropdownItem',{attrs:{\"name\":\"治疗\"}},[_vm._v(\"治疗\")]),_c('DropdownItem',{attrs:{\"name\":\"被动\"}},[_vm._v(\"被动\")])],1)],1)],1),_vm._l((_vm.skillList),function(value){return _c('Card',{key:value.name,staticStyle:{\"margin-bottom\":\"8px\"},attrs:{\"title\":value.name}},[_c('p',[_vm._v(_vm._s(value.info))]),_c('p',[_vm._v(\" 技能类型：\"+_vm._s((function () { var txt = '被动'; switch (value.hurt_field) { case \"magic_damage\": txt = '魔法'; break; case \"physical_damage\": txt = '物理'; break; case \"restore_damage\": txt = '治疗'; break } return txt; })())+\" \")]),(value.unit === value.unit_highest)?_c('p',[_vm._v(\" 作用单位：\"+_vm._s(value.unit)+\" \")]):_c('p',[_vm._v(\" 作用单位：\"+_vm._s(value.unit)+\" ~ \"+_vm._s(value.unit_highest)+\" \")]),(value.real_damage)?_c('p',[_vm._v(\"基础伤害：\"+_vm._s(value.real_damage))]):_vm._e(),_c('p',[_vm._v(\"伤害波动：\"+_vm._s(value.min_hurt)+\" ~ \"+_vm._s(value.max_hurt))]),(value.consume_num)?_c('p',[_vm._v(\"消耗：\"+_vm._s(value.consume_num)+\"魔法\")]):_vm._e(),_c('p',[_vm._v(\"加入时间：\"),_c('Time',{attrs:{\"time\":value.created_at}})],1)])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <h3 style=\"padding-bottom: 16px;\">\r\n      筛选：\r\n      <Dropdown @on-click=\"name => skillType = name\">\r\n        <a>\r\n          {{skillType}}\r\n        </a>\r\n        <DropdownMenu slot=\"list\">\r\n          <DropdownItem name=\"全部\">全部</DropdownItem>\r\n          <DropdownItem name=\"物理\">物理</DropdownItem>\r\n          <DropdownItem name=\"魔法\">魔法</DropdownItem>\r\n          <DropdownItem name=\"治疗\">治疗</DropdownItem>\r\n          <DropdownItem name=\"被动\">被动</DropdownItem>\r\n        </DropdownMenu>\r\n      </Dropdown>\r\n    </h3>\r\n    <Card\r\n      v-for=\"value in skillList\"\r\n      :key=\"value.name\"\r\n      :title=\"value.name\"\r\n      style=\"margin-bottom: 8px;\"\r\n    >\r\n      <p>{{value.info}}</p>\r\n      <p>\r\n        技能类型：{{(() => {\r\n          let txt = '被动';\r\n          switch (value.hurt_field) {\r\n            case \"magic_damage\":\r\n              txt = '魔法';\r\n              break;\r\n            case \"physical_damage\":\r\n              txt = '物理';\r\n              break;\r\n            case \"restore_damage\":\r\n              txt = '治疗';\r\n              break\r\n          }\r\n          return txt;\r\n        })()}}\r\n      </p>\r\n      <p v-if=\"value.unit === value.unit_highest\">\r\n        作用单位：{{value.unit}}\r\n      </p>\r\n      <p v-else>\r\n        作用单位：{{value.unit}} ~ {{value.unit_highest}}\r\n      </p>\r\n      <p v-if=\"value.real_damage\">基础伤害：{{value.real_damage}}</p>\r\n      <p>伤害波动：{{value.min_hurt}} ~ {{value.max_hurt}}</p>\r\n      <p v-if=\"value.consume_num\">消耗：{{value.consume_num}}魔法</p>\r\n      <p>加入时间：<Time :time=\"value.created_at\" /></p>\r\n    </Card>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'skill-map',\r\n  props: {\r\n    skillMap: { type: Object, default: () => ({}) }\r\n  },\r\n  data () {\r\n    return {\r\n      skillType: '技能类型'\r\n    }\r\n  },\r\n  computed: {\r\n    skillList () {\r\n      let list = Object.keys(this.skillMap).map(key => this.skillMap[key]).sort((a, b) => a.level - b.level);\r\n      switch (this.skillType) {\r\n        case '物理':\r\n          list = list.filter(l => l.hurt_field === 'physical_damage');\r\n          break;\r\n        case '魔法':\r\n          list = list.filter(l => l.hurt_field === 'magic_damage');\r\n          break;\r\n        case '治疗':\r\n          list = list.filter(l => l.hurt_field === 'restore_damage');\r\n          break;\r\n        case '被动':\r\n          list = list.filter(l => !l.hurt_field);\r\n          break;\r\n      }\r\n      return list;\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./skill-map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./skill-map.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./skill-map.vue?vue&type=template&id=2e321d12&scoped=true&\"\nimport script from \"./skill-map.vue?vue&type=script&lang=js&\"\nexport * from \"./skill-map.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2e321d12\",\n  null\n  \n)\n\nexport default component.exports","export default {\r\n  \"core\": {\r\n      \"ext_url\": \"https://github.com/imdong/YunDingOnlineSDK/raw/master/auto_login.user.js\",\r\n      \"official_login\": \"http://yundingxx.com:3366/login\"\r\n  },\r\n  \"maps\": window.globalMaps\r\n}","import configData from \"@/config.js\";\r\n\r\nexport const sleep = function (method) {\r\n  const start = Number(Date.now())\r\n  return new Promise((resolve) => {\r\n    (function selfRecursion () {\r\n      setTimeout(() => {\r\n        let flag\r\n        if (typeof method === 'function') {\r\n          flag = !method()\r\n        }\r\n        if (typeof method === 'number') {\r\n          flag = Number(Date.now()) - start < method\r\n        }\r\n        if (flag) {\r\n          selfRecursion()\r\n        } else {\r\n          resolve()\r\n        }\r\n      }, 10)\r\n    })()\r\n  })\r\n}\r\n\r\nexport const findMapPath = function (nowid, toid) {\r\n  const maps = configData.maps\r\n  const topath = []\r\n\r\n  function circleCalcle (nid, pre = []) {\r\n    const { up, next } = maps.find(m => m.id === nid)\r\n    const allId = up.concat(next)\r\n    if (pre.length > 0 && !allId.some(id => id === pre[pre.length - 1])) return\r\n    allId.filter(id => !pre.some(p => p === id)).map(id => {\r\n      if (id === toid) {\r\n        topath.push([...pre, nid, id])\r\n        return\r\n      }\r\n      circleCalcle(id, [...pre, nid])\r\n    })\r\n  }\r\n\r\n  circleCalcle(nowid)\r\n  const nicePath = topath.sort((n, m) => n.length - m.length)[0]\r\n  nicePath.splice(0, 1)\r\n  return nicePath.map(id => maps.find(m => m.id === id))\r\n}\r\n\r\nexport const randomNum = function (minNum , maxNum = Infinity, exclude = []) {\r\n  let result = parseInt(Math.random() * (maxNum - minNum + 1) + minNum, 10)\r\n  if (exclude.length >= (maxNum - minNum)) {\r\n    return null\r\n  }\r\n  if (exclude.includes(result)) {\r\n    result = randomNum(minNum, maxNum, exclude)\r\n  }\r\n  return result\r\n}","<template>\r\n  <div class=\"home\">\r\n    <Form\r\n      ref=\"formInline\"\r\n      :model=\"formInline\"\r\n      inline\r\n    >\r\n      <FormItem prop=\"user\" class=\"formitem\">\r\n        <Input type=\"text\" v-model=\"formInline.user\" placeholder=\"账号\" />\r\n      </FormItem>\r\n      <FormItem prop=\"password\" class=\"formitem\">\r\n        <Input type=\"password\" v-model=\"formInline.password\" placeholder=\"密码\"/>\r\n      </FormItem>\r\n      <FormItem>\r\n        <Button type=\"primary\" size=\"small\" @click=\"handleLogin\">添加账号</Button>\r\n      </FormItem>\r\n      <FormItem>\r\n        <Button type=\"primary\" size=\"small\" @click=\"showSkillMap = true\">技能图鉴</Button>\r\n      </FormItem>\r\n      <FormItem>\r\n        <Button type=\"primary\" size=\"small\" @click=\"showMonsterMap = true\">怪物图鉴</Button>\r\n      </FormItem>\r\n      <FormItem>\r\n        <Button type=\"primary\" size=\"small\" @click=\"showScreensContent = true\">副本资料</Button>\r\n      </FormItem>\r\n      <FormItem>\r\n        弹幕\r\n        <i-switch v-model=\"openDm\">\r\n          <span slot=\"open\">开</span>\r\n          <span slot=\"close\">关</span>\r\n        </i-switch>\r\n      </FormItem>\r\n      <FormItem>\r\n        <Input v-if=\"openDm\" search enter-button=\"发送\" placeholder=\"快来发送弹幕吧\" @on-search=\"handleSendChat\" v-model=\"sendMsg\"/>\r\n      </FormItem>\r\n      <FormItem>\r\n        无限挂机\r\n        <i-switch\r\n          v-model=\"forever\"\r\n        />\r\n      </FormItem>\r\n      <br />\r\n      <!-- <FormItem label=\"每日计划：\" style=\"width:100%\">\r\n        <CheckboxGroup v-model=\"dayPlan\">\r\n          <Checkbox\r\n            v-for=\"option in dayPlanOptions\"\r\n            :key=\"option.label\"\r\n            border\r\n            :label=\"option.value\"\r\n          >\r\n            {{option.label}}\r\n            <span v-if=\"option.isDone.length\">\r\n              {{option.isDone.join(',')}}√\r\n            </span>\r\n          </Checkbox>\r\n        </CheckboxGroup>\r\n      </FormItem> -->\r\n    </Form>\r\n    <div class=\"card-container\">\r\n      <Row :gutter=\"8\">\r\n          <Col\r\n            :xs=\"24\"\r\n            :md=\"12\"\r\n            :xl=\"8\"\r\n            :xxl=\"8\"\r\n            v-for=\"(user, index) in userList\"\r\n            :key=\"user.email\"\r\n          >\r\n            <Card :title=\"user.email\" class=\"card\">\r\n              <div slot=\"extra\">\r\n                <a v-if=\"user.isLogin\" @click=\"handleReload(index)\">重新加载</a>\r\n                &nbsp;\r\n                <a v-if=\"user.isLogin\" @click=\"user.isLogin = false\">登出</a>\r\n                &nbsp;\r\n                <a v-if=\"!user.isLogin\" @click=\"user.isLogin = true\">登入</a>\r\n                &nbsp;\r\n                <a @click=\"deleteUser(user.email)\">删除</a>\r\n              </div>\r\n              <iframe\r\n                v-if=\"user.isLogin\"\r\n                ref=\"userFrame\"\r\n                :src=\"`${baseUrl}#/user/${user.email}`\"\r\n                @load=\"e => frameLoad(index)\"\r\n              />\r\n            </Card>\r\n          </Col>\r\n      </Row>\r\n    </div>\r\n    <div>\r\n      <Tag\r\n        v-for=\"msg in msgDm\"\r\n        :key=\"msg.key\"\r\n        class=\"dm\"\r\n        :style=\"{ top: `${msg.top * 32}px`, display: openDm? 'block': 'none' }\"\r\n        :color=\"msg.color\"\r\n        size=\"large\"\r\n      >\r\n        {{msg.nickname || '系统'}}：<label v-html=\"msg.msg\" />\r\n      </Tag>\r\n    </div>\r\n    <Drawer\r\n      v-model=\"showSkillMap\"\r\n      :mask=\"false\"\r\n      width=\"300px\"\r\n      title=\"技能图鉴\"\r\n    >\r\n      <SkillMapComponent :skillMap=\"skillMap\" />\r\n    </Drawer>\r\n    <Drawer\r\n      v-model=\"showScreensContent\"\r\n      :mask=\"false\"\r\n      width=\"400px\"\r\n      title=\"副本资料\"\r\n      placement=\"left\"\r\n    >\r\n      <ScreensComponent :screens=\"screens\" />\r\n    </Drawer>\r\n    <Drawer\r\n      v-model=\"showMonsterMap\"\r\n      :mask=\"false\"\r\n      width=\"675px\"\r\n      title=\"宠物图鉴\"\r\n      draggable\r\n    >\r\n      <MonsterMapComponent v-if=\"showMonsterMap\" :skillMap=\"skillMap\" />\r\n    </Drawer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nconst now = Date.now();\r\nlet lastServerChanSend = 0;\r\n\r\nimport ScreensComponent from '@components/screens.vue';\r\nimport MonsterMapComponent from '@components/monster-map.vue';\r\nimport SkillMapComponent from '@components/skill-map.vue';\r\nimport { sleep, randomNum } from \"@libs/tools\";\r\nexport default {\r\n  name: 'Home',\r\n  components: { ScreensComponent, MonsterMapComponent, SkillMapComponent },\r\n  data () {\r\n    return {\r\n      randomNum,\r\n      baseUrl: `${location.origin}${location.pathname}`,\r\n      formInline: {\r\n        user: '',\r\n        password: ''\r\n      },\r\n      userList: [],\r\n      openDm: true,\r\n      msgList: [],\r\n      msgDm: [],\r\n      sendMsg: '',\r\n      dmline: 0,\r\n      showSkillMap: false,\r\n      skillMap: {},\r\n      showMonsterMap: false,\r\n      showScreensContent: false,\r\n      screens: [],\r\n      dayPlan: [],\r\n      forever: false,\r\n      dayPlanOptions: [\r\n        { label: '荆棘之海', value: '5eecd6110ec93271652d2940', isDone: [] },\r\n        { label: '每日冒险', value: '5eef5927a447f4ad9b833648', isDone: [] },\r\n        { label: '深渊幻镜', value: '5ef9ff6669e97e5e22ccd5c5', isDone: [] },\r\n        { label: '宝藏山', value: '5efe93c6075268219ac2e630', isDone: [] },\r\n        { label: '鹊仙桥', value: '5f44e054e7c88d4126a9df14', isDone: [] }\r\n      ]\r\n    }\r\n  },\r\n  watch: {\r\n    'msgList.length': {\r\n      deep: true,\r\n      handler (length) {\r\n        if (length === 0) return\r\n        const dm = this.msgList[length - 1]\r\n        if (this.msgDm.some(md => md.msg === dm.msg)) return\r\n        dm.top = this.randomNum(0, this.dmline)\r\n        dm.color = this.getDmColor(dm)\r\n        this.msgDm.push(dm)\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    // 加载历史账号s\r\n    const users = this.getStorageUser();\r\n    const userList = []\r\n    Object.keys(users).forEach((email) => {\r\n      userList.push({ email, isLogin: true, password: users[email] });\r\n    });\r\n    this.userList = userList\r\n\r\n    this.dmline = Math.floor(window.document.body.offsetHeight / 36) - 1\r\n    window.addEventListener('resize', () => {\r\n      this.dmline = Math.floor(window.document.body.offsetHeight / 36) - 1\r\n    })\r\n\r\n    let startTime = Date.now();\r\n    let planCheckTimes = 0;\r\n    const fullTeamLeader = [];\r\n    const teammateNotInTeam = [];\r\n    // 每隔12秒检测有没有队伍\r\n    setInterval(() => {\r\n      if (!this.forever) return;\r\n      \r\n      // 每24个小时执行一次\r\n      if ((Date.now() - startTime) > 24 * 60 * 60 * 1000) { // 24 * 60 * 60 * 1000) {\r\n        this.dayPlanOptions.map(dpo => dpo.isDone = []);\r\n        startTime = Date.now();\r\n      }\r\n\r\n      const { dayPlan, dayPlanOptions } = this;\r\n      const frames = this.$refs['userFrame'];\r\n      frames.map(fms => {\r\n        const { user, game } = fms.contentWindow\r\n        if (!user || !game) return;\r\n\r\n        if (user.team) {\r\n          // 队长判断\r\n          if (user.isleader) {\r\n            // 满队且自己队友加不进的情况下就解散队伍重组\r\n            const fullIndex = fullTeamLeader.findIndex(ftl => ftl == user.email);\r\n            if (fullIndex > -1) {\r\n              game.leaveTeam();\r\n              fullTeamLeader.splice(fullIndex, 1);\r\n              return\r\n            }\r\n            \r\n            // 队员掉队找不到队伍了，队长这里却满员，刷新一下重新接收队伍信息即可解决\r\n            const teamnotInIndex = teammateNotInTeam.findIndex(tnit => tnit == user.email);\r\n            if (teamnotInIndex > -1) {\r\n              teammateNotInTeam.splice(teamnotInIndex, 1);\r\n              if (user.team.users.length === 5) {\r\n                game.showMyTeam(1);\r\n                fms.contentWindow.location.reload();\r\n                return;\r\n              }\r\n            }\r\n\r\n            // 没副本就切换副本\r\n            if (!user.combatName) {\r\n              user.team.combat = user.tempcombat;\r\n              game.switchCombatScreen(user.tempcombat);\r\n              user.fighting = true;\r\n              game.startCombat(user.team.combat);\r\n            }\r\n            if (user.combatId) {\r\n              if (user.team.users.length === 5) {\r\n                game.showMyTeam(0);\r\n              } else {\r\n                game.showMyTeam(1);\r\n              }\r\n            }\r\n\r\n            // 每日计划判断\r\n            if (dayPlan.length) {\r\n              const undonePlan = dayPlanOptions.find(dpo => dayPlan.includes(dpo.value) && !dpo.isDone.includes(user.email));\r\n              if (undonePlan) {\r\n                if (user.message && user.message.msg) {\r\n                  const msg = user.message.msg[user.message.msg.length - 1];\r\n                  if (msg.indexOf('达挑战上限，无奖励') > -1) {\r\n                    if (user.team.combat == undonePlan.value) {\r\n                      undonePlan.isDone.push(user.email);\r\n                    } else if (planCheckTimes > 4) {\r\n                      undonePlan.isDone.push(user.email);\r\n                      planCheckTimes = 0;\r\n                    }\r\n                  }\r\n                }\r\n                this.$Message.info(`【${user.email}】正在执行每日计划【${undonePlan.label}】`);\r\n                if (user.combatId) {\r\n                  user.tempcombatid = undonePlan.value;\r\n                  planCheckTimes++;\r\n                } else if (user.team.combat != undonePlan.value) {\r\n                  user.team.combat = undonePlan.value;\r\n                  game.switchCombatScreen(undonePlan.value);\r\n                }\r\n              } else {\r\n                if (user.combatId) {\r\n                  delete user.tempcombatid;\r\n                } else if (user.team.combat != user.tempcombat) {\r\n                  user.team.combat = user.tempcombat;\r\n                  game.switchCombatScreen(user.tempcombat);\r\n                }\r\n              }\r\n            }\r\n          }\r\n        } else if (user.map) {\r\n          // 队长判断\r\n          if (user.isleader) {\r\n            // 创建队伍\r\n            game.createdTeam(user.map.id);\r\n          }\r\n          // 队员判断\r\n          if (user.teamleader) {\r\n            // 获取队伍\r\n            game.getTeamList(user.map.id);\r\n            if (user.teams) {\r\n              // 找到队伍之后就加入队伍\r\n              const team = user.teams.find(t => t.leader.nickname === user.teamleader);\r\n              if (team) {\r\n                // 判断有没有满队，满队加不进，队长直接解散队伍\r\n                if (team.users.length == (team.combat || {}).player_num){\r\n                  if (!user.teamleader.includes(user.teamleader)) {\r\n                    if (!fullTeamLeader.includes(user.teamleader)) {\r\n                      fullTeamLeader.push(user.teamleader);\r\n                    }\r\n                  }\r\n                } else {\r\n                  game.addTeam(team._id);\r\n                }\r\n              } else {\r\n                // 没找到队伍，需要队长看看是不是卡队员了\r\n                if (!teammateNotInTeam.includes(user.teamleader)) {\r\n                  teammateNotInTeam.push(user.teamleader);\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        // 队伍状态异常，需要刷新重新接收所有东西\r\n        if (user.teamStatus === 'leave') {\r\n          fms.contentWindow.location.reload();\r\n        }\r\n      })\r\n    }, 12000);\r\n\r\n    const mdata = window.monsterData.data;\r\n    const skillMap = {};\r\n    mdata.map(md => {\r\n      md.skill && md.skill.map(sk => {\r\n        skillMap[sk.name] = sk;\r\n      });\r\n    });\r\n    this.skillMap = skillMap;\r\n  },\r\n  methods: {\r\n    frameLoad (index) {\r\n      if (index != 0) return;\r\n      this.msgList = this.$refs['userFrame'][0].contentWindow.chatMsg;\r\n      this.screens = this.$refs['userFrame'][0].contentWindow.screens;\r\n    },\r\n    getDmColor (msg) {\r\n      // 回收弹幕\r\n      setTimeout(() => {\r\n        const dmindex = this.msgDm.findIndex(m => m.key == msg.key);\r\n        this.msgDm.splice(dmindex, 1);\r\n      }, 20000);\r\n      if (msg.channel == 0) {\r\n        return 'volcano';\r\n      }\r\n      return msg.nickname == this.userList[0].email ? 'primary': 'success';\r\n    },\r\n    handleSendChat () {\r\n      this.$refs['userFrame'][0].contentWindow.game.chatSend(this.sendMsg);\r\n      this.sendMsg = '';\r\n    },\r\n    async handleLogin () {\r\n      const formInline = this.formInline;\r\n      if (!formInline.user || !formInline.password) {\r\n        this.$Message.error('账号密码没填好');\r\n        return;\r\n      }\r\n      this.onAddUser(formInline.user, formInline.password);\r\n    },\r\n    /**\r\n     * 将账号密码保存到 localStorage 中\r\n     * @param {*} email\r\n     * @param {*} password\r\n     */\r\n    saveStorageUser: function (email, password) {\r\n        let users = this.getStorageUser();\r\n        if ('undefined' == typeof password) {\r\n            delete users[email];\r\n            localStorage.removeItem(email);\r\n        } else {\r\n            users[email] = password;\r\n        }\r\n        localStorage.setItem('ydxxGame_userList', JSON.stringify(users));\r\n    },\r\n    /**\r\n     * 从 localStorage 中取出账号密码\r\n     * @param {*} email 可选\r\n     */\r\n    getStorageUser: function (email) {\r\n        let users = JSON.parse(localStorage.getItem('ydxxGame_userList') || '{}') || {};\r\n        return email ? (users[email] || null) : users;\r\n    },\r\n    /**\r\n      * 页面表单 添加用户\r\n      * @param {*} event\r\n      */\r\n    onAddUser: function (email, passwd) {\r\n      // 保存账号密码\r\n      this.saveStorageUser(email, passwd);\r\n      // 添加进去\r\n      this.userList.push({ email, isLogin: true, password: passwd });\r\n    },\r\n    handleReload (index) {\r\n      this.$refs['userFrame'][index].contentWindow.location.reload();\r\n    },\r\n    /**\r\n      * 删除用户\r\n      * @param {*} row\r\n      */\r\n    deleteUser: function (email) {\r\n      const user = this.userList.find(ul => ul.email === email);\r\n      const index = this.userList.indexOf(user);\r\n      // 从列表删除此用户\r\n      this.userList.splice(index, 1);\r\n\r\n      // 更新保存用户\r\n      this.saveStorageUser(email);\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\">\r\n.moling {\r\n  position: fixed;\r\n  top: 10px;\r\n  font-size: 60px;\r\n  z-index: 999999999;\r\n  color: #aa2121;\r\n  transform: translate(-50%, 0);\r\n}\r\n@keyframes molingframe {\r\n  0% {\r\n    text-shadow: 0 0 4px white, 0 -5px 4px #ff3, 2px -10px 6px #fd3,\r\n      -2px -15px 11px #f80, 2px -25px 36px #f20;\r\n  }\r\n  25% {\r\n    text-shadow: 0 0 4px white, 2px -7px 6px #ff3, 2px -12px 8px #fd3,\r\n      -3px -20px 11px #f80, 4px -30px 22px #f20;\r\n  }\r\n  50% {\r\n    text-shadow: 0 0 4px white, 2px -10px 8px #ff3, 2px -14px 10px #fd3,\r\n      -4px -25px 11px #f80, 4px -35px 25px #f20;\r\n  }\r\n  75% {\r\n    text-shadow: 0 0 4px white, 2px -7px 6px #ff3, 2px -12px 8px #fd3,\r\n      -3px -20px 11px #f80, 4px -30px 22px #f20;\r\n  }\r\n  100% {\r\n    text-shadow: 0 0 4px white, 0 -5px 4px #ff3, 2px -10px 6px #fd3,\r\n      -2px -15px 11px #f80, 2px -25px 36px #f20;\r\n  }\r\n}\r\n</style>\r\n<style lang=\"less\" scoped>\r\n.home {\r\n  padding: 16px;\r\n  position: relative;\r\n  overflow-x: hidden;\r\n  height: 100%;\r\n  .formitem {\r\n    width: 100px;\r\n  }\r\n  .dm {\r\n    word-break: keep-all;\r\n    position: fixed;\r\n    z-index: 9999;\r\n    animation: dmframe 20s linear;\r\n    top: 0;\r\n    left: 100%;\r\n    @keyframes dmframe {\r\n      0% { left: 100%; }\r\n      100% { left: -100%; }\r\n    }\r\n  }\r\n  .card-container {\r\n    width: 100%;\r\n    .card {\r\n      display: inline-block;\r\n      width: 100%;\r\n      height: 430px;\r\n      margin: 0 8px 8px 0;\r\n      vertical-align: top;;\r\n    }\r\n  }\r\n  iframe {\r\n    width: 100%;\r\n    height: 100%;\r\n    border: 0;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=6a0e8444&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&lang=less&\"\nimport style1 from \"./Home.vue?vue&type=style&index=1&id=6a0e8444&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6a0e8444\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.user)?_c('div',{staticClass:\"user\"},[_c('p',[_vm._v(\" 状态：\"+_vm._s(_vm.user.status)+\" \"+_vm._s(_vm.user.status_msg)+\" \"),_c('ButtonGroup',{attrs:{\"size\":\"small\",\"shape\":\"circle\"}},[_c('Button',{attrs:{\"size\":\"small\",\"type\":\"info\"},on:{\"click\":function () {\n          _vm.modalTitle = '装备信息';\n          _vm.modalType = 'Eqs';\n          _vm.showModal = true;\n        }}},[_vm._v(\" 装备 \")]),_c('Button',{attrs:{\"size\":\"small\",\"type\":\"info\"},on:{\"click\":function () {\n          _vm.modalTitle = '人物属性';\n          _vm.modalType = 'Userinfo';\n          _vm.showModal = true;\n        }}},[_vm._v(\" 属性 \")]),_c('Button',{attrs:{\"size\":\"small\",\"type\":\"info\"},on:{\"click\":function () {\n          _vm.modalTitle = '战斗收益';\n          _vm.modalType = 'Gains';\n          _vm.showModal = true;\n        }}},[_vm._v(\" 收益 \")]),_c('Button',{attrs:{\"size\":\"small\",\"type\":\"info\"},on:{\"click\":function () {\n          _vm.modalTitle = '宠物信息';\n          _vm.modalType = 'Pet';\n          _vm.showModal = true;\n        }}},[_vm._v(\"宠物\")]),_c('Button',{attrs:{\"size\":\"small\",\"type\":\"info\"},on:{\"click\":function () {\n          _vm.modalTitle = '人物技能';\n          _vm.modalType = 'Skills';\n          _vm.showModal = true;\n        }}},[_vm._v(\"技能\")]),_c('Button',{attrs:{\"size\":\"small\",\"type\":\"info\"},on:{\"click\":function () {\n          _vm.modalTitle = '任务中心';\n          _vm.modalType = 'Tasks';\n          _vm.showModal = true;\n        }}},[_vm._v(\"任务\")]),_c('Button',{attrs:{\"size\":\"small\",\"type\":\"info\"},on:{\"click\":function () {\n          _vm.modalTitle = '市场';\n          _vm.modalType = 'Market';\n          _vm.showModal = true;\n        }}},[_vm._v(\"市场\")]),_c('Button',{attrs:{\"size\":\"small\",\"type\":\"info\"},on:{\"click\":function () {\n          _vm.modalTitle = '商城';\n          _vm.modalType = 'Shop';\n          _vm.showModal = true;\n        }}},[_vm._v(\"商城\")])],1)],1),(_vm.user.myInfo)?[_c('div',{staticClass:\"br\"}),_c('p',[_vm._v(\" LV.\"+_vm._s(_vm.user.myInfo.level)+\" [\"+_vm._s(Math.floor(_vm.user.myInfo.exp))+\"/\"+_vm._s(Math.floor(_vm.user.myInfo.nextExp))+\"] \"),(_vm.user.myInfo.exp > _vm.user.myInfo.nextExp)?_c('a',{on:{\"click\":function($event){return _vm.game.upPlayerLevel()}}},[_vm._v(\"升级\")]):_vm._e(),_vm._v(\" \"),(_vm.user.myInfo.potential_num > 0)?_c('Dropdown',{attrs:{\"trigger\":\"click\"}},[_c('Button',{attrs:{\"size\":\"small\",\"type\":\"info\"}},[_vm._v(\" 加点 \")]),_c('DropdownMenu',{attrs:{\"slot\":\"list\"},slot:\"list\"},[_c('DropdownItem',{nativeOn:{\"click\":function($event){return _vm.handleAllocationPoint(1)}}},[_vm._v(\"全力加点\")]),_c('DropdownItem',{nativeOn:{\"click\":function($event){return _vm.handleAllocationPoint(2)}}},[_vm._v(\"全魔加点\")])],1)],1):_vm._e()],1),_c('div',{staticClass:\"br\"}),_c('p',[_vm._v(\" 财产：\"+_vm._s(Math.floor(_vm.user.myInfo.game_gold))+\"仙石 \"+_vm._s(Math.floor(_vm.user.myInfo.game_silver))+\"灵石 \"),_c('Button',{attrs:{\"size\":\"small\",\"type\":\"info\"},on:{\"click\":function () {\n          _vm.modalTitle = '储物戒指';\n          _vm.modalType = 'Bag';\n          _vm.showModal = true;\n        }}},[_vm._v(\" 储物戒指 \")])],1),_c('div',{staticClass:\"br\"}),_c('p',[_vm._v(\" 气血储备：\"+_vm._s(Math.floor(_vm.user.myInfo.hp_store))+\" 魔法储备：\"+_vm._s(Math.floor(_vm.user.myInfo.mp_store))+\" 活力：\"+_vm._s(Math.floor(_vm.user.myInfo.vitality_num))+\" \"),_c('a',{on:{\"click\":function($event){return _vm.game.polyLin(3)}}},[_vm._v(\"仙蕴转活力\")])])]:_vm._e(),(_vm.unusecbt)?[(_vm.unusecbt.normal)?[_c('div',{staticClass:\"br\"}),_vm._v(\" 检测到你有 \"),_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(_vm._s(_vm.unusecbt.normal.num))]),_vm._v(\" 张没鉴定的 \"),_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"藏宝图\")]),_vm._v(\" [\"),_c('a',{on:{\"click\":function () {\n        _vm.game.useGoods(_vm.unusecbt.normal.id)\n      }}},[_vm._v(\"鉴定一张\")]),_vm._v(\"] [\"),_c('a',{on:{\"click\":function () {\n        _vm.readToUse = {\n          useNum: _vm.unusecbt.normal.num,\n          id: _vm.unusecbt.normal.id,\n          name: '藏宝图'\n        };\n        _vm.handleUseItem()\n      }}},[_vm._v(\"全部鉴定\")]),_vm._v(\"] \")]:_vm._e(),(_vm.unusecbt.high)?[_c('div',{staticClass:\"br\"}),_vm._v(\" 检测到你有 \"),_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(_vm._s(_vm.unusecbt.high.num))]),_vm._v(\" 张没鉴定的 \"),_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"高级藏宝图\")]),_vm._v(\" [\"),_c('a',{on:{\"click\":function () {\n        _vm.readToUse = {\n          useNum: _vm.unusecbt.high.num,\n          id: _vm.unusecbt.high.id,\n          name: '高级藏宝图'\n        };\n        _vm.handleUseItem();\n      }}},[_vm._v(\"全部鉴定\")]),_vm._v(\"] \")]:_vm._e()]:_vm._e(),(_vm.waBao.length > 0)?[_c('div',{staticClass:\"br\"}),_vm._v(\" 检测到你有 \"),_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(_vm._s(_vm.waBao.length))]),_vm._v(\" 张藏宝图 \"),_c('Button',{attrs:{\"size\":\"small\",\"type\":\"info\"},on:{\"click\":_vm.handleAutoWaBao}},[_vm._v(\" 自动挖宝 \")])]:_vm._e(),(_vm.user.map)?[_c('div',{staticClass:\"br\"}),_vm._v(\" 地图： \"),(_vm.user.team)?_c('Button',{attrs:{\"size\":\"small\",\"type\":\"info\",\"disabled\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.user.map.name)+\" \")]):_c('Dropdown',{attrs:{\"trigger\":\"click\"}},[_c('Button',{attrs:{\"size\":\"small\",\"type\":\"info\"}},[_vm._v(\" \"+_vm._s(_vm.user.map.name)+\" \")]),_c('DropdownMenu',{attrs:{\"slot\":\"list\"},slot:\"list\"},_vm._l((_vm.toMap),function(item){return _c('DropdownItem',{key:item.id,nativeOn:{\"click\":function($event){return (function () {\n            _vm.$Message.warning((\"正在切图去\" + (item.name) + \"，别乱点\"))\n            _vm.moveToMap(item.id).then(function () {\n              _vm.$Message.success(((item.name) + \"到了\"))\n            });\n          })($event)}}},[_vm._v(_vm._s(item.name))])}),1)],1)]:_vm._e(),(_vm.user.team && _vm.user.team.leader === _vm.user.email)?[_vm._v(\" 副本： \"),_c('Dropdown',{attrs:{\"trigger\":\"click\"}},[_c('Button',{attrs:{\"size\":\"small\",\"type\":\"info\"}},[_vm._v(\" \"+_vm._s(_vm.user.combatName || '未选择')+\" \")]),_c('DropdownMenu',{attrs:{\"slot\":\"list\"},slot:\"list\"},_vm._l((_vm.user.screens),function(item){return _c('DropdownItem',{key:item._id,nativeOn:{\"click\":function($event){return (function () {\n            _vm.user.team.combat = item._id;\n            _vm.user.tempcombat = item._id;\n            _vm.game.switchCombatScreen(item._id);\n          })($event)}}},[_vm._v(_vm._s(item.name))])}),1)],1),(_vm.user.combatId)?_c('Dropdown',{attrs:{\"trigger\":\"click\"}},[_c('Button',{attrs:{\"size\":\"small\",\"type\":\"info\"}},[_vm._v(\" \"+_vm._s(_vm.user.tempcombatname || '未选择')+\" \")]),_c('DropdownMenu',{attrs:{\"slot\":\"list\"},slot:\"list\"},_vm._l((_vm.user.screens),function(item){return _c('DropdownItem',{key:item._id,nativeOn:{\"click\":function($event){return (function () {\n            _vm.user.combatId = item._id;\n          })($event)}}},[_vm._v(_vm._s(item.name))])}),1)],1):_vm._e()]:_vm._e(),_vm._v(\" 队伍： \"),(_vm.user.team && _vm.user.team.leader === _vm.user.email)?[_vm._v(\" [\"+_vm._s(_vm.user.team.users.length || 1)+\"/\"+_vm._s(_vm.user.combatTotal || '未知')+\"] \"),_c('Button',{attrs:{\"size\":\"small\",\"type\":\"error\"},on:{\"click\":function($event){_vm.game.leaveTeam();_vm.user.isleader=false;}}},[_vm._v(\" 解散 \")]),_vm._v(\" \"),_c('i-switch',{attrs:{\"disabled\":!_vm.user.combatName,\"true-color\":\"#13ce66\",\"false-color\":\"#ff4949\",\"size\":\"large\"},on:{\"on-change\":function (flag) {\n        _vm.user.fighting && _vm.game.startCombat(_vm.user.team.combat)\n      }},model:{value:(_vm.user.fighting),callback:function ($$v) {_vm.$set(_vm.user, \"fighting\", $$v)},expression:\"user.fighting\"}},[_c('span',{attrs:{\"slot\":\"open\"},slot:\"open\"},[_vm._v(\"战斗\")]),_c('span',{attrs:{\"slot\":\"close\"},slot:\"close\"},[_vm._v(\"平时\")])]),_c('a',{on:{\"click\":function () {\n      _vm.game.showMyTeam(0);\n    }}},[_vm._v(\"隐藏\")])]:(_vm.user.team)?[_vm._v(\" 队长[\"+_vm._s(_vm.user.team.leader)+\"] \"),_c('Button',{attrs:{\"size\":\"small\",\"type\":\"warning\"},on:{\"click\":function () {\n        _vm.game.leaveTeam();\n        delete _vm.user.teamleader;\n      }}},[_vm._v(\" 离开 \")])]:[_c('Button',{attrs:{\"size\":\"small\",\"type\":\"success\"},on:{\"click\":function($event){_vm.game.createdTeam(_vm.user.map.id);_vm.user.isleader=true;}}},[_vm._v(\" 创建 \")]),_vm._v(\" \"),_c('Dropdown',{attrs:{\"trigger\":\"click\"},nativeOn:{\"click\":function($event){return _vm.game.getTeamList(_vm.user.map.id)}}},[_c('Button',{attrs:{\"size\":\"small\",\"type\":\"success\"}},[_vm._v(\" 加入 \")]),_c('DropdownMenu',{attrs:{\"slot\":\"list\"},slot:\"list\"},_vm._l((_vm.user.teams),function(item){return _c('DropdownItem',{key:item._id,nativeOn:{\"click\":function($event){return (function () {\n            _vm.game.addTeam(item._id);\n            _vm.user.teamleader = item.leader.nickname;\n          })($event)}}},[_vm._v(\" \"+_vm._s(item.leader.nickname)+\" [\"+_vm._s(item.users.length)+\"/\"+_vm._s((item.combat || {}).player_num)+\"] (\"+_vm._s((item.combat || {}).name)+\") \")])}),1)],1)],_c('div',{staticClass:\"br\"}),_vm._v(\" 技能： \"),(_vm.user.skills)?_c('Dropdown',{attrs:{\"trigger\":\"click\"}},[_c('Button',{attrs:{\"size\":\"small\",\"type\":\"warning\"}},[_vm._v(\" \"+_vm._s(_vm.user.skillname || '物理攻击')+\" \")]),_c('DropdownMenu',{attrs:{\"slot\":\"list\"},slot:\"list\"},[(_vm.user.skills.length === 0)?_c('DropdownItem',[_vm._v(\" 没技能 \")]):_vm._e(),_vm._l((_vm.user.skills),function(item){return _c('DropdownItem',{key:item._id,nativeOn:{\"click\":function($event){return (function () {\n          _vm.$set(_vm.user, 'skillid', item._id);\n          _vm.$set(_vm.user, 'skillname', item.name);\n        })($event)}}},[_vm._v(_vm._s(item.name))])})],2)],1):_vm._e(),(_vm.user && _vm.game)?_c('PetCatchCtrlComponent',{attrs:{\"user\":_vm.user,\"game\":_vm.game}}):_vm._e(),('object' == typeof _vm.user.message)?_c('div',[_vm._v(\" [\"+_vm._s(_vm.user.message.time)+\"] \"+_vm._s('第' + _vm.user.message.round_num + '轮')+\" \"),(_vm.user.message.mark)?_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.user.message.mark)}}):_vm._e(),_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.user.message.msg.join('<br />'))}})]):_vm._e(),_c('Modal',{attrs:{\"fullscreen\":\"\",\"footer-hide\":\"\",\"title\":_vm.modalTitle},model:{value:(_vm.showModal),callback:function ($$v) {_vm.showModal=$$v},expression:\"showModal\"}},[('Gains' === _vm.modalType)?[(!_vm.fightGains.beginTime)?_c('div',[_vm._v(\" \"+_vm._s(_vm.gains.tips)+\" \")]):[_c('CellGroup',[_c('Cell',{attrs:{\"title\":\"开始时间\",\"extra\":(\"\" + (_vm.gains.beginTime))}}),_c('Cell',{attrs:{\"title\":\"战斗时长\",\"extra\":(\"\" + (_vm.gains.fightTime))}}),_c('Cell',{attrs:{\"title\":\"获得经验\",\"extra\":(\"\" + (_vm.gains.gainExp))}}),_c('Cell',{attrs:{\"title\":\"战斗回合数\",\"extra\":(\"\" + (_vm.gains.roundCount))}}),_c('Cell',{attrs:{\"title\":\"战斗场数\",\"extra\":(\"\" + (_vm.gains.fightCount))}}),_c('Cell',{attrs:{\"title\":\"经验/分钟\",\"extra\":(\"\" + (_vm.gains.avgExp))}}),_c('Cell',{attrs:{\"title\":\"战斗场数/分钟\",\"extra\":(\"\" + (_vm.gains.avgFightCount))}}),_c('Cell',{attrs:{\"title\":\"战利品\"}})],1),_vm._l((_vm.gains.goods),function(value,key){return _c('Tag',{key:key,attrs:{\"color\":\"pink\"}},[_vm._v(_vm._s(key)+\"(\"+_vm._s(value)+\")\")])})]]:(!!_vm.modalType)?_c((_vm.modalType + \"Component\"),{tag:\"component\",attrs:{\"user\":_vm.user,\"game\":_vm.game}}):_vm._e()],2)],2):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Protocol from './protocol'\r\n// 调试模式\r\nlet DEBUG = false;\r\n\r\n/**\r\n * 一些常量\r\n */\r\nconst JS_WS_CLIENT_TYPE = 'js-websocket';\r\nconst JS_WS_CLIENT_VERSION = '0.0.1';\r\n\r\n/**\r\n * 返回消息状态码\r\n */\r\nconst RES_OK = 200;         // 成功\r\nconst RES_FAIL = 500;       // 失败\r\nconst RES_OLD_CLIENT = 501; // 客户端版本不符\r\n\r\nconst gapThreshold = 100;   // heartbeat gap threashold\r\n\r\n/**\r\n * {object} 默认配置\r\n */\r\nlet default_config = {\r\n    gameHost: 'yundingxx.com',\r\n    gameProtocol: 'ws',\r\n    loginPort: 3014,\r\n    gamePort: 3052,\r\n    loginServer: null,\r\n    gameServer: null,\r\n    socketPathTpl: '{protocol}://{host}:{port}/'\r\n};\r\n\r\nlet Package = Protocol.Package,\r\n    Message = Protocol.Message;\r\n\r\n/**\r\n * 工具类\r\n */\r\nlet Tool = {\r\n    /**\r\n     * 替换字符串中的变量占位符\r\n     *\r\n     * @param {string} str           需要替换的字符串\r\n     * @param {object} replaceMaps   替换关系\r\n     */\r\n    replaceParams: function (str, replaceMaps) {\r\n        return str.replace(/{([^}]+)}/g, function (full_match, key) {\r\n            return replaceMaps[key] || full_match;\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * Hooks 默认的\r\n */\r\nlet CoreHooks = {\r\n    /**\r\n     * 登录游戏成功回调\r\n     * @param {*} data\r\n     */\r\n    onLoginGame: function (data) {\r\n        if (data.code != RES_OK) {\r\n            DEBUG && console.error('onLoginGame', data.msg);\r\n            return;\r\n        }\r\n\r\n        this.user_info = Object.assign(this.user_info, data.data);\r\n    },\r\n    /**\r\n        * 主要是用于保存数据\r\n        * @param {*} data\r\n        */\r\n    onSaveData: function (data) {\r\n        if (data.code != RES_OK) {\r\n            DEBUG && console.error('onLoginGame', data.msg || data);\r\n            return;\r\n        }\r\n\r\n        let datas = data.data || data,\r\n            save_keys = ['map', 'myInfo', 'players', 'userTasks', 'wordLogds', 'team', 'teams', 'screens', 'initData'];\r\n        save_keys.forEach((key) => {\r\n            if (!datas[key]) {\r\n                return;\r\n            }\r\n            this.user_info[key] = datas[key];\r\n\r\n            if (key == 'map') {\r\n                this.user_info.mid = datas.map.id;\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\n// 给Hook绑定 Mark\r\nObject.keys(CoreHooks).forEach((name) => {\r\n    CoreHooks[name].hookMark = 'Core.' + name;\r\n});\r\n\r\n/**\r\n* YunDingXX Online API\r\n*\r\n* @param {object} config   配置信息\r\n*/\r\nlet GameApi = function (config) {\r\n    // 加载配置\r\n    if ('object' == typeof config || 'undefined' == typeof config) {\r\n        this.config = Object.assign(default_config, config);\r\n    }\r\n\r\n    // 初始化配置\r\n    this.initConfig();\r\n};\r\n\r\n// 设置调试模式\r\nGameApi.isDEBUG = function () {\r\n    DEBUG = true;\r\n}\r\n\r\n/**\r\n* 初始化配置信息\r\n*/\r\nGameApi.prototype.initConfig = function () {\r\n    // WebSocket 链接对象\r\n    this.socket = null;\r\n\r\n    // 用于标记自己要停止\r\n    this.isStop = false;\r\n\r\n    // 玩家信息都存在这里 渲染视图请读取这里\r\n    this.email = '';\r\n    this.password = ''; // 用于自动重连\r\n    this.user_info = {};\r\n\r\n    // 登录 Token 我猜你不会偷这个吧?\r\n    this.token = null;\r\n\r\n    // 生成服务器链接地址\r\n    if (!this.config.loginServer) {\r\n        this.config.loginServer = this.getSocketServer(this.config.loginPort);\r\n    }\r\n\r\n    // 消息处理分发\r\n    this.messageHandlers = [];\r\n    this.messageHandlers[Package.TYPE_HANDSHAKE] = this.onHandshake;\r\n    this.messageHandlers[Package.TYPE_HEARTBEAT] = this.onHeartbeat;\r\n    this.messageHandlers[Package.TYPE_DATA] = this.onData;\r\n    this.messageHandlers[Package.TYPE_KICK] = this.onKick;\r\n\r\n    // 维持心跳\r\n    this.reqId = 1;\r\n    this.heartbeatInterval = 0;\r\n    this.heartbeatId = null;\r\n    this.heartbeatTimeoutId = null;\r\n    this.heartbeatTimeout = 0;\r\n    this.xyUpdateIntervalId = 0;\r\n\r\n    // 路由字典\r\n    this.dict = {};\r\n    this.abbrs = {};\r\n\r\n    // 协议相关???\r\n    this.protoVersion = 0;\r\n    this.serverProtos = {};\r\n    this.clientProtos = {};\r\n\r\n    // 一些无法命名的回调\r\n    this.initCallback = null;   // 初始化完毕的回调\r\n    this.callbacks = [];        // 根据 SeqId 来区分回调(如果有)\r\n    this.callRoutes = [];       // 和上面一样 只是区分 Route\r\n\r\n    // 注册各路由的回调钩子\r\n    this.hookHandlers = GameApi.regHookHandlers;\r\n}\r\n\r\n/**\r\n* 用于批量提前注册，避免每次创建都要注册一次\r\n*/\r\nGameApi.regHookHandlers = {\r\n    \"onAdd\": [],    //* 玩家上线?\r\n    \"onLeave\": [],    //* 玩家离开\r\n    \"onChatMsg\": [],    //* 收到消息\r\n    \"onMyTeamReload\": [ // 重新载入队伍\r\n        CoreHooks.onSaveData\r\n    ],\r\n    \"onStartBat\": [ // 战斗开始\r\n        CoreHooks.onSaveData\r\n    ],\r\n    \"onRoundBatEnd\": [ // 战斗结束\r\n\r\n    ],\r\n    \"chat.chatHandler.send\": [],    //  发送消息\r\n    \"connector.entryHandler.enter\": [],\r\n    \"connector.fationHandler.applyForFation\": [],    //  申请工会\r\n    \"connector.fationHandler.closeUserTask\": [],    //  放弃任务\r\n    \"connector.fationHandler.createFation\": [],    //  创建工会\r\n    \"connector.fationHandler.donateFationFunds\": [],    //  捐赠\r\n    \"connector.fationHandler.doneFationApply\": [],    //  同意入会\r\n    \"connector.fationHandler.getFationApply\": [],    //  查看申请\r\n    \"connector.fationHandler.getFationList\": [],    //  打开工会列表\r\n    \"connector.fationHandler.getFationTask\": [],    //  领取任务\r\n    \"connector.fationHandler.initFation\": [],    //  初始聚仙阁楼页面\r\n    \"connector.fationHandler.leaveFation\": [],    //  脱离工会\r\n    \"connector.fationHandler.showFationUserList\": [],    //  查看工会人员\r\n    \"connector.fationHandler.upFation\": [],    //  升级工会\r\n    \"connector.fationHandler.upFationUserSkill\": [console.log],    //  点技能\r\n    \"connector.fationHandler.upUserFationLevel\": [],    //  升降职位\r\n    \"connector.loginHandler.login\": [      //  登录 Token\r\n        CoreHooks.onSaveData\r\n    ],\r\n    \"connector.playerHandler.byGoodsToSystem\": [],    //  购买系统物品\r\n    \"connector.playerHandler.byPalyerGoods\": [],    //  购买玩家物品\r\n    \"connector.playerHandler.getCopyTask\": [],\r\n    \"connector.playerHandler.getPlayerSellGoods\": [],    //  初始仙坊集市\r\n    \"connector.playerHandler.init\": [],\r\n    \"connector.playerHandler.move\": [],    //  移动\r\n    \"connector.playerHandler.moveToNewMap\": [      //  移动至新地图\r\n        CoreHooks.onSaveData\r\n    ],\r\n    \"connector.playerHandler.nextMap\": [],    //  切换地图\r\n    \"connector.playerHandler.payUserTask\": [],    //  完成任务\r\n    \"connector.playerHandler.sellGoods\": [],\r\n    \"connector.playerHandler.sendMsg\": [],\r\n    \"connector.playerHandler.wearUserEquipment\": [],    //  佩戴拆卸装备\r\n    \"connector.systemHandler.getRankList\": [],    //  排行榜\r\n    \"connector.systemHandler.getSystemSellGoods\": [],    //  初始系统中出售物品\r\n    \"connector.systemHandler.getSystemTask\": [],    //  初始任务中心\r\n    \"connector.systemHandler.subSystemMsg\": [],    //  初始任务中心\r\n    \"connector.teamHandler.addTeam\": [],    // 加入队伍\r\n    \"connector.teamHandler.createdTeam\": [ // //  创建队伍\r\n        CoreHooks.onSaveData\r\n    ],\r\n    \"connector.teamHandler.getAllCombatScreen\": [ // 获取战斗场景\r\n        CoreHooks.onSaveData\r\n    ],\r\n    \"connector.teamHandler.getTeamList\": [  // 获取队伍列表\r\n        CoreHooks.onSaveData\r\n    ],\r\n    \"connector.teamHandler.leaveTeam\": [],    //  离开队伍\r\n    \"connector.teamHandler.roundOperating\": [],    //  回合操作\r\n    \"connector.teamHandler.showMyTeam\": [],    //  显示我的团队\r\n    \"connector.teamHandler.startCombat\": [],\r\n    \"connector.teamHandler.startCombatBoss\": [],\r\n    \"connector.teamHandler.switchCombatScreen\": [], // 切换战斗场景\r\n    \"connector.userHandler.addUserPetSkill\": [],    //  添加用户宠物技能\r\n    \"connector.userHandler.allSellGoods\": [],    //  整理\r\n    \"connector.userHandler.allocationPoint\": [],    //  保存/分配属性点\r\n    \"connector.userHandler.fbProcess\": [],    //  法宝点击\r\n    \"connector.userHandler.fitPet\": [],    //  确认合成\r\n    \"connector.userHandler.forgingUserEq\": [],    //  进阶装备\r\n    \"connector.userHandler.getMyFb\": [],    //  获取我的法宝\r\n    \"connector.userHandler.getMyGoods\": [],    //  初始我得物品\r\n    \"connector.userHandler.getMyPet\": [],    //  初始我得宠物\r\n    \"connector.userHandler.getMyPetSkillGoods\": [],    //  获取我的宠物用品\r\n    \"connector.userHandler.getMySkill\": [],    //  初始我得技能\r\n    \"connector.userHandler.getMyTitle\": [],    //  称号弹框\r\n    \"connector.userHandler.getMylogs\": [],    //  查看我的日志\r\n    \"connector.userHandler.getUserEqs\": [],    //  获取我得装备列表\r\n    \"connector.userHandler.getUserTask\": [],\r\n    \"connector.userHandler.makeGoods\": [],    //  合成物品\r\n    \"connector.userHandler.playUserPet\": [],    //  出战宠物\r\n    \"connector.userHandler.polyLin\": [],    //  聚灵\r\n    \"connector.userHandler.repairUserArms\": [],    //  修炼装备\r\n    \"connector.userHandler.resetAttribute\": [],    //  重置属性\r\n    \"connector.userHandler.selectMyTitle\": [],    //  选择我的称号\r\n    \"connector.userHandler.sellGoods\": [],\r\n    \"connector.userHandler.shelfMyGoods\": [],    //  取回到背包\r\n    \"connector.userHandler.turnIntoPet\": [],    //  幻化宠物\r\n    \"connector.userHandler.upPlayerLevel\": [],\r\n    \"connector.playerHandler.upLevelUserSkill\": [],\r\n    \"connector.userHandler.upUserPetLevel\": [],    //  升级宠物\r\n    \"connector.userHandler.updateUserPrice\": [],    //  更新玩家货币\r\n    \"connector.userHandler.useGoods\": [],    //  使用物品\r\n    \"connector.userHandler.userInfo\": [],\r\n    \"connector.userHandler.wbt\": [],    //  挖宝图\r\n    \"connector.userHandler.xyDuiHuan\": [],\r\n    \"connector.userHandler.xyUpdate\": [ // //  仙蕴提交\r\n        CoreHooks.onSaveData\r\n    ],\r\n    \"gate.gateHandler.queryEntry\": [], // *登录游戏\r\n    \"connector.userHandler.getNewPet\": [] // 预览合宠\r\n};\r\n\r\n/**\r\n* 生成服务器链接地址\r\n* @param {*} port\r\n*/\r\nGameApi.prototype.getSocketServer = function (port, host, protocol) {\r\n    if ('number' != typeof port) {\r\n        return null;\r\n    }\r\n\r\n    return Tool.replaceParams(this.config.socketPathTpl, {\r\n        protocol: protocol || this.config.gameProtocol,\r\n        host: host || this.config.gameHost,\r\n        port: port\r\n    });\r\n}\r\n\r\n/**\r\n* 注册路由回调钩子\r\n* @param {string}   route      挂载的路由地址\r\n* @param {function} cb         回调\r\n* @param {string}   position   用于 触发时机 暂不可用\r\n*/\r\nGameApi.prototype.regHookHandler = function (route, cb, position) {\r\n    // 检查 route 和 cn 是否有效\r\n    if (!this.hookHandlers[route] || 'function' != typeof cb) {\r\n        return false;\r\n    }\r\n\r\n    // 如果有 Mark 就尝试去重\r\n    let cbMark = cb.hookMark || null;\r\n    if (cbMark && 'object' == typeof this.hookHandlers[route]) {\r\n        for (let i = 0; i < this.hookHandlers[route].length; i++) {\r\n            const cb_item = this.hookHandlers[route][i];\r\n            if (cb_item.hookMark && cbMark == cb_item.hookMark) {\r\n                return cb_item;\r\n            }\r\n        }\r\n    }\r\n\r\n    // 追加到结果\r\n    this.hookHandlers[route].push(cb);\r\n\r\n    return true;\r\n}\r\n\r\n/**\r\n* 启动实例\r\n*/\r\nGameApi.prototype.start = function () {\r\n    if (this.socket) {\r\n        return;\r\n    }\r\n    // 建立 ws 链接\r\n    this.createWebSocket(this.config.loginServer);\r\n}\r\n\r\n/**\r\n* 创建一个 WebSocket 连接并初始化\r\n*\r\n* @param {string} url 服务地址 ws://host:prot/path\r\n*/\r\nGameApi.prototype.createWebSocket = function (url) {\r\n    // 创建对象\r\n    let socket = new WebSocket(url);\r\n\r\n    // 指定传输数据类型\r\n    socket.binaryType = 'arraybuffer';\r\n\r\n    /**\r\n        * 批量绑定相关回调事件\r\n        */\r\n    let bindEvents = {\r\n        open: this.onOpen,\r\n        message: this.onMessage,\r\n        error: this.onError,\r\n        close: this.onClose\r\n    };\r\n\r\n    // 遍历事件列表 添加 绑定\r\n    Object.keys(bindEvents).map((enevtName) => {\r\n        socket.addEventListener(enevtName, (event) => {\r\n            bindEvents[enevtName].call(this, event);\r\n        });\r\n    });\r\n\r\n    // 将 reqId 重置\r\n    this.reqId = 1;\r\n    this.socket = socket;\r\n\r\n    return socket;\r\n}\r\n\r\n/**\r\n* WebSocket 建立连接的回调\r\n*\r\n* @param {object} event\r\n*/\r\nGameApi.prototype.onOpen = function (event) {\r\n    // 发送握手包\r\n    this.handShake();\r\n};\r\n\r\n/**\r\n* WebSocket 收到消息时的回调\r\n* @param {object} event\r\n*/\r\nGameApi.prototype.onMessage = function (event) {\r\n    let messages = Package.decode(event.data);\r\n    if (messages.type != 3) {\r\n        // console.log('onMessage', messages);\r\n    }\r\n\r\n    // 根据事件类型分发到对应的处理程序\r\n    if (Array.isArray(messages)) {\r\n        for (let i = 0; i < messages.length; i++) {\r\n            let msg = messages[i];\r\n            this.messageHandlers.call(this, [msg.type](msg.body));\r\n        }\r\n    } else {\r\n        this.messageHandlers[messages.type].call(this, messages.body);\r\n    }\r\n\r\n    // 重新计算心跳包时间\r\n    if (this.heartbeatTimeout) {\r\n        this.nextHeartbeatTimeout = Date.now() + this.heartbeatTimeout;\r\n    }\r\n};\r\n\r\n/**\r\n* WebSocket 报错时的回调\r\n*\r\n* @param {object} event\r\n*/\r\nGameApi.prototype.onError = function (event) {\r\n    console.log('onError', event);\r\n    setTimeout(() => {\r\n        window.location.reload();\r\n    }, ~~(Math.random()*60*1000)+30000);\r\n};\r\n\r\n/**\r\n* WebSocket 断开时的回调\r\n*\r\n* @param {object} event\r\n*/\r\nGameApi.prototype.onClose = function (event) {\r\n    console.log('onClose', event, this.isStop);\r\n    if (this.isStop) {\r\n        return;\r\n    }\r\n\r\n    // 重连\r\n    this.login();\r\n};\r\n\r\n/**\r\n* 发送消息到服务器(自动处理编码信息)\r\n*\r\n* @param {object} data\r\n* @param {string} type\r\n*/\r\nGameApi.prototype.sendMessage = function (data, route, cb) {\r\n    // 分析参数\r\n    if (arguments.length == 2 && 'function' == typeof route) {\r\n        cb = route;\r\n        route = null;\r\n    }\r\n\r\n    // 解包消息\r\n    let bytes = Protocol.strencode(JSON.stringify(data)),\r\n        pkg_type = Package.TYPE_HANDSHAKE,\r\n        routeId = null;\r\n\r\n    // 分析路由情况\r\n    if ('string' == typeof route) {\r\n        // 是否压缩路由 (存在 Dict 的就压缩)\r\n        let compressRoute = 0;\r\n        if (this.dict && this.dict[route]) {\r\n            routeId = this.dict[route];\r\n            compressRoute = 1;\r\n        }\r\n\r\n        // 然后生成 Message\r\n        let reqId = this.reqId++ % 255;\r\n        let type = reqId ? Message.TYPE_REQUEST : Message.TYPE_NOTIFY;\r\n\r\n        // 设置回调\r\n        if ('function' == typeof cb || 'string' == typeof cb) {\r\n            this.callbacks[reqId] = cb;\r\n        }\r\n\r\n        // 设置回调路由表\r\n        this.callRoutes[reqId] = route;\r\n\r\n        // 将消息打包\r\n        bytes = Message.encode(reqId, type, compressRoute, compressRoute ? routeId : route, bytes);\r\n        pkg_type = Package.TYPE_DATA;\r\n    }\r\n\r\n    // 封装到最终格式\r\n    let packet = Package.encode(pkg_type, bytes);\r\n\r\n    if (this.socket.readyState === this.socket.CLOSED) {\r\n        setTimeout(() => {\r\n            window.location.reload();\r\n        }, ~~(Math.random()*60*1000)+30000);\r\n    }\r\n\r\n    // 发出封包 这里应该有发送失败的处理\r\n    this.socket.send(packet);\r\n}\r\n\r\n/**\r\n* 处理握手返回包\r\n*\r\n* @param {*} data\r\n*/\r\nGameApi.prototype.onHandshake = function (data) {\r\n    // 解码数据\r\n    data = JSON.parse(Protocol.strdecode(data));\r\n    DEBUG && console.log('onHandshake', data);\r\n\r\n    // 报错的话\r\n    if (data.code === RES_OLD_CLIENT) {\r\n        throw new Error('client version not fullfill');\r\n        return;\r\n    }\r\n\r\n    // 其他错误\r\n    if (data.code !== RES_OK) {\r\n        throw new Error('handshake fail');\r\n        return;\r\n    }\r\n\r\n    // 要发送握手回复\r\n    let packet = Package.encode(Package.TYPE_HANDSHAKE_ACK);\r\n    this.socket.send(packet);\r\n\r\n    // 保存心跳时间\r\n    if (data.sys && data.sys.heartbeat) {\r\n        // 超时信息\r\n        this.heartbeatInterval = data.sys.heartbeat * 1000;   // heartbeat interval\r\n        this.heartbeatTimeout = this.heartbeatInterval * 2;        // max heartbeat timeout\r\n\r\n        // 保存字典\r\n        let dict = data.sys.dict;\r\n\r\n        // Init compress dict\r\n        if (dict) {\r\n            this.dict = dict;\r\n            this.abbrs = {};\r\n\r\n            for (let route in dict) {\r\n                this.abbrs[dict[route]] = route;\r\n            }\r\n        }\r\n    }\r\n\r\n    // 保存 protos 信息\r\n    if (data.sys && data.sys.protos) {\r\n        let protos = data.sys.protos;\r\n\r\n        // Init protobuf protos\r\n        if (protos) {\r\n            this.protoVersion = protos.version || 0;\r\n            this.serverProtos = protos.server || {};\r\n            this.clientProtos = protos.client || {};\r\n        }\r\n    }\r\n\r\n    // if (typeof handshakeCallback === 'function') {\r\n    //     handshakeCallback(data.user);\r\n    // }\r\n\r\n    // 握手成功有回调的话\r\n    if (this.initCallback) {\r\n        this.initCallback.call(this);\r\n        this.initCallback = null;\r\n    }\r\n};\r\n\r\n/**\r\n* 保持心跳\r\n*/\r\nGameApi.prototype.onHeartbeat = function () {\r\n    if (!this.heartbeatInterval) {\r\n        // no heartbeat\r\n        return;\r\n    }\r\n\r\n    let packet = Package.encode(Package.TYPE_HEARTBEAT);\r\n    if (this.heartbeatTimeoutId) {\r\n        clearTimeout(this.heartbeatTimeoutId);\r\n        this.heartbeatTimeoutId = null;\r\n    }\r\n\r\n    if (this.heartbeatId) {\r\n        // already in a heartbeat interval\r\n        return;\r\n    }\r\n    this.heartbeatId = setTimeout(() => {\r\n        this.heartbeatId = null;\r\n        this.socket.send(packet);\r\n\r\n        this.nextHeartbeatTimeout = Date.now() + this.heartbeatTimeout;\r\n        this.heartbeatTimeoutId = setTimeout(this.heartbeatTimeoutCb, this.heartbeatTimeout);\r\n    }, this.heartbeatInterval);\r\n};\r\n\r\n/**\r\n* 心跳超时的回调\r\n*/\r\nGameApi.prototype.heartbeatTimeoutCb = function () {\r\n    let gap = this.nextHeartbeatTimeout - Date.now();\r\n    if (gap > gapThreshold) {\r\n        this.heartbeatTimeoutId = setTimeout(this.heartbeatTimeoutCb, gap);\r\n    } else {\r\n        DEBUG && console.error('server heartbeat timeout');\r\n    }\r\n};\r\n\r\n/**\r\n* 收到数据回复\r\n*\r\n* @param {*} data\r\n*/\r\nGameApi.prototype.onData = function (data) {\r\n    let msg = Message.decode(data);\r\n\r\n    // 从发包请求中取回 Route\r\n    if (!msg.route && msg.id && this.callRoutes[msg.id]) {\r\n        msg.route = this.callRoutes[msg.id];\r\n    }\r\n\r\n    // 解码 Body\r\n    msg.body = JSON.parse(Protocol.strdecode(msg.body));\r\n\r\n    // 检查是否有回调\r\n    let cbMark = [], is_call = false, is_bubble = true;\r\n    if ('function' == typeof this.callbacks[msg.id]) {\r\n        let cb = this.callbacks[msg.id];\r\n        delete this.callbacks[msg.id];\r\n        if ('string' == typeof cb.hookMark) {\r\n            cbMark.push(cb.hookMark);\r\n        }\r\n\r\n        is_call = true;\r\n        is_bubble = !(cb.call(this, msg.body) === false);\r\n    }\r\n\r\n    // 检查钩子\r\n    if (is_bubble && msg.route && 'object' == typeof this.hookHandlers[msg.route]) {\r\n        for (let i = 0; i < this.hookHandlers[msg.route].length; i++) {\r\n            const cb = this.hookHandlers[msg.route][i];\r\n            if ('string' == typeof cb.hookMark) {\r\n                if (cbMark.indexOf(cb.hookMark) >= 0) {\r\n                    continue;\r\n                }\r\n                cbMark.push(cb.hookMark);\r\n            }\r\n\r\n            is_call = true;\r\n            is_bubble = !(cb.call(this, msg.body) === false);\r\n            if (is_bubble) continue;\r\n        }\r\n    }\r\n\r\n    // 如果没有人接收 就打印出来\r\n    if (!is_call) {\r\n        DEBUG && console.log('onData', msg.route, msg.body);\r\n    }\r\n};\r\n\r\n/**\r\n* 被踢么？\r\n*\r\n* @param {*} data\r\n*/\r\nGameApi.prototype.onKick = function (data) {\r\n    DEBUG && console.log('onKick', data);\r\n};\r\n\r\n/**\r\n* 停止进程\r\n*/\r\nGameApi.prototype.Stop = function () {\r\n    // 标记自己要停止了\r\n    this.isStop = true;\r\n\r\n    // 如果都没建立 就不存在退出了\r\n    if (!this.socket) {\r\n        return;\r\n    }\r\n\r\n    // 断开 WS 链接\r\n    this.socket.close();\r\n\r\n    // 停止心跳\r\n    if (this.heartbeatId) {\r\n        clearInterval(this.heartbeatId)\r\n    }\r\n    if (this.heartbeatTimeoutId) {\r\n        clearTimeout(this.heartbeatTimeoutId);\r\n    }\r\n    if (this.xyUpdateIntervalId) {\r\n        clearInterval(this.xyUpdateIntervalId)\r\n    }\r\n}\r\n\r\n//======= 下面是游戏事件封装区 =======//\r\n\r\n/**\r\n* 发送握手包\r\n*\r\n* WebSocket 链接成功后自动发送\r\n*/\r\nGameApi.prototype.handShake = function () {\r\n    let handshakeBuffer = {\r\n        'sys': {\r\n            type: JS_WS_CLIENT_TYPE,\r\n            version: JS_WS_CLIENT_VERSION,\r\n            rsa: {},\r\n            protoVersion: this.protoVersion\r\n        }\r\n    };\r\n\r\n    this.sendMessage(handshakeBuffer);\r\n}\r\n\r\n/**\r\n* 登录游戏\r\n*\r\n* @param {*} email\r\n* @param {*} pwd\r\n* @param {*} code\r\n*/\r\nGameApi.prototype.login = function (_email, pwd, code, is_r) {\r\n    let email = _email || this.email,\r\n        password = pwd || this.password,\r\n        route = 'gate.gateHandler.queryEntry',\r\n        data = {\r\n            login_email: email,\r\n            login_pwd: password,\r\n            code: '',\r\n            is_r: true\r\n        };\r\n\r\n    // 设置握手回调\r\n    this.initCallback = function () {\r\n        // 尝试保存账号\r\n        this.email = email;\r\n        this.password = pwd;\r\n        this.user_info.email = email;\r\n\r\n        // 设置消息回调\r\n        this.sendMessage(data, route, this.onLogin);\r\n    }\r\n    this.start();\r\n}\r\n\r\n/**\r\n* 登录成功的回调\r\n*\r\n* @param {*} data\r\n*/\r\nGameApi.prototype.onLogin = function (data) {\r\n    if (data.code != RES_OK) {\r\n        DEBUG && console.error('onLogin', data.msg);\r\n        return true;\r\n    }\r\n    DEBUG && console.log('onLogin', data)\r\n\r\n    // 保存端口等信息\r\n    this.config.gamePort = data.port;\r\n    this.user_info.mid = data.mid;\r\n    this.token = data.token;\r\n\r\n    // 断开登录链接 重新连接到游戏服务器\r\n    this.isStop = true; // 先标记停止 然后等下再开起来\r\n    this.socket.close();\r\n    this.gameServer = this.getSocketServer(data.port);\r\n    this.initCallback = this.loginToken;\r\n    this.createWebSocket(this.gameServer);\r\n}\r\n\r\n/**\r\n* 使用 Token 登录游戏服务器\r\n*/\r\nGameApi.prototype.loginToken = function () {\r\n    let route = 'connector.loginHandler.login',\r\n        data = {\r\n            email: this.user_info.email,\r\n            token: this.token\r\n        };\r\n\r\n    // 标记自己开工了\r\n    this.onClose = false;\r\n\r\n    // 先清空工作台\r\n    // DEBUG && console.clear();\r\n\r\n    // 如果登录成功\r\n    this.sendMessage(data, route, (data) => {\r\n        if (data.code != RES_OK) {\r\n            DEBUG && console.error('登录到游戏服务器失败', data);\r\n            this.Stop();\r\n            return;\r\n        }\r\n\r\n        DEBUG && console.log('登录到游戏服务器成功', this, data);\r\n\r\n        // 开始定时提交仙蕴\r\n        this.xyUpdateIntervalId = setInterval(() => {\r\n            this.xyUpdate()\r\n        }, 60000);\r\n    });\r\n}\r\n\r\n/**\r\n* 发送消息\r\n*/\r\nGameApi.prototype.chatSend = function (send_msg) {\r\n    this.sendMessage({\r\n        send_channel: 3,\r\n        send_msg\r\n    }, \"chat.chatHandler.send\")\r\n}\r\n\r\n/**\r\n* 仙蕴提交\r\n*/\r\nGameApi.prototype.xyUpdate = function () {\r\n    this.sendMessage({}, \"connector.userHandler.xyUpdate\");\r\n}\r\n\r\n/**\r\n* 查看我的日志\r\n*/\r\nGameApi.prototype.getMylogs = function () {\r\n    this.sendMessage({}, \"connector.userHandler.getMylogs\");\r\n}\r\n\r\n/**\r\n* 获取我的法宝\r\n*/\r\nGameApi.prototype.getMyFb = function () {\r\n    this.sendMessage({}, \"connector.userHandler.getMyFb\");\r\n}\r\n\r\n/**\r\n* 获取我的法宝\r\n*/\r\nGameApi.prototype.upPlayerLevel = function () {\r\n    this.sendMessage({}, \"connector.userHandler.upPlayerLevel\");\r\n}\r\n\r\n/**\r\n* 升级技能\r\n*/\r\nGameApi.prototype.upLevelUserSkill = function (type, id) {\r\n    this.sendMessage({ type, id }, \"connector.playerHandler.upLevelUserSkill\");\r\n}\r\n\r\n/**\r\n* 法宝点击\r\n* @param type 1 升星 2共生 3养灵 4佩戴\r\n* @param id\r\n*/\r\nGameApi.prototype.fbProcess = function (type, id) {\r\n    this.sendMessage({\r\n        type, id\r\n    }, \"connector.userHandler.fbProcess\");\r\n}\r\n\r\n/**\r\n* 移动\r\n* @param x     横坐标\r\n* @param mid   地图id\r\n*/\r\nGameApi.prototype.move = function (x, mid) {\r\n    this.sendMessage({\r\n        x: x,\r\n        mid: mid\r\n    }, \"connector.playerHandler.move\");\r\n}\r\n\r\n/**\r\n* 切换地图\r\n* @param type 0 | 1\r\n*/\r\nGameApi.prototype.nextMap = function (type) {\r\n    this.sendMessage({\r\n        type\r\n    }, \"connector.playerHandler.nextMap\");\r\n}\r\n\r\n/**\r\n* 移动至新地图\r\n*/\r\nGameApi.prototype.moveToNewMap = function (mid) {\r\n    this.sendMessage({\r\n        mid: mid\r\n    }, \"connector.playerHandler.moveToNewMap\");\r\n}\r\n\r\n/**\r\n* 获取战斗场景列表\r\n*/\r\nGameApi.prototype.getAllCombatScreen = function () {\r\n    this.sendMessage({}, \"connector.teamHandler.getAllCombatScreen\");\r\n}\r\n\r\n/**\r\n* 切换战斗场景\r\n* @param {*} cbatid\r\n*/\r\nGameApi.prototype.switchCombatScreen = function (cbatid) {\r\n    this.sendMessage({\r\n        cbatid: cbatid\r\n    }, \"connector.teamHandler.switchCombatScreen\");\r\n}\r\n\r\n/**\r\n* 获取队伍列表\r\n*/\r\nGameApi.prototype.getTeamList = function (mid) {\r\n    this.sendMessage({\r\n        mid: mid\r\n    }, \"connector.teamHandler.getTeamList\");\r\n}\r\n\r\n/**\r\n* 创建队伍\r\n*/\r\nGameApi.prototype.createdTeam = function (mid) {\r\n    this.sendMessage({\r\n        mid: mid\r\n    }, \"connector.teamHandler.createdTeam\");\r\n}\r\n\r\n/**\r\n* 加入队伍\r\n*/\r\nGameApi.prototype.addTeam = function (tid) {\r\n    this.sendMessage({\r\n        tid: tid\r\n    }, \"connector.teamHandler.addTeam\");\r\n}\r\n\r\n/**\r\n* 离开队伍\r\n*/\r\nGameApi.prototype.leaveTeam = function () {\r\n    this.sendMessage({}, \"connector.teamHandler.leaveTeam\");\r\n}\r\n\r\n/**\r\n* 开始战斗\r\n*/\r\nGameApi.prototype.startCombat = function (cbatid) {\r\n    this.sendMessage({ cbatid: cbatid }, 'connector.teamHandler.startCombat');\r\n}\r\n\r\n/**\r\n* 回合操作\r\n*\r\n* @param type      类型 捕捉 1001 技能 1\r\n* @param skill     操作 技能\r\n* @param attack_id 目标\r\n* @param tid       队伍ID?\r\n*/\r\nGameApi.prototype.roundOperating = function (type, skill, attack_id, mtid) {\r\n    this.sendMessage({\r\n        type: type,\r\n        parm: skill,\r\n        attack_id: attack_id,\r\n        tid: mtid\r\n    }, \"connector.teamHandler.roundOperating\");\r\n}\r\n\r\n/**\r\n* 初始我得物品\r\n*/\r\nGameApi.prototype.getMyGoods = function (page) {\r\n    this.sendMessage({\r\n        page\r\n    }, \"connector.userHandler.getMyGoods\");\r\n}\r\n\r\n/**\r\n* 出售物品\r\n*/\r\nGameApi.prototype.playerSellGoods = function (ugid, price, count) {\r\n    this.sendMessage({\r\n        ugid: ugid,\r\n        game_gold: price,\r\n        count\r\n    }, \"connector.playerHandler.sellGoods\");\r\n}\r\n\r\n/**\r\n* 选择我的称号\r\n*/\r\nGameApi.prototype.selectMyTitle = function (index) {\r\n    this.sendMessage({\r\n        index\r\n    }, \"connector.userHandler.selectMyTitle\");\r\n}\r\n\r\n/**\r\n* 称号弹框\r\n*/\r\nGameApi.prototype.getMyTitle = function () {\r\n    this.sendMessage({}, \"connector.userHandler.getMyTitle\");\r\n}\r\n\r\n/**\r\n* 初始我得宠物\r\n*/\r\nGameApi.prototype.getMyPet = function () {\r\n    this.sendMessage({}, \"connector.userHandler.getMyPet\");\r\n}\r\n\r\n/**\r\n* 挖宝图\r\n*/\r\nGameApi.prototype.wbt = function (ugid) {\r\n    this.sendMessage({\r\n        ugid\r\n    }, \"connector.userHandler.wbt\");\r\n}\r\n\r\n/**\r\n* 领高级宝图任务\r\n*/\r\nGameApi.prototype.getCopyTask = function (tid) {\r\n    this.sendMessage({\r\n        tid\r\n    }, \"connector.playerHandler.getCopyTask\");\r\n}\r\n\r\n/**\r\n* 初始我得技能\r\n*/\r\nGameApi.prototype.getMySkill = function () {\r\n    this.sendMessage({}, \"connector.userHandler.getMySkill\");\r\n}\r\n\r\n/**\r\n* 修炼装备\r\n*/\r\nGameApi.prototype.repairUserArms = function (type) {\r\n    this.sendMessage({\r\n        type\r\n    }, \"connector.userHandler.repairUserArms\");\r\n}\r\n\r\n/**\r\n* 获取任务列表\r\n*/\r\nGameApi.prototype.getUserTask = function () {\r\n    this.sendMessage({\r\n    }, \"connector.userHandler.getUserTask\");\r\n}\r\n\r\n/**\r\n* 使用物品\r\n*/\r\nGameApi.prototype.useGoods = function (gid) {\r\n    this.sendMessage({\r\n        gid\r\n    }, \"connector.userHandler.useGoods\");\r\n}\r\n\r\n/**\r\n* 更新角色信息\r\n*/\r\nGameApi.prototype.userInfo = function () {\r\n    this.sendMessage({\r\n    }, \"connector.userHandler.userInfo\");\r\n}\r\n\r\n/**\r\n* 佩戴拆卸装备\r\n*/\r\nGameApi.prototype.wearUserEquipment = function (ueid) {\r\n    this.sendMessage({\r\n        ueid\r\n    }, \"connector.playerHandler.wearUserEquipment\");\r\n}\r\n\r\n/**\r\n* 完成任务\r\n*/\r\nGameApi.prototype.payUserTask = function (utid) {\r\n    this.sendMessage({\r\n        utid\r\n    }, \"connector.playerHandler.payUserTask\");\r\n}\r\n\r\n/**\r\n* 幻化宠物\r\n*/\r\nGameApi.prototype.turnIntoPet = function (pid) {\r\n    this.sendMessage({\r\n        pid\r\n    }, \"connector.userHandler.turnIntoPet\");\r\n}\r\n\r\n/**\r\n* 初始系统中出售物品\r\n*/\r\nGameApi.prototype.getSystemSellGoods = function (pageIndex) {\r\n    this.sendMessage({\r\n        pageIndex\r\n    }, \"connector.systemHandler.getSystemSellGoods\");\r\n}\r\n\r\n/**\r\n* 取回到背包\r\n*/\r\nGameApi.prototype.shelfMyGoods = function (id) {\r\n    this.sendMessage({\r\n        id: id\r\n    }, \"connector.userHandler.shelfMyGoods\");\r\n}\r\n\r\n/**\r\n* 初始仙坊集市\r\n*/\r\nGameApi.prototype.getPlayerSellGoods = function (pageIndex, type) {\r\n    this.sendMessage({\r\n        pageIndex: pageIndex ? pageIndex : 1,\r\n        select: type\r\n    }, \"connector.playerHandler.getPlayerSellGoods\");\r\n}\r\n\r\n/**\r\n* 购买玩家物品\r\n*/\r\nGameApi.prototype.byPalyerGoods = function (id, type) {\r\n    this.sendMessage({\r\n        usgid: id, type\r\n    }, \"connector.playerHandler.byPalyerGoods\");\r\n}\r\n\r\n/**\r\n* 购买系统物品\r\n*/\r\nGameApi.prototype.byGoodsToSystem = function (type, id) {\r\n    this.sendMessage({\r\n        id, type\r\n    }, \"connector.playerHandler.byGoodsToSystem\");\r\n}\r\n\r\n/**\r\n* 初始任务中心\r\n*/\r\nGameApi.prototype.getSystemTask = function () {\r\n    this.sendMessage({}, \"connector.systemHandler.getSystemTask\");\r\n}\r\n\r\n// 开关系统广播\r\nGameApi.prototype.subSystemMsg = function (status) {\r\n    this.sendMessage({ status }, \"connector.systemHandler.subSystemMsg\");\r\n}\r\n\r\n/**\r\n* 合成物品\r\n*/\r\nGameApi.prototype.makeGoods = function (selectGoodsArr) {\r\n    this.sendMessage({\r\n        arr: selectGoodsArr\r\n    }, \"connector.userHandler.makeGoods\");\r\n}\r\n\r\n/**\r\n* 分解物品\r\n*/\r\nGameApi.prototype.sellGoods = function (selectGoodsArr) {\r\n    this.sendMessage({\r\n        arr: selectGoodsArr\r\n    }, \"connector.userHandler.sellGoods\");\r\n}\r\n\r\n/**\r\n* 出战宠物\r\n*/\r\nGameApi.prototype.playUserPet = function (id, status) {\r\n    this.sendMessage({\r\n        pid: id,\r\n        status\r\n    }, \"connector.userHandler.playUserPet\");\r\n}\r\n\r\n/**\r\n* 升级宠物  type==1升级  type==2分配潜力 type==3放生\r\n*/\r\nGameApi.prototype.upUserPetLevel = function (pid, type, point) {\r\n    let parms = { pid: pid, type };\r\n    if (type == 2) {\r\n        point = point || {};\r\n        Object.assign(parms, {\r\n            str: point.str || null,\r\n            int: point.int || null,\r\n            agi: point.agi || null,\r\n            vit: point.vit || null,\r\n            con: point.con || null\r\n        });\r\n    }\r\n    this.sendMessage(parms, \"connector.userHandler.upUserPetLevel\");\r\n}\r\n\r\n/**\r\n* 发送消息\r\n*/\r\nGameApi.prototype.send = function (send_channel, send_msg) {\r\n    this.sendMessage({\r\n        send_channel,\r\n        send_msg\r\n    }, \"chat.chatHandler.send\");\r\n}\r\n\r\n/**\r\n* 保存/分配属性点\r\n*/\r\nGameApi.prototype.allocationPoint = function (str, int, agi, vit, con) {\r\n    this.sendMessage({\r\n        str: str, // 力量\r\n        int: int, // 智力\r\n        agi: agi, // 敏捷\r\n        vit: vit, // 耐力\r\n        con: con  // 体质\r\n    }, \"connector.userHandler.allocationPoint\");\r\n}\r\n\r\n/**\r\n* 获取我得装备列表\r\n*/\r\nGameApi.prototype.getUserEqs = function () {\r\n    this.sendMessage({}, \"connector.userHandler.getUserEqs\");\r\n}\r\n\r\n/**\r\n* 更新玩家货币\r\n*/\r\nGameApi.prototype.updateUserPrice = function () {\r\n    this.sendMessage({}, \"connector.userHandler.updateUserPrice\");\r\n}\r\n\r\n/**\r\n* 显示我的团队\r\n*/\r\nGameApi.prototype.showMyTeam = function (is_show) {\r\n    this.sendMessage({ is_show }, \"connector.teamHandler.showMyTeam\");\r\n}\r\n\r\n/**\r\n* 排行榜?\r\n* @param type 1=等级 2=兽宠 3=神兵\r\n*/\r\nGameApi.prototype.getRankList = function (type) {\r\n    this.sendMessage({ type }, \"connector.systemHandler.getRankList\");\r\n}\r\n\r\n/**\r\n* 初始聚仙阁楼页面\r\n*/\r\nGameApi.prototype.initFation = function () {\r\n    this.sendMessage({}, \"connector.fationHandler.initFation\");\r\n}\r\n\r\n/**\r\n* 创建工会\r\n*/\r\nGameApi.prototype.createFation = function (name) {\r\n    this.sendMessage({\r\n        name\r\n    }, \"connector.fationHandler.createFation\");\r\n}\r\n\r\n/**\r\n* 申请工会\r\n*/\r\nGameApi.prototype.applyForFation = function (fid) {\r\n    this.sendMessage({\r\n        fid\r\n    }, \"connector.fationHandler.applyForFation\");\r\n}\r\n\r\n\r\n/**\r\n* 同意入会\r\n* @param type              1=同意 2=拒绝\r\n* @param fation_apply_id\r\n*/\r\nGameApi.prototype.doneFationApply = function (type, fation_apply_id) {\r\n    this.sendMessage({\r\n        type, faid: fation_apply_id\r\n    }, \"connector.fationHandler.doneFationApply\");\r\n}\r\n\r\n/**\r\n* 升降职位\r\n*/\r\nGameApi.prototype.upUserFationLevel = function (type, uid) {\r\n    this.sendMessage({\r\n        type, uid\r\n    }, \"connector.fationHandler.upUserFationLevel\");\r\n}\r\n\r\n/**\r\n* 打开工会列表\r\n*/\r\nGameApi.prototype.getFationList = function () {\r\n    this.sendMessage({}, \"connector.fationHandler.getFationList\");\r\n}\r\n\r\n/**\r\n* 查看申请\r\n*/\r\nGameApi.prototype.getFationApply = function () {\r\n    this.sendMessage({}, \"connector.fationHandler.getFationApply\");\r\n}\r\n\r\n/**\r\n* 查看工会人员\r\n*/\r\nGameApi.prototype.showFationUserList = function () {\r\n    this.sendMessage({}, \"connector.fationHandler.showFationUserList\");\r\n}\r\n\r\n/**\r\n* 脱离工会\r\n*/\r\nGameApi.prototype.leaveFation = function () {\r\n    this.sendMessage({}, \"connector.fationHandler.leaveFation\");\r\n}\r\n\r\n/**\r\n* 点技能\r\n*/\r\nGameApi.prototype.upFationUserSkill = function (type) {\r\n    this.sendMessage({\r\n        type\r\n    }, \"connector.fationHandler.upFationUserSkill\");\r\n}\r\n\r\n/**\r\n* 捐赠\r\n*/\r\nGameApi.prototype.donateFationFunds = function () {\r\n    this.sendMessage({}, \"connector.fationHandler.donateFationFunds\");\r\n}\r\n\r\n/**\r\n* 领取任务\r\n*/\r\nGameApi.prototype.getFationTask = function () {\r\n    this.sendMessage({}, \"connector.fationHandler.getFationTask\");\r\n}\r\n\r\n/**\r\n* 升级工会\r\n*/\r\nGameApi.prototype.upFation = function (type) {\r\n    this.sendMessage({\r\n        type\r\n    }, \"connector.fationHandler.upFation\");\r\n}\r\n\r\n/**\r\n* 聚灵\r\n*/\r\nGameApi.prototype.polyLin = function (type) {\r\n    this.sendMessage({\r\n        type\r\n    }, \"connector.userHandler.polyLin\");\r\n}\r\n\r\n/**\r\n* 放弃任务\r\n*/\r\nGameApi.prototype.closeUserTask = function (tid) {\r\n    this.sendMessage({\r\n        tid: tid\r\n    }, \"connector.fationHandler.closeUserTask\");\r\n}\r\n\r\n/**\r\n* 整理\r\n*/\r\nGameApi.prototype.allSellGoods = function () {\r\n    this.sendMessage({}, \"connector.userHandler.allSellGoods\");\r\n}\r\n\r\n/**\r\n* 重置属性\r\n*/\r\nGameApi.prototype.resetAttribute = function () {\r\n    this.sendMessage({}, \"connector.userHandler.resetAttribute\");\r\n}\r\n\r\n/**\r\n* 预览合宠\r\n*/\r\nGameApi.prototype.getNewPet = function (a_id, b_id) {\r\n    this.sendMessage({\r\n        ids: a_id + \",\" + b_id\r\n    }, \"connector.userHandler.getNewPet\");\r\n}\r\n\r\n/**\r\n* 确认合成\r\n*/\r\nGameApi.prototype.fitPet = function (a_id, b_id) {\r\n    this.sendMessage({\r\n        ids: a_id + \",\" + b_id\r\n    }, \"connector.userHandler.fitPet\");\r\n}\r\n\r\n/**\r\n* 添加用户宠物技能?\r\n*/\r\nGameApi.prototype.addUserPetSkill = function (ugid,upid) {\r\n    this.sendMessage({\r\n        ugid, upid\r\n    }, \"connector.userHandler.addUserPetSkill\");\r\n}\r\n\r\n/**\r\n* 获取我的宠物用品?\r\n*/\r\nGameApi.prototype.getMyPetSkillGoods = function () {\r\n    this.sendMessage({}, \"connector.userHandler.getMyPetSkillGoods\");\r\n}\r\n\r\nexport default GameApi\r\n","import GameApi from './YunDingOnlineSDK'\r\n\r\nwindow.freshPackage = true\r\nwindow.chatMsg = []\r\nwindow.screens = []\r\n\r\n// 暴露一个接口 用来接收 app 对象\r\nexport default function (_app) {\r\n    const app = _app;\r\n\r\n    function buildUserTasks (userTasks) {\r\n        const taskList = []\r\n        userTasks.map(task => {\r\n            const give = []\r\n            task.task.give_goods.map((gds, i) => {\r\n                give.push(`${gds.name} x ${task.task.give_goods_num[i].count}`)\r\n            })\r\n            if (task.task.contribution_num) {\r\n                give.push(`帮贡 ${task.task.contribution_num}`)\r\n            }\r\n\r\n            const need = []\r\n            task.needGoods.map(gds => {\r\n                need.push(`${gds.name} [${gds.have_count}/${gds.need_count}]`)\r\n            })\r\n\r\n            taskList.push({\r\n                utid: task.utid,\r\n                _id: task.task._id,\r\n                title: task.task.name,\r\n                info: task.task.info,\r\n                give,\r\n                need\r\n            })\r\n        })\r\n        app.$set(app.user, 'userTasks', taskList);\r\n    }\r\n\r\n    // 创建空函数 屏蔽 onLeave onAdd 消息刷屏\r\n    let emptyCb = () => {};\r\n    emptyCb.hookMark = 'regHooks.emptyCb';\r\n    GameApi.regHookHandlers['onLeave'].push(emptyCb);\r\n    GameApi.regHookHandlers['onAdd'].push(emptyCb);\r\n\r\n    function sendValidateCode (email) {\r\n        fetch(\"http://yundingxx.com:3366/api/sendMailCode\", {\r\n            \"headers\": {\r\n                \"content-type\": \"application/x-www-form-urlencoded; charset=UTF-8\"\r\n            },\r\n            \"body\": `email=${email}`,\r\n            \"method\": \"POST\",\r\n            \"mode\": \"cors\",\r\n            \"credentials\": \"include\"\r\n        }).then(rs => rs.json()).then(rs => {\r\n            if (rs.code == 304) {\r\n                const next = rs.data + 1;\r\n                app.$Message.info(`${next}秒后自动重新获取验证码然后刷新`);\r\n                setTimeout(() => sendValidateCode(email), next * 1000);\r\n            } else {\r\n                location.reload();\r\n            }\r\n        });\r\n    }\r\n\r\n    // 接管登录成功的回调\r\n    let loginCb = function (data) {\r\n        console.log(data)\r\n        let user = app.user;\r\n        // 检查错误\r\n        if (data.code == 500) {\r\n            app.$set(user, 'status', \"登录失败\");\r\n            app.$set(user, 'status_msg', \"账号已在他处登录\");\r\n            return;\r\n        } else if (data.code != 200) {\r\n            if (data.code == 400) {\r\n                sendValidateCode(user.email);\r\n            }\r\n            app.$set(user, 'status', \"登录失败\");\r\n            app.$set(user, 'status_msg', data.msg || '未知错误');\r\n            return;\r\n        }\r\n\r\n        // 登录成功\r\n        if (data.token) {\r\n            user.status = '鉴权成功';\r\n            return;\r\n        }\r\n        user.status = '登录成功';\r\n\r\n        // 没有数据就不在继续了\r\n        if ('object' != typeof data.data) {\r\n            return;\r\n        }\r\n        app.$set(user, 'userEqs', data.data.userEqs);\r\n        app.$set(user, 'myInfo', data.data.myInfo);\r\n        buildUserTasks(data.data.userTasks);\r\n        // 记录地图位置\r\n        app.$set(user, 'map', data.data.map);\r\n        // 获取一些初始化的信息\r\n        this.userInfo();\r\n        this.getSystemTask(); // 任务中心\r\n        // 获取地图队伍列表\r\n        this.getTeamList(app.user.map.id);\r\n        // 获取物品信息\r\n        app.$set(user, 'goods', []);\r\n        app.$set(user, 'goodsPage', 1);\r\n        this.getMyGoods();\r\n        // 获取技能信息\r\n        this.getMySkill();\r\n    }\r\n    loginCb.hookMark = \"regHooks.loginCb\";\r\n    GameApi.regHookHandlers['gate.gateHandler.queryEntry'].push(loginCb);\r\n    GameApi.regHookHandlers['connector.loginHandler.login'].push(loginCb);\r\n\r\n    // 移动地图的返回\r\n    let moveToNewMapCb = function (data) {\r\n        if (data.code != 200) {\r\n            app.$Message.error(data.msg);\r\n            return;\r\n        }\r\n\r\n        // 更新地图位置\r\n        app.$set(app.user, 'map', data.map);\r\n    };\r\n    moveToNewMapCb.hookMark = \"regHooks.moveToNewMapCb\";\r\n    GameApi.regHookHandlers['connector.playerHandler.moveToNewMap'].push(moveToNewMapCb);\r\n\r\n    // 创建队伍回调\r\n    let createdTeamCb = function (data) {\r\n        if (data.code != 200) {\r\n            app.$Message.error(data.msg);\r\n            return;\r\n        }\r\n\r\n        // 保存队长信息\r\n        app.$set(app.user, 'team', {\r\n            leader: this.email,\r\n            users: []\r\n        });\r\n\r\n        app.$Message.success('队伍创建成功');\r\n    }\r\n    createdTeamCb.hookMark = \"regHooks.createdTeamCb\";\r\n    GameApi.regHookHandlers['connector.teamHandler.createdTeam'].push(createdTeamCb);\r\n\r\n    // 离开队伍的回调\r\n    let leaveTeamCb = function (data) {\r\n        if (data.code != 200) {\r\n            app.$Message.error(data.msg);\r\n            return;\r\n        }\r\n        app.$delete(app.user, 'team');\r\n        app.$Message.info('已离开队伍');\r\n\r\n        this.getTeamList(app.user.map.id)\r\n    }\r\n    leaveTeamCb.hookMark = \"regHooks.leaveTeamCb\";\r\n    GameApi.regHookHandlers['connector.teamHandler.leaveTeam'].push(leaveTeamCb);\r\n\r\n    // 加入队伍\r\n    let addTeamCb = function (data) {\r\n        if (data.code != 200) {\r\n            app.$Message.error(data.msg);\r\n            return;\r\n        }\r\n\r\n        // 整理结构\r\n        let combat = data.data.combat || null,\r\n            leader = data.data.users[0].nickname,\r\n            users = data.data.users;\r\n\r\n        for (let i = 0; i < this.user_info.screens.length; i++) {\r\n            const screen = this.user_info.screens[i];\r\n            if (screen._id == combat) {\r\n                combat = screen.name;\r\n            }\r\n        }\r\n\r\n        app.$set(app.user, 'team', {\r\n            combat: combat,\r\n            leader: leader,\r\n            users: users\r\n        });\r\n        app.$Message.info('已加入队伍');\r\n    }\r\n    addTeamCb.hookMark = \"regHooks.addTeamCb\";\r\n    GameApi.regHookHandlers['connector.teamHandler.addTeam'].push(addTeamCb);\r\n\r\n    // 重新接收队伍信息\r\n    let onMyTeamReloadCb = function (data) {\r\n        if (data.code && data.code != 200) {\r\n            app.$Message.error(data.msg);\r\n            return;\r\n        }\r\n\r\n        let user = app.user;\r\n\r\n        // 队员退出\r\n        if (data.new_uid && !data.team && user.team) {\r\n            // 移除队员\r\n            user.team.users.forEach((item, index) => {\r\n                if (item._id == data.new_uid) {\r\n                    user.team.users.splice(index, 1);\r\n                }\r\n            });\r\n            return;\r\n        }\r\n        if (data.data || !data.team) {\r\n            if (data.data) {\r\n                app.$set(user, 'fighting', false)\r\n            }\r\n            app.$delete(user, 'team')\r\n            app.$delete(user, 'combatName')\r\n            return;\r\n        }\r\n\r\n        // 获取队长信息\r\n        let leader = data.team.leader,\r\n            users = [];\r\n\r\n        for (let i = 0; i < data.team.users.length; i++) {\r\n            const user = data.team.users[i];\r\n            if (user._id == leader) {\r\n                leader = user.email;\r\n            }\r\n            users.push({\r\n                _id: user._id,\r\n                email: user.email,\r\n                level: user.level\r\n            })\r\n        }\r\n\r\n        app.$set(user, 'team', {\r\n            leader: leader,\r\n            users: users,\r\n            combat: data.team.combat\r\n        });\r\n\r\n        if (user.email === leader && app.user.fighting) {\r\n            this.startCombat(user.tempcombatid || user.combatId || data.team.combat);\r\n        }\r\n    }\r\n    onMyTeamReloadCb.hookMark = \"regHooks.onMyTeamReloadCb\";\r\n    GameApi.regHookHandlers['onMyTeamReload'].push(onMyTeamReloadCb);\r\n\r\n    // 获取队伍列表\r\n    let getTeamListCb = function (data) {\r\n\r\n        if (data.code != 200) {\r\n            app.$Message.error(data.msg);\r\n            return;\r\n        }\r\n        let user = app.user;\r\n\r\n        if (window.screens.length === 0) {\r\n            window.screens.push(...data.data.screens);\r\n        }\r\n\r\n        app.$set(user, 'screens', data.data.screens);\r\n        app.$set(user, 'teams', data.data.teams.filter(ts => ts.users.length !== ((ts.combat || {}).player_num)));\r\n    }\r\n    getTeamListCb.hookMark = \"regHooks.getTeamListCb\";\r\n    GameApi.regHookHandlers['connector.teamHandler.getTeamList'].push(getTeamListCb);\r\n\r\n    // 切换场景回调\r\n    let switchCombatScreenCb = function (data) {\r\n        if (data.code != 200) {\r\n            app.$Message.error(data.msg);\r\n            return;\r\n        }\r\n\r\n        app.$Message.success(\"切换副本成功\");\r\n        this.getTeamList(app.user.map.id)\r\n    }\r\n    switchCombatScreenCb.hookMark = \"regHooks.switchCombatScreenCb\";\r\n    GameApi.regHookHandlers['connector.teamHandler.switchCombatScreen'].push(switchCombatScreenCb);\r\n\r\n    // 战斗开始\r\n    let onStartBatCb = function (data) {\r\n        if (data.code != 200) {\r\n            app.$Message.error(data.msg);\r\n            return;\r\n        }\r\n        const user = app.user\r\n        const battleUnit = data.data.initData\r\n        \r\n        let catchTarget\r\n        const catchList = user.catchType ? user.catchPetBySkill: user.catchPet;\r\n        // 匹配捕捉的宠物名称\r\n        if (catchList && catchList.includes) {\r\n            catchTarget = battleUnit.find(bu => bu.team === 2 && catchList.includes(bu.name.replace(/<[^>]+>/g, '')));\r\n        }\r\n        if (catchTarget) {\r\n            this.roundOperating(\r\n                '1001',\r\n                '',\r\n                catchTarget.id,\r\n                user.team ? user.team._id : ''\r\n            );\r\n        } else {\r\n            this.roundOperating(\r\n                user.skilltype || '1',\r\n                user.skillid || '1',\r\n                '',\r\n                user.team ? user.team._id : ''\r\n            );\r\n        }\r\n    }\r\n    onStartBatCb.hookMark = \"regHooks.onStartBatCb\";\r\n    GameApi.regHookHandlers['onStartBat'].push(onStartBatCb);\r\n\r\n    // 战斗结束\r\n    let onRoundBatEndCb = function (data) {\r\n        // 开启新的战斗\r\n        // data.data.win 判断战斗结果\r\n        const user = app.user\r\n        if (user.myInfo.hp_store < 5000) {\r\n            this.byGoodsToSystem(2, '5eef5b6e0faad0b123d709c5');\r\n        }\r\n        if (user.myInfo.mp_store < 5000) {\r\n            this.byGoodsToSystem(2, '5eef5d140faad0b123d709c6');\r\n        }\r\n        if (user.fighting && user.team) {\r\n            this.startCombat(user.tempcombatid || user.combatId || user.team.combat);\r\n        }\r\n\r\n        // 保存战斗消息\r\n        app.setMessage(this.email, data.data);\r\n        this.userInfo();\r\n    }\r\n    onRoundBatEndCb.hookMark = \"regHooks.onRoundBatEndCb\";\r\n    GameApi.regHookHandlers['onRoundBatEnd'].push(onRoundBatEndCb);\r\n\r\n    // 发送消息\r\n    let chatSendCb = function (data) {\r\n        if (data.code != 200) {\r\n            app.$Message.error(data.msg);\r\n            return;\r\n        }\r\n    }\r\n    chatSendCb.hookMark = \"regHooks.chatSendCb\";\r\n    GameApi.regHookHandlers['chat.chatHandler.send'].push(chatSendCb);\r\n\r\n    // 接收消息\r\n    let onChatMsgCb = function (data) {\r\n        data.key = Date.now();\r\n        window.chatMsg.push(data);\r\n    }\r\n    onChatMsgCb.hookMark = \"regHooks.onChatMsgCb\";\r\n    GameApi.regHookHandlers['onChatMsg'].push(onChatMsgCb);\r\n\r\n    // 获取我的背包物品\r\n    let getMyGoodsCb = function (data) {\r\n        if (data.code != 200) {\r\n            app.$Message.error(data.msg);\r\n            return;\r\n        }\r\n        let flag = true;\r\n        for (let i = 0; i < data.data.goods.length; i++) {\r\n            const good = data.data.goods[i];\r\n            if (flag && good.goods && good.goods.info && good.goods.info.indexOf('储备值') > -1) {\r\n                this.useGoods(good._id);\r\n                flag = false;\r\n            } else {\r\n                let map, unusecbt, highcbt, goodsType\r\n                // 转换物品类型\r\n                switch (good.goods_type) {\r\n                    case '5eee25a1ba4d0b4c4ef605d0':\r\n                        goodsType = '蛋';\r\n                        break;\r\n                    case '5ec63cc24947081a6cd8d3a6':\r\n                        goodsType = '未鉴定的装备';\r\n                        break;\r\n                    case '5e77ee52b1012a6374d2bd1b':\r\n                        goodsType = '可装备的装备';\r\n                        break;\r\n                    case '5f01e52c0f80941f56ecc1ae':\r\n                        goodsType = '藏宝图';\r\n                        break;\r\n                    case '5ef04600544717379c820835':\r\n                        goodsType = '技能书';\r\n                        break;\r\n                    case '5ec63cb54947081a6cd8d3a5':\r\n                        goodsType = '材料';\r\n                        break;\r\n                    case '5f01e4990f80941f56ecc1ac':\r\n                        goodsType = '法宝材料';\r\n                        break;\r\n                    case '5eedd0138822d61cf3d9548a':\r\n                    case '5eedd0178822d61cf3d9548b':\r\n                        goodsType = '兽决';\r\n                        break;\r\n                    case '5eef5f0b0faad0b123d709d0':\r\n                        goodsType = '大补丹';\r\n                        break;\r\n                    case '5eef5f0b0faad0b123d709d0':\r\n                        goodsType = '大补丹';\r\n                        break;\r\n                    default:\r\n                        // console.log(`这个${good.name}俺不知道是什么类型`)\r\n                        break;\r\n                }\r\n                // 解析宝图位置\r\n                if (good.name && good.expand) {\r\n                    map = JSON.parse(good.expand).map\r\n                } else if ((good.name || good.goods.name).indexOf('藏宝图') > -1) {\r\n                    if ((good.name || good.goods.name).indexOf('高级藏宝图') > -1) {\r\n                        highcbt = true\r\n                    }\r\n                    unusecbt = true\r\n                }\r\n\r\n                app.user.goods.push({\r\n                    id: good._id,\r\n                    num: good.count,\r\n                    map,\r\n                    unusecbt,\r\n                    highcbt,\r\n                    name: good.name || good.goods.name,\r\n                    goodsType,\r\n                    info: good.goods || good\r\n                });\r\n            }\r\n        }\r\n\r\n        if (app.user.goods.length !== data.data.count) {\r\n            this.getMyGoods(++app.user.goodsPage);\r\n        }\r\n    }\r\n    getMyGoodsCb.hookMark = \"regHooks.getMyGoodsCb\";\r\n    GameApi.regHookHandlers['connector.userHandler.getMyGoods'].push(getMyGoodsCb);\r\n\r\n    // 购买蓝药血药\r\n    let byGoodsToSystemCb = function (data) {\r\n        if (data.code != 200) {\r\n            app.$Message.error(data.msg);\r\n            return;\r\n        }\r\n        app.$Message.success(data.msg);\r\n\r\n        // 重置背包\r\n        app.user.goods = [];\r\n        app.user.goodsPage = 1;\r\n        this.getMyGoods();\r\n    }\r\n    byGoodsToSystemCb.hookMark = \"regHooks.byGoodsToSystemCb\";\r\n    GameApi.regHookHandlers['connector.playerHandler.byGoodsToSystem'].push(byGoodsToSystemCb);\r\n\r\n    // 使用物品回调\r\n    let useGoodsCb = function (data) {\r\n        if (data.code != 200) {\r\n            app.$Message.error(data.msg);\r\n            return;\r\n        }\r\n        if (!window.freshPackage) return;\r\n        this.userInfo();\r\n        // 重置背包\r\n        app.user.goods = [];\r\n        app.user.goodsPage = 1;\r\n        this.getMyGoods();\r\n    }\r\n    useGoodsCb.hookMark = \"regHooks.useGoodsCb\";\r\n    GameApi.regHookHandlers['connector.userHandler.useGoods'].push(useGoodsCb);\r\n\r\n    // 仙蕴聚灵\r\n    let polyLinCb = function (data) {\r\n        if (data.code != 200) {\r\n            app.$Message.error(data.msg);\r\n            return;\r\n        }\r\n        this.userInfo();\r\n    }\r\n    polyLinCb.hookMark = \"regHooks.polyLinCb\";\r\n    GameApi.regHookHandlers['connector.userHandler.polyLin'].push(polyLinCb);\r\n\r\n    // 整理回调\r\n    let allSellGoodsCb = function (data) {\r\n        if (data.code != 200) {\r\n            app.$Message.error(data.msg);\r\n            return;\r\n        }\r\n        // 重置背包\r\n        app.user.goods = [];\r\n        app.user.goodsPage = 1;\r\n        this.getMyGoods();\r\n    }\r\n    allSellGoodsCb.hookMark = \"regHooks.allSellGoodsCb\";\r\n    GameApi.regHookHandlers['connector.userHandler.allSellGoods'].push(allSellGoodsCb);\r\n\r\n    // 分解物品回调\r\n    let sellGoodsCb = function (data) {\r\n        if (data.code != 200) {\r\n            app.$Message.error(data.msg);\r\n            return;\r\n        }\r\n        this.userInfo();\r\n        // 重置背包\r\n        app.user.goods = [];\r\n        app.user.goodsPage = 1;\r\n        this.getMyGoods();\r\n    }\r\n    useGoodsCb.hookMark = \"regHooks.sellGoodsCb\";\r\n    GameApi.regHookHandlers['connector.userHandler.sellGoods'].push(sellGoodsCb);\r\n\r\n    // 佩戴拆卸装备\r\n    let wearUserEquipmentCb = function (data) {\r\n        if (data.code != 200) {\r\n            app.$Message.error(data.msg);\r\n            return;\r\n        }\r\n        this.userInfo();\r\n        // 重置背包\r\n        app.user.goods = [];\r\n        app.user.goodsPage = 1;\r\n        this.getMyGoods();\r\n    }\r\n    useGoodsCb.hookMark = \"regHooks.wearUserEquipmentCb\";\r\n    GameApi.regHookHandlers['connector.playerHandler.wearUserEquipment'].push(wearUserEquipmentCb);\r\n\r\n    // 升级回调\r\n    let upPlayerLevelCb = function (data) {\r\n        if (data.code != 200) {\r\n            app.$Message.error(data.msg);\r\n            return;\r\n        }\r\n        this.userInfo();\r\n    }\r\n    upPlayerLevelCb.hookMark = \"regHooks.upPlayerLevelCb\";\r\n    GameApi.regHookHandlers['connector.userHandler.upPlayerLevel'].push(upPlayerLevelCb);\r\n\r\n    // 获取用户信息\r\n    let userInfoCb = function (data) {\r\n        if (data.code != 200) {\r\n            app.$Message.error(data.msg);\r\n            return;\r\n        }\r\n        data.user.nextExp = data.nextLevelGetExp\r\n        let user = app.user;\r\n        app.$set(user, 'myInfo', data.user);\r\n    }\r\n    userInfoCb.hookMark = \"regHooks.userInfoCb\";\r\n    GameApi.regHookHandlers['connector.userHandler.userInfo'].push(userInfoCb);\r\n\r\n    // 获取用户技能\r\n    let getMySkillCb = function (data) {\r\n        if (data.code != 200) {\r\n            app.$Message.error(data.msg);\r\n            return;\r\n        }\r\n        app.$set(app.user, 'skills', data.data.skill);\r\n\r\n        const arms = [];\r\n        const typeMap = {\r\n            0: '剑', 1: '枪', 2: '锤', 3: '伞'\r\n        };\r\n        const levelMap = {\r\n            0: { name: '入门', exp: 200 },\r\n            1: { name: '精修', exp: 500 },\r\n            2: { name: '意境', exp: 1500 },\r\n            3: { name: '心境', exp: 3500 },\r\n            4: { name: '解境', exp: 5000 },\r\n            5: { name: '魂入体', exp: 30000 },\r\n            6: { name: '灵出窍', exp: 100000 },\r\n            7: { name: '神境', exp: 500000 }\r\n        };\r\n        data.data.arms_exp.map((exp, index) => {\r\n            const typeName = typeMap[index];\r\n            const level = levelMap[data.data.arms_level[index]];\r\n            arms.push({ exp, needExp: level.exp, name: `${typeName}${level.name}` });\r\n        });\r\n        app.$set(app.user, 'arms', arms);\r\n    }\r\n    getMySkillCb.hookMark = \"regHooks.getMySkillCb\";\r\n    GameApi.regHookHandlers['connector.userHandler.getMySkill'].push(getMySkillCb);\r\n\r\n    // 升级主动技能\r\n    let upLevelUserSkillCb = function (data) {\r\n        if (data.code != 200) {\r\n            app.$Message.error(data.msg || `${data.code}错误但是没有错误信息，不知道作者搞什么鬼`);\r\n            return;\r\n        }\r\n        this.getMySkill();\r\n    }\r\n    upLevelUserSkillCb.hookMark = \"regHooks.upLevelUserSkillCb\";\r\n    GameApi.regHookHandlers['connector.playerHandler.upLevelUserSkill'].push(upLevelUserSkillCb);\r\n\r\n    // 分配属性点回调\r\n    let allocationPointCb = function (data) {\r\n        if (data.code != 200) {\r\n            app.$Message.error(data.msg);\r\n            return;\r\n        }\r\n        this.userInfo();\r\n    }\r\n    allocationPointCb.hookMark = \"regHooks.allocationPointCb\";\r\n    GameApi.regHookHandlers['connector.userHandler.allocationPoint'].push(allocationPointCb);\r\n\r\n    // 获取系统任务\r\n    let getSystemTaskCb = function (data) {\r\n        if (data.code != 200) {\r\n            app.$Message.error(data.msg);\r\n            return;\r\n        }\r\n        const taskList = []\r\n        data.data.list.map(task => {\r\n            taskList.push({\r\n                _id: task._id,\r\n                title: task.name,\r\n                info: task.info\r\n            })\r\n        })\r\n        app.$set(app.user, 'systemTask', taskList);\r\n    }\r\n    getSystemTaskCb.hookMark = \"regHooks.getSystemTaskCb\";\r\n    GameApi.regHookHandlers['connector.systemHandler.getSystemTask'].push(getSystemTaskCb);\r\n\r\n    // 领取任务\r\n    let getCopyTaskCb = function (data) {\r\n        \r\n        if (data.code != 200) {\r\n            app.$Message.error(data.msg);\r\n            return;\r\n        }\r\n        this.getUserTask();\r\n    }\r\n    getCopyTaskCb.hookMark = \"regHooks.getCopyTaskCb\";\r\n    GameApi.regHookHandlers['connector.playerHandler.getCopyTask'].push(getCopyTaskCb);\r\n\r\n    // 获取任务列表\r\n    let getUserTaskCb = function (data) {\r\n        if (data.code != 200) {\r\n            app.$Message.error(data.msg);\r\n            return;\r\n        }\r\n        buildUserTasks(data.data)\r\n    }\r\n    getUserTaskCb.hookMark = \"regHooks.getUserTaskCb\";\r\n    GameApi.regHookHandlers['connector.userHandler.getUserTask'].push(getUserTaskCb);\r\n\r\n    // 完成任务回调\r\n    let payUserTaskCb = function (data) {\r\n        \r\n        if (data.code != 200) {\r\n            app.$Message.error(data.msg);\r\n            return;\r\n        }\r\n        // 重置背包\r\n        app.user.goods = [];\r\n        app.user.goodsPage = 1;\r\n        this.getMyGoods();\r\n        this.getUserTask();\r\n    }\r\n    payUserTaskCb.hookMark = \"regHooks.payUserTaskCb\";\r\n    GameApi.regHookHandlers['connector.playerHandler.payUserTask'].push(payUserTaskCb);\r\n\r\n    // 挖宝图回调\r\n    let wbtCb = function (data) {\r\n        if (!app.user.wbtResult) {\r\n            app.user.wbtResult = []\r\n        }\r\n        app.user.wbtResult.push(data.msg);\r\n        if (data.code != 200) {\r\n            app.$Message.error({\r\n                background: true,\r\n                content: data.msg\r\n            });\r\n            return;\r\n        }\r\n        app.$Message.success({\r\n            background: true,\r\n            content: data.msg\r\n        });\r\n        if (!window.freshPackage) return;\r\n        // 重置背包\r\n        app.user.goods = [];\r\n        app.user.goodsPage = 1;\r\n        this.getMyGoods();\r\n    }\r\n    wbtCb.hookMark = \"regHooks.wbtCb\";\r\n    GameApi.regHookHandlers['connector.userHandler.wbt'].push(wbtCb);\r\n    // 合成物品回调\r\n    let makeGoodsCb = function (data) {\r\n        if (data.code != 200) {\r\n            app.$Message.error(data.msg);\r\n            return;\r\n        }\r\n        app.$Message.success(data.msg);\r\n\r\n        // 重置背包\r\n        app.user.goods = [];\r\n        app.user.goodsPage = 1;\r\n        this.getMyGoods();\r\n    }\r\n    makeGoodsCb.hookMark = \"regHooks.makeGoodsCb\";\r\n    GameApi.regHookHandlers['connector.userHandler.makeGoods'].push(makeGoodsCb);\r\n\r\n\r\n\r\n    //获取宠物信息\r\n    let getMyPetCb = function (data) {\r\n        if (data.code != 200) {\r\n            app.$Message.error(data.msg);\r\n            return;\r\n        }\r\n\r\n        app.$set(app.user, 'myPets', data.data.data.sort((a, b) => (b.skill || []).length - (a.skill || []).length));\r\n    }\r\n    getMyPetCb.hookMark = \"regHooks.getMyPetCb\";\r\n    GameApi.regHookHandlers['connector.userHandler.getMyPet'].push(getMyPetCb);\r\n\r\n    //宠物升级、加点，放生\r\n    let upUserPetLevelCb = function (data) {\r\n        if (data.code != 200) {\r\n            app.$Message.error(data.msg);\r\n            return;\r\n        }\r\n\r\n        this.getMyPet()\r\n    }\r\n    upUserPetLevelCb.hookMark = \"regHooks.upUserPetLevelCb\";\r\n    GameApi.regHookHandlers['connector.userHandler.upUserPetLevel'].push(upUserPetLevelCb);\r\n\r\n    //宠物出战\r\n    let playUserPetCb = function (data) {\r\n        if (data.code != 200) {\r\n            app.$Message.error(data.msg);\r\n            return;\r\n        }\r\n        if (data.data.name) {\r\n            const msg = data.data.status ? `${data.data.name}参战成功` : `${data.data.name}休息成功`\r\n            app.$Message.success(msg);\r\n        }\r\n        this.getMyPet()\r\n    }\r\n    playUserPetCb.hookMark = \"regHooks.playUserPetCb\";\r\n    GameApi.regHookHandlers['connector.userHandler.playUserPet'].push(playUserPetCb);\r\n\r\n\r\n    //宠物幻化\r\n    let turnIntoPetCb = function (data) {\r\n        this.getMyPet();\r\n        if (data.code != 200) {\r\n            app.$Message.error(data.msg);\r\n            return;\r\n        }\r\n        app.$Message.success(data.msg);\r\n    }\r\n    turnIntoPetCb.hookMark = \"regHooks.turnIntoPetCb\";\r\n    GameApi.regHookHandlers['connector.userHandler.turnIntoPet'].push(turnIntoPetCb);\r\n\r\n    //预览合宠\r\n    let getNewPetCb = function (data) {\r\n        if (data.code != 200) {\r\n            app.$Message.error(data.msg);\r\n            return;\r\n        }\r\n        app.$Message.success(data.msg);\r\n        this.getMyPet()\r\n    }\r\n    getNewPetCb.hookMark = \"regHooks.getNewPetCb\";\r\n    GameApi.regHookHandlers['connector.userHandler.getNewPet'].push(getNewPetCb);\r\n\r\n    //确认合宠\r\n    let fitPetCb = function (data) {\r\n        if (data.code != 200) {\r\n            app.$Message.error(data.msg);\r\n            return;\r\n        }\r\n        app.$Message.success(data.msg);\r\n        this.getMyPet()\r\n    }\r\n    fitPetCb.hookMark = \"regHooks.fitPetCb\";\r\n    GameApi.regHookHandlers['connector.userHandler.fitPet'].push(fitPetCb);\r\n\r\n    //打书\r\n    let addUserPetSkillCb = function (data) {\r\n        if (data.code != 200) {\r\n            app.$Message.error(data.msg);\r\n            return;\r\n        }\r\n        app.$Message.success(data.msg);\r\n        this.getMyPet()\r\n    }\r\n    addUserPetSkillCb.hookMark = \"regHooks.addUserPetSkillCb\";\r\n    GameApi.regHookHandlers['connector.userHandler.addUserPetSkill'].push(addUserPetSkillCb);\r\n   \r\n\r\n    // 上架出售\r\n    let playerSellGoodsCb = function (data) {\r\n        if (data.code != 200) {\r\n            app.$Message.error(data.msg);\r\n            return;\r\n        }\r\n        app.$Message.success(`${data.data.name} x ${data.data.sell.count}上架成功`);\r\n        // 重置背包\r\n        app.user.goods = [];\r\n        app.user.goodsPage = 1;\r\n        this.getMyGoods();\r\n    }\r\n    playerSellGoodsCb.hookMark = \"regHooks.playerSellGoodsCb\";\r\n    GameApi.regHookHandlers['connector.playerHandler.sellGoods'].push(playerSellGoodsCb);\r\n\r\n\r\n    // 获取市场物品\r\n    let getPlayerSellGoodsCb = function (data) {\r\n        if (data.code != 200) {\r\n            app.$Message.error(data.msg);\r\n            return;\r\n        }\r\n        data.data.playerSellUser.map(sell => {\r\n            app.user.market.list.push(sell);\r\n        })\r\n        if (app.user.market.list.length !== data.data.count) {\r\n            setTimeout(() => {\r\n                user.market.pageIndex++;\r\n                this.getPlayerSellGoods(user.market.pageIndex, user.market.type);\r\n            }, 1100)\r\n        } else {\r\n            const good_map_type = {};\r\n            app.user.market.list.map(gds => {\r\n                const name = gds.name || gds.goods.name;\r\n                if (app.user.market.keyword && name.indexOf(app.user.market.keyword) === -1) {\r\n                    return\r\n                }\r\n\r\n                if (!good_map_type[name]) {\r\n                    good_map_type[name] = [];\r\n                }\r\n\r\n                good_map_type[name].push(gds);\r\n            });\r\n\r\n            const sellGoods = [];\r\n            Object.keys(good_map_type).map(name => {\r\n                sellGoods.push({\r\n                    name,\r\n                    count: good_map_type[name].length,\r\n                    list: good_map_type[name].sort((n, m) => (n.sell_game_gold / n.count) - (m.sell_game_gold / m.count))\r\n                });\r\n            });\r\n            app.$set(app.user.market, 'sellGoods', sellGoods);\r\n            app.$Spin.hide();\r\n        }\r\n    }\r\n    getPlayerSellGoodsCb.hookMark = \"regHooks.getPlayerSellGoodsCb\";\r\n    GameApi.regHookHandlers['connector.playerHandler.getPlayerSellGoods'].push(getPlayerSellGoodsCb);\r\n\r\n    //系统商城\r\n    let getSystemSellGoodsCb = function (data) {\r\n        if (data.code != 200) {\r\n            app.$Message.error(data.msg);\r\n            return;\r\n        }\r\n        const goods = data.data.goods;\r\n        let shop = {\r\n            shopPage: 0,\r\n            goods: []\r\n        }\r\n        if (app.user.shop) {\r\n            shop.shopPage = goods.length > 0 ? app.user.shop.shopPage + 1 : app.user.shop.shopPage-1;\r\n            shop.goods = app.user.shop.goods.concat(goods);\r\n        } \r\n        \r\n        if (goods.length > 0) {\r\n            this.getSystemSellGoods(shop.shopPage+1)\r\n        }\r\n        app.$set(app.user, 'shop', shop);\r\n    }\r\n    getSystemSellGoodsCb.hookMark = \"regHooks.getSystemSellGoodsCb\";\r\n    GameApi.regHookHandlers['connector.systemHandler.getSystemSellGoods'].push(getSystemSellGoodsCb);\r\n}","<template>\r\n  <div\r\n    v-if=\"user\"\r\n    class=\"user\"\r\n  >\r\n    <p>\r\n      状态：{{user.status}}&nbsp;{{ user.status_msg }}\r\n      <ButtonGroup size=\"small\" shape=\"circle\">\r\n        <Button\r\n          size=\"small\"\r\n          type=\"info\"\r\n          @click=\"() => {\r\n            modalTitle = '装备信息';\r\n            modalType = 'Eqs';\r\n            showModal = true;\r\n          }\"\r\n        >\r\n          装备\r\n        </Button>\r\n        <Button\r\n          size=\"small\"\r\n          type=\"info\"\r\n          @click=\"() => {\r\n            modalTitle = '人物属性';\r\n            modalType = 'Userinfo';\r\n            showModal = true;\r\n          }\"\r\n        >\r\n          属性\r\n        </Button>\r\n        <Button\r\n          size=\"small\"\r\n          type=\"info\"\r\n          @click=\"() => {\r\n            modalTitle = '战斗收益';\r\n            modalType = 'Gains';\r\n            showModal = true;\r\n          }\"\r\n        >\r\n          收益\r\n        </Button>\r\n        <Button\r\n          size=\"small\"\r\n          type=\"info\"\r\n          @click=\"() => {\r\n            modalTitle = '宠物信息';\r\n            modalType = 'Pet';\r\n            showModal = true;\r\n          }\"\r\n        >宠物</Button>\r\n        <Button\r\n          size=\"small\"\r\n          type=\"info\"\r\n          @click=\"() => {\r\n            modalTitle = '人物技能';\r\n            modalType = 'Skills';\r\n            showModal = true;\r\n          }\"\r\n        >技能</Button>\r\n        <Button\r\n          size=\"small\"\r\n          type=\"info\"\r\n          @click=\"() => {\r\n            modalTitle = '任务中心';\r\n            modalType = 'Tasks';\r\n            showModal = true;\r\n          }\"\r\n        >任务</Button>\r\n        <Button\r\n          size=\"small\"\r\n          type=\"info\"\r\n          @click=\"() => {\r\n            modalTitle = '市场';\r\n            modalType = 'Market';\r\n            showModal = true;\r\n          }\"\r\n        >市场</Button>\r\n        <Button\r\n          size=\"small\"\r\n          type=\"info\"\r\n          @click=\"() => {\r\n            modalTitle = '商城';\r\n            modalType = 'Shop';\r\n            showModal = true;\r\n          }\"\r\n        >商城</Button>\r\n      </ButtonGroup>\r\n    </p>\r\n    <template v-if=\"user.myInfo\">\r\n      <div class=\"br\" />\r\n      <p>\r\n        LV.{{user.myInfo.level}}&nbsp;\r\n        [{{ Math.floor(user.myInfo.exp) }}/{{ Math.floor(user.myInfo.nextExp) }}]\r\n        &nbsp;\r\n        <a\r\n          v-if=\"user.myInfo.exp > user.myInfo.nextExp\"\r\n          @click=\"game.upPlayerLevel()\"\r\n        >升级</a>\r\n        &nbsp;\r\n        <Dropdown v-if=\"user.myInfo.potential_num > 0\" trigger=\"click\">\r\n          <Button\r\n            size=\"small\"\r\n            type=\"info\"\r\n          >\r\n            加点\r\n          </Button>\r\n          <DropdownMenu slot=\"list\">\r\n            <DropdownItem\r\n              @click.native=\"handleAllocationPoint(1)\"\r\n            >全力加点</DropdownItem>\r\n            <DropdownItem\r\n              @click.native=\"handleAllocationPoint(2)\"\r\n            >全魔加点</DropdownItem>\r\n          </DropdownMenu>\r\n        </Dropdown>\r\n      </p>\r\n      <div class=\"br\" />\r\n      <p>\r\n        财产：{{ Math.floor(user.myInfo.game_gold) }}仙石\r\n        &nbsp;\r\n        {{ Math.floor(user.myInfo.game_silver) }}灵石\r\n        &nbsp;\r\n        <Button\r\n          size=\"small\"\r\n          type=\"info\"\r\n          @click=\"() => {\r\n            modalTitle = '储物戒指';\r\n            modalType = 'Bag';\r\n            showModal = true;\r\n          }\"\r\n        >\r\n          储物戒指\r\n        </Button>\r\n      </p>\r\n      <div class=\"br\" />\r\n      <p>\r\n        气血储备：{{ Math.floor(user.myInfo.hp_store) }}\r\n        &nbsp;魔法储备：{{ Math.floor(user.myInfo.mp_store) }}\r\n        &nbsp;活力：{{ Math.floor(user.myInfo.vitality_num) }}\r\n        &nbsp;<a @click=\"game.polyLin(3)\">仙蕴转活力</a>\r\n      </p>\r\n    </template>\r\n    <!-- 挖宝 ↓ -->\r\n    <template v-if=\"unusecbt\">\r\n      <template v-if=\"unusecbt.normal\">\r\n        <div class=\"br\" />\r\n        检测到你有\r\n        <span style=\"color: red\">{{unusecbt.normal.num}}</span>\r\n        张没鉴定的\r\n        <span style=\"color: red\">藏宝图</span>\r\n        [<a @click=\"() => {\r\n          game.useGoods(unusecbt.normal.id)\r\n        }\">鉴定一张</a>]\r\n        [<a @click=\"() => {\r\n          readToUse = {\r\n            useNum: unusecbt.normal.num,\r\n            id: unusecbt.normal.id,\r\n            name: '藏宝图'\r\n          };\r\n          handleUseItem()\r\n        }\">全部鉴定</a>]\r\n      </template>\r\n      <template v-if=\"unusecbt.high\">\r\n        <div class=\"br\" />\r\n        检测到你有\r\n        <span style=\"color: red\">{{unusecbt.high.num}}</span>\r\n        张没鉴定的\r\n        <span style=\"color: red\">高级藏宝图</span>\r\n        [<a @click=\"() => {\r\n          readToUse = {\r\n            useNum: unusecbt.high.num,\r\n            id: unusecbt.high.id,\r\n            name: '高级藏宝图'\r\n          };\r\n          handleUseItem();\r\n        }\">全部鉴定</a>]\r\n      </template>\r\n    </template>\r\n    <template v-if=\"waBao.length > 0\">\r\n      <div class=\"br\" />\r\n      检测到你有\r\n      <span style=\"color: red\">{{waBao.length}}</span>\r\n      张藏宝图\r\n      &nbsp;\r\n      <Button\r\n        @click=\"handleAutoWaBao\"\r\n        size=\"small\"\r\n        type=\"info\"\r\n      >\r\n        自动挖宝\r\n      </Button>\r\n    </template>\r\n    <!-- 挖宝 ↑ -->\r\n    <!-- 地图 ↓ -->\r\n    <template v-if=\"user.map\">\r\n      <div class=\"br\" />\r\n      地图：\r\n      <Button\r\n        v-if=\"user.team\"\r\n        size=\"small\"\r\n        type=\"info\"\r\n        disabled\r\n      >\r\n        {{ user.map.name }}\r\n      </Button>\r\n      <Dropdown trigger=\"click\" v-else>\r\n        <Button\r\n          size=\"small\"\r\n          type=\"info\"\r\n        >\r\n          {{ user.map.name }}\r\n        </Button>\r\n        <DropdownMenu slot=\"list\">\r\n          <DropdownItem\r\n             v-for=\"item in toMap\"\r\n            :key=\"item.id\"\r\n            @click.native=\"() => {\r\n              $Message.warning(`正在切图去${item.name}，别乱点`)\r\n              moveToMap(item.id).then(() => {\r\n                $Message.success(`${item.name}到了`)\r\n              });\r\n            }\"\r\n          >{{item.name}}</DropdownItem>\r\n        </DropdownMenu>\r\n      </Dropdown>\r\n    </template>\r\n    <!-- 地图 ↑ -->\r\n    <!-- 副本 ↓ -->\r\n    <template v-if=\"user.team && user.team.leader === user.email\">\r\n      副本：\r\n      <Dropdown trigger=\"click\">\r\n        <Button\r\n          size=\"small\"\r\n          type=\"info\"\r\n        >\r\n          {{ user.combatName || '未选择' }}\r\n        </Button>\r\n        <DropdownMenu slot=\"list\">\r\n          <DropdownItem\r\n             v-for=\"item in user.screens\"\r\n            :key=\"item._id\"\r\n            @click.native=\"() => {\r\n              user.team.combat = item._id;\r\n              user.tempcombat = item._id;\r\n              game.switchCombatScreen(item._id);\r\n            }\"\r\n          >{{item.name}}</DropdownItem>\r\n        </DropdownMenu>\r\n      </Dropdown>\r\n      <Dropdown v-if=\"user.combatId\" trigger=\"click\">\r\n        <Button\r\n          size=\"small\"\r\n          type=\"info\"\r\n        >\r\n          {{ user.tempcombatname || '未选择' }}\r\n        </Button>\r\n        <DropdownMenu slot=\"list\">\r\n          <DropdownItem\r\n             v-for=\"item in user.screens\"\r\n            :key=\"item._id\"\r\n            @click.native=\"() => {\r\n              user.combatId = item._id;\r\n            }\"\r\n          >{{item.name}}</DropdownItem>\r\n        </DropdownMenu>\r\n      </Dropdown>\r\n    </template>\r\n    <!-- 副本 ↑ -->\r\n    <!-- 组队 ↓ -->\r\n    队伍：\r\n    <template v-if=\"user.team && user.team.leader === user.email\">\r\n      [{{ user.team.users.length || 1 }}/{{user.combatTotal || '未知'}}]\r\n      <Button\r\n        @click=\"game.leaveTeam();user.isleader=false;\"\r\n        size=\"small\"\r\n        type=\"error\"\r\n      >\r\n        解散\r\n      </Button>\r\n      &nbsp;\r\n      <i-switch\r\n        v-model=\"user.fighting\"\r\n        :disabled=\"!user.combatName\"\r\n        true-color=\"#13ce66\"\r\n        false-color=\"#ff4949\"\r\n        @on-change=\"flag => {\r\n          user.fighting && game.startCombat(user.team.combat)\r\n        }\"\r\n        size=\"large\"\r\n      >\r\n        <span slot=\"open\">战斗</span>\r\n        <span slot=\"close\">平时</span>\r\n      </i-switch>\r\n      <a @click=\"() => {\r\n        game.showMyTeam(0);\r\n      }\">隐藏</a>\r\n    </template>\r\n    <template v-else-if=\"user.team\">\r\n      队长[{{user.team.leader}}]\r\n      <Button\r\n        size=\"small\"\r\n        type=\"warning\"\r\n        @click=\"() => {\r\n          game.leaveTeam();\r\n          delete user.teamleader;\r\n        }\"\r\n      >\r\n        离开\r\n      </Button>\r\n    </template>\r\n    <template v-else>\r\n      <Button\r\n        @click=\"game.createdTeam(user.map.id);user.isleader=true;\"\r\n        size=\"small\"\r\n        type=\"success\"\r\n      >\r\n        创建\r\n      </Button>\r\n      &nbsp;\r\n      <Dropdown trigger=\"click\" @click.native=\"game.getTeamList(user.map.id)\">\r\n        <Button\r\n          size=\"small\"\r\n          type=\"success\"\r\n        >\r\n          加入\r\n        </Button>\r\n        <DropdownMenu slot=\"list\">\r\n          <DropdownItem\r\n            v-for=\"item in user.teams\"\r\n            :key=\"item._id\"\r\n            @click.native=\"() => {\r\n              game.addTeam(item._id);\r\n              user.teamleader = item.leader.nickname;\r\n            }\"\r\n          >\r\n            {{item.leader.nickname}}\r\n            &nbsp;\r\n            [{{item.users.length}}/{{(item.combat || {}).player_num}}]\r\n            &nbsp;\r\n            ({{(item.combat || {}).name}})\r\n          </DropdownItem>\r\n        </DropdownMenu>\r\n      </Dropdown>\r\n    </template>\r\n    <!-- 组队 ↑ -->\r\n    <div class=\"br\" />\r\n    <!-- 技能 ↓ -->\r\n    技能：\r\n    <Dropdown v-if=\"user.skills\" trigger=\"click\">\r\n      <Button\r\n        size=\"small\"\r\n        type=\"warning\"\r\n      >\r\n        {{user.skillname || '物理攻击'}}\r\n      </Button>\r\n      <DropdownMenu slot=\"list\">\r\n        <DropdownItem v-if=\"user.skills.length === 0\">\r\n          没技能\r\n        </DropdownItem>\r\n        <DropdownItem\r\n          v-for=\"item in user.skills\"\r\n          :key=\"item._id\"\r\n          @click.native=\"() => {\r\n            $set(user, 'skillid', item._id);\r\n            $set(user, 'skillname', item.name);\r\n          }\"\r\n        >{{item.name}}</DropdownItem>\r\n      </DropdownMenu>\r\n    </Dropdown>\r\n    <!-- 捕捉 ↓ -->\r\n    <PetCatchCtrlComponent v-if=\"user && game\" :user=\"user\" :game=\"game\" />\r\n    <!-- 捕捉 ↑ -->\r\n    <!-- 战斗信息 ↓ -->\r\n    <div v-if=\"'object' == typeof user.message\">\r\n      [{{ user.message.time }}]\r\n      &nbsp;\r\n      {{'第' + user.message.round_num + '轮'}}\r\n      &nbsp;\r\n      <div\r\n        v-if=\"user.message.mark\"\r\n        v-html=\"user.message.mark\"\r\n      />\r\n      <div\r\n        v-html=\"user.message.msg.join('<br />')\"\r\n      />\r\n    </div>\r\n    <!-- 战斗信息 ↑ -->\r\n    <!-- 综合弹窗 ↓ -->\r\n    <Modal\r\n      v-model=\"showModal\"\r\n      fullscreen\r\n      footer-hide\r\n      :title=\"modalTitle\"\r\n    >\r\n      <template v-if=\"'Gains' === modalType\">\r\n        <div v-if=\"!fightGains.beginTime\">\r\n          {{gains.tips}}\r\n        </div>\r\n        <template v-else>\r\n          <CellGroup>\r\n            <Cell\r\n              title=\"开始时间\"\r\n              :extra=\"`${gains.beginTime}`\"\r\n            />\r\n            <Cell\r\n              title=\"战斗时长\"\r\n              :extra=\"`${gains.fightTime}`\"\r\n            />\r\n            <Cell\r\n              title=\"获得经验\"\r\n              :extra=\"`${gains.gainExp}`\"\r\n            />\r\n            <Cell\r\n              title=\"战斗回合数\"\r\n              :extra=\"`${gains.roundCount}`\"\r\n            />\r\n            <Cell\r\n              title=\"战斗场数\"\r\n              :extra=\"`${gains.fightCount}`\"\r\n            />\r\n            <Cell\r\n              title=\"经验/分钟\"\r\n              :extra=\"`${gains.avgExp}`\"\r\n            />\r\n            <Cell\r\n              title=\"战斗场数/分钟\"\r\n              :extra=\"`${gains.avgFightCount}`\"\r\n            />\r\n            <Cell title=\"战利品\" />\r\n          </CellGroup>\r\n          <Tag\r\n            v-for=\"(value,key) in gains.goods\"\r\n            :key=\"key\"\r\n            color=\"pink\"\r\n          >{{key}}({{value}})</Tag>\r\n        </template>\r\n      </template>\r\n      <component v-else-if=\"!!modalType\" :is=\"`${modalType}Component`\" :user=\"user\" :game=\"game\" />\r\n    </Modal>\r\n    <!-- 综合弹窗 ↑ -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nlet messageTime;\r\nimport GameApi from \"@libs/YunDingOnlineSDK.js\";\r\nimport regHooks from \"@libs/regHooks.js\";\r\nimport configData from \"@/config.js\";\r\nimport { sleep, findMapPath } from \"@libs/tools\";\r\nimport BagComponent from '@components/bag.vue';\r\nimport EqsComponent from '@components/eqs.vue';\r\nimport MarketComponent from '@components/market.vue';\r\nimport PetComponent from '@components/pet.vue';\r\nimport SkillsComponent from '@components/skills.vue';\r\nimport TasksComponent from '@components/tasks.vue';\r\nimport UserinfoComponent from '@components/userinfo.vue';\r\nimport ShopComponent from '@components/shop.vue';\r\nimport PetCatchCtrlComponent from '@components/pet-catch-ctrl.vue';\r\nexport default {\r\n  name: \"User\",\r\n  components: { BagComponent, EqsComponent, MarketComponent, PetComponent, SkillsComponent, TasksComponent, UserinfoComponent, ShopComponent, PetCatchCtrlComponent },\r\n  data() {\r\n    return {\r\n      game: {},\r\n      user: null,\r\n      config: configData,\r\n      showModal: false,\r\n      modalTitle: '',\r\n      modalType: '',\r\n      fightGains: {\r\n        goods: {}, //战利品\r\n        gainExp: 0, //获得经验\r\n        beginTime: 0, //开始时间\r\n        roundCount: 0, //回合数\r\n        fightCount: 0, //战斗场数\r\n      }\r\n    };\r\n  },\r\n  watch: {\r\n    user: {\r\n      deep: true,\r\n      handler(user) {\r\n        let combatName = null;\r\n        let combatTotal = 0;\r\n        if (user && user.screens && user.team) {\r\n          if (user.team.combat) {\r\n            const combat = user.screens.find(\r\n              (scr) => scr._id === user.team.combat\r\n            );\r\n            if (combat) { \r\n              combatName = combat.name;\r\n              combatTotal = combat.player_num;\r\n            }\r\n          }\r\n          if (user.combatId) {\r\n            const tempcombat = user.screens.find(\r\n              (scr) => scr._id === user.combatId\r\n            );\r\n            user.tempcombatname = tempcombat.name\r\n          }\r\n        }\r\n        user.combatName = combatName;\r\n        user.combatTotal = combatTotal;\r\n        this.saveStorageUserInfo(user);\r\n      },\r\n    }\r\n  },\r\n  computed: {\r\n    toMap() {\r\n      const user = this.user;\r\n      const maps = configData.maps;\r\n      if (user && user.map) {\r\n        return maps.filter((mp) => mp.id !== user.map.id);\r\n      } else {\r\n        return [];\r\n      }\r\n    },\r\n    waBao() {\r\n      const goods = this.user.goods;\r\n      const maps = configData.maps;\r\n      if (!goods) return [];\r\n      const btMaps = goods\r\n        .filter((gds) => !!gds.map)\r\n        .map((gds) => ({\r\n          id: gds.map,\r\n          btId: gds.id,\r\n          name: maps.find((mp) => mp.id === gds.map).name,\r\n          mapid: gds.map\r\n        }))\r\n        .sort((a, b) => a.mapid - b.mapid);\r\n      return btMaps;\r\n    },\r\n    unusecbt() {\r\n      const goods = this.user.goods;\r\n      if (!goods) return null;\r\n      const unuse = goods.filter((gds) => gds.unusecbt);\r\n      if (unuse.length === 0) return null;\r\n      const unusecbt = {\r\n        normal: unuse.find((usc) => !usc.highcbt),\r\n        high: unuse.find((usc) => usc.highcbt)\r\n      };\r\n      return unusecbt;\r\n    },\r\n    gains() {\r\n      //战斗时长 s\r\n      const endTime = Date.now();\r\n      const time = (endTime - this.fightGains.beginTime) / 1000;\r\n\r\n      const h = Math.floor(time / 3600);\r\n      const m = Math.floor((time / 60) % 60);\r\n      const s = Math.ceil(time % 60);\r\n\r\n      const fightTime = `${h}小时${m}分${s}秒`;\r\n\r\n      const avgExp = Math.floor((this.fightGains.gainExp / time) * 60);\r\n      const avgFightCount = ((this.fightGains.fightCount / time) * 60).toFixed(1);\r\n      return {\r\n        goods: this.fightGains.goods, //战利品\r\n        gainExp: this.fightGains.gainExp, //获得经验\r\n        beginTime: new Date(this.fightGains.beginTime)\r\n          .toTimeString()\r\n          .slice(0, 8), //开始时间\r\n        roundCount: this.fightGains.roundCount, //回合数\r\n        fightCount: this.fightGains.fightCount, //战斗场数\r\n        fightTime: fightTime, //战斗时长\r\n        //endTime: endTime, //结束时间\r\n        avgExp: avgExp, //经验/分\r\n        avgFightCount: avgFightCount, //战斗场数/分\r\n        tips: \"暂无收益，请开启战斗\",\r\n      };\r\n    }\r\n  },\r\n  mounted() {\r\n    regHooks(this);\r\n    const { email } = this.$route.params;\r\n    let user = this.getStorageAccount(email);\r\n    this.initUser(email, user.password);\r\n\r\n    // 每隔1分钟检测有没有战斗信息更新\r\n    setInterval(() => {\r\n      const now = Date.now();\r\n      if (now - messageTime > 30000) {\r\n        setTimeout(() => {\r\n          window.location.reload();\r\n        }, ~~(Math.random()*60*1000));\r\n      }\r\n    }, 60000);\r\n  },\r\n  methods: {\r\n    /**\r\n     * 从 localStorage 中取出账号密码\r\n     * @param {*} email\r\n     */\r\n    getStorageAccount: function (email) {\r\n      let users =\r\n        JSON.parse(localStorage.getItem(\"ydxxGame_userList\") || \"{}\") || {};\r\n      return { email: email, password: users[email] };\r\n    },\r\n    /**\r\n     * 将技能保存到 localStorage 中\r\n     * @param {*} 用户的所有信息\r\n     */\r\n    saveStorageUserInfo: function (user) {\r\n      localStorage.setItem(\r\n        user.email,\r\n        JSON.stringify({\r\n          fighting: user.fighting,\r\n          email: user.email,\r\n          skillid: user.skillid,\r\n          skillname: user.skillname,\r\n          tempcombat: user.tempcombat,\r\n          combatId: user.combatId,\r\n          catchType: user.catchType,\r\n          catchSkills: user.catchSkills,\r\n          catchPetBySkill: user.catchPetBySkill,\r\n          catchPet: user.catchPet,\r\n          catchSuccess: user.catchSuccess || 0,\r\n          catchFail: user.catchFail || 0,\r\n          lockPet: user.lockPet,\r\n          isCompose: user.isCompose,\r\n          isleader: user.isleader,\r\n          teamleader: user.teamleader,\r\n          tempcombatid: user.tempcombatid\r\n        })\r\n      );\r\n    },\r\n    /**\r\n     * 从 localStorage 中取出用户技能\r\n     */\r\n    getStorageUserInfo: function (email) {\r\n      const user = localStorage.getItem(email);\r\n      if (user) {\r\n        return JSON.parse(user);\r\n      }\r\n    },\r\n    /**\r\n     * 添加一个用户到列表\r\n     *\r\n     * @param {*} email\r\n     * @param {*} password\r\n     */\r\n    initUser: function (email, password) {\r\n      // 创建游戏对象\r\n      const game = new GameApi();\r\n      // 加载技能数据\r\n      const user = this.getStorageUserInfo(email) || {\r\n        email,\r\n        status: \"已添加\",\r\n        teams: [],\r\n        fighting: false,\r\n      };\r\n\r\n      // 游戏对象保存起来\r\n      this.game = game;\r\n      // 暴露到全局\r\n      window.game = game;\r\n\r\n      // 添加到用户列表\r\n      user.market = { type: '1' };\r\n      this.user = user;\r\n      // 暴露到全局\r\n      window.user = this.user;\r\n\r\n      // 登录账号\r\n      game.login(email, password);\r\n    },\r\n    // 设置消息\r\n    setMessage: function (email, data) {\r\n      messageTime = Date.now();\r\n      data.time = this.getDateTime();\r\n      //记录战斗开始时间\r\n      this.fightGains.beginTime = this.fightGains.beginTime || messageTime;\r\n      //回合数+1\r\n      this.fightGains.roundCount++;\r\n      data.msg = data.round_arr.map(ra => {\r\n        if (ra.a_skill_type === 1) {\r\n          if (ra.mark.indexOf(this.user.email) > -1) {\r\n            if (ra.mark.indexOf('成功') > 1) {\r\n              this.game.getMyPet();\r\n              // 记录捕捉成功和失败数据，用来嘲讽作者\r\n              if (!this.user.catchSuccess) { this.user.catchSuccess = 0; }\r\n              this.user.catchSuccess++;\r\n            }\r\n            if (ra.mark.indexOf('失败') > 1) {\r\n              if (!this.user.catchFail) { this.user.catchFail = 0; }\r\n              this.user.catchFail++;\r\n            }\r\n            if (ra.mark.indexOf('mp不足') > 1 || ra.mark.indexOf('无法捕捉') > 1) {\r\n              this.$Message.info('自动切换技能攻击早点结束');\r\n              this.game.roundOperating(\r\n                  this.user.skilltype || '1',\r\n                  this.user.skillid || '1',\r\n                  '',\r\n                  this.user.team ? this.user.team._id : ''\r\n              );\r\n            }\r\n          }\r\n          return ra.mark;\r\n        }\r\n        let trigger = '';\r\n        if (ra.a_trigger.length > 0) {\r\n          trigger = '【';\r\n          trigger += ra.a_trigger.join('，');\r\n          trigger += '！！！】';\r\n        }\r\n        let belong = '';\r\n        if (ra.a_id != ra.a_name) {\r\n          belong = `${ra.a_id}的`;\r\n        }\r\n        const a = `${belong}${ra.a_name}`;\r\n        const b = `【${ra.b_name}】`;\r\n        const hurt = ra.hurt.map(Math.floor).join(\",\");\r\n        if (ra.hurt_type === 1) {\r\n          return `${a}：${ra.process}！${trigger}${b}随即受到了【${hurt}】点伤害`;\r\n        } else {\r\n          return `${a}：${ra.process}！${trigger}然后胸一甩，对${b}奶了一口[${hurt}]`;\r\n        }\r\n      });\r\n\r\n      if (data.die_arr && data.die_arr.length) {\r\n        data.msg.push(`死亡单位【${data.die_arr.map((da) => `${da}`).join(\",\")}】`);\r\n      }\r\n\r\n      if (data.win === 1) {\r\n        data.exp.forEach((item) => {\r\n          if (item.name == email) {\r\n            data.msg.push(`获得经验【${Math.floor(item.exp) || \"没经验了\"}】`);\r\n            this.fightGains.gainExp += Math.floor(item.exp);\r\n            this.fightGains.fightCount++;\r\n          }\r\n        });\r\n        data.player_reward.forEach((item) => {\r\n          if (item.name == email) {\r\n            if (item.mark) {\r\n              data.msg.push(item.mark);\r\n            } else {\r\n              let reward = [];\r\n              item.goods.forEach((good) => {\r\n                reward.push(good.gname);\r\n              });\r\n              if (reward.length > 0) {\r\n                data.msg.push(`战利品【${reward.join(\",\")}】`);\r\n                //获取战利品后,添加更新背包的状态\r\n                this.user.updateGoods = true;\r\n                //合并，更新战利品\r\n                reward.forEach((ele) => {\r\n                  this.fightGains.goods.hasOwnProperty(ele)\r\n                    ? this.fightGains.goods[ele]++\r\n                    : (this.fightGains.goods[ele] = 1);\r\n                });\r\n              }\r\n            }\r\n          }\r\n        });\r\n      }\r\n      if (data.win === 2) {\r\n        this.fightGains.fightCount++;\r\n\r\n        // 回合数大于0却没经验，属于在线异常状态，标记异常由home总控处理\r\n        if (this.gains.roundCount > 0 && !this.gains.avgExp) {\r\n          this.user.teamStatus = 'leave';\r\n        }\r\n      }\r\n\r\n      this.$set(this.user, \"message\", data);\r\n    },\r\n    // 加点\r\n    handleAllocationPoint(type) {\r\n      const pointNum = this.user.myInfo.potential_num;\r\n      // 全力\r\n      if (type === 1) {\r\n        this.game.allocationPoint(pointNum, 0, 0, 0, 0);\r\n      }\r\n      // 全魔\r\n      if (type === 2) {\r\n        this.game.allocationPoint(0, pointNum, 0, 0, 0);\r\n      }\r\n    },\r\n    getDateTime() {\r\n      let date = new Date();\r\n      return \"H:i:s\".replace(/[His]/g, (full) => {\r\n        let str = \"\";\r\n        switch (full) {\r\n          case \"H\":\r\n            str = date.getHours();\r\n            break;\r\n          case \"i\":\r\n            str = date.getMinutes();\r\n            break;\r\n          case \"s\":\r\n            str = date.getSeconds();\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n        return str.toString().padStart(2, \"0\");\r\n      });\r\n    },\r\n    async handleAutoWaBao () {\r\n      if (this.user.team || this.user.fighting || this.user.message) {\r\n        this.game.leaveTeam();\r\n        this.$Message.warning('想办法把战斗停下来，然后重新加载至没有战斗信息为止，否则会触发刷新重连');\r\n        this.$set(this.user, 'fighting', false);\r\n        return;\r\n      }\r\n      this.$Message.warning('开始全部挖藏宝图，别乱点');\r\n      window.freshPackage = false;\r\n      for (let i = 0; i < this.waBao.length; i++) {\r\n        const cbt = this.waBao[i];\r\n        this.$Message.success(`正在挖第${i+1}/${this.waBao.length}个藏宝图`);\r\n        await this.moveToMap(cbt.mapid);\r\n        await sleep(5000);\r\n        this.$Message.success(`正在挥动洛阳铲`);\r\n        this.game.wbt(cbt.btId);\r\n      }\r\n      await sleep(1000);\r\n      this.$Modal.info({\r\n        render: () => (\r\n          <div>\r\n            {this.user.wbtResult.map(msg => (\r\n              <div>\r\n                {msg}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )\r\n      });\r\n      window.freshPackage = true;\r\n      this.game.userInfo();\r\n      // 重置背包\r\n      this.user.goods = [];\r\n      this.user.goodsPage = 1;\r\n      this.game.getMyGoods();\r\n      this.readToUse = null;\r\n    },\r\n    async moveToMap (toid) {\r\n      if (this.user.map.id === toid) {\r\n        return\r\n      }\r\n      const path = findMapPath(this.user.map.id, toid);\r\n      for(let i = 0; i < path.length; i++) {\r\n        const map = path[i];\r\n        this.$Message.success(`正在切图去${map.name}`);\r\n        await sleep(5000);\r\n        this.game.moveToNewMap(map.id);\r\n      }\r\n    },\r\n    handleUseItem () {\r\n      this.useItem_mixin(this.readToUse);\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.user {\r\n  width: 100%;\r\n  height: 100%;\r\n  p {\r\n    display: flex;\r\n    justify-content: space-between;\r\n  }\r\n\r\n}\r\n.fight-gains {\r\n  ul {\r\n    li {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      padding: 5px 0;\r\n    }\r\n    .goods {\r\n      flex-direction: column;\r\n      li {\r\n        padding: 2px 0 2px 10px;\r\n        color: #42b983;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n<style lang=\"less\">\r\n.br {\r\n  height: 5px;\r\n  width: 100%;\r\n}\r\n.ivu-modal-header {\r\n  padding: 8px 4px !important;\r\n}\r\n.ivu-modal-close {\r\n  top: 0 !important;\r\n}\r\n.ivu-modal-footer {\r\n  padding: 4px !important;\r\n}\r\n.ivu-modal-body {\r\n  padding: 0 !important;\r\n}\r\n\r\n.eq-img {\r\n  width: 20px;\r\n  vertical-align: middle;\r\n  margin-right: 10px;\r\n}\r\n\r\n.ivu-tabs-bar {\r\n  margin-bottom: 0 !important;\r\n  .ivu-tabs-tab {\r\n    padding: 8px 5px !important;\r\n  }\r\n}\r\n\r\n.ivu-table-tbody {\r\n  font-size: 12px;\r\n\r\n  .ivu-table-column-center {\r\n    height: 36px;\r\n    .ivu-table-cell {\r\n      padding: 0;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"good-header\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"储物戒指\")]),_c('Button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function () { return _vm.game.allSellGoods(); }}},[_vm._v(\" 整理 \")]),_c('Input',{staticStyle:{\"width\":\"66%\"},attrs:{\"suffix\":\"ios-search\",\"placeholder\":\"名称、说明、属性值\"},model:{value:(_vm.searchText),callback:function ($$v) {_vm.searchText=$$v},expression:\"searchText\"}})],1),_c('div',{staticClass:\"goods-box\"},_vm._l((_vm.goods),function(item,index){return _c('Badge',{key:((item.id) + \"-\" + index),attrs:{\"count\":item.selected,\"overflow-count\":\"999\"}},[_c('Button',{staticClass:\"good-name\",style:(item.style),attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.goodsHandle(item)}}},[_c('label',{domProps:{\"innerHTML\":_vm._s(item.name)}}),_vm._v(\"(\"+_vm._s(item.num)+\") \")])],1)}),1),_c('div',{staticClass:\"good-info\",style:(_vm.position)},[(!_vm.readToUse)?_c('p',[_vm._v(\" 去上面点一个物品 \")]):[_c('div',{staticClass:\"info-box\"},[_c('div',{staticClass:\"basci-info\"},[_c('span',{style:(_vm.readToUse.style)},[_vm._v(\" \"+_vm._s(_vm.readToUse.name)+\" \")]),_c('span',{style:(_vm.readToUse.style)},[_vm._v(\"价格：\"+_vm._s(_vm.readToUse.price))]),_c('span',{style:(_vm.readToUse.style)},[_vm._v(_vm._s(_vm.readToUse.info))])]),(_vm.readToUse.eq_info)?[_c('div',{staticClass:\"eq-info\"},_vm._l((_vm.readToUse.eq_info),function(value,key){return _c('span',{key:key,style:(_vm.readToUse.style)},[_c('span',{style:(_vm._f(\"addStyle_mixin\")(key))},[_vm._v(_vm._s(key)+\":\")]),_c('span',{style:(_vm._f(\"addStyle_mixin\")(key))},[_vm._v(_vm._s(value))])])}),0)]:_vm._e()],2),_c('div',{staticClass:\"button-box\"},[_c('Input',{attrs:{\"type\":\"number\"},model:{value:(_vm.readToUse.useNum),callback:function ($$v) {_vm.$set(_vm.readToUse, \"useNum\", $$v)},expression:\"readToUse.useNum\"}},[_c('span',{attrs:{\"slot\":\"prepend\"},slot:\"prepend\"},[_vm._v(\"数量\")])]),_c('Input',{attrs:{\"type\":\"number\"},model:{value:(_vm.readToUse.sellPrice),callback:function ($$v) {_vm.$set(_vm.readToUse, \"sellPrice\", $$v)},expression:\"readToUse.sellPrice\"}},[_c('span',{attrs:{\"slot\":\"prepend\"},slot:\"prepend\"},[_vm._v(\"总价\")])]),_c('ButtonGroup',{attrs:{\"size\":\"small\",\"vertical\":\"\"}},[_c('Button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.selectGood}},[_vm._v(\" 标记 \")]),(['可装备的装备'].includes(_vm.readToUse.goodsType))?_c('Button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.handleWearItem}},[_vm._v(\" 装备 \")]):_vm._e(),(['未鉴定的装备', '藏宝图', '技能书', '蛋', '大补丹'].includes(_vm.readToUse.goodsType))?_c('Button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.handleUseItem}},[_vm._v(\" 使用 \")]):_vm._e(),_c('Button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.handleSellGoods}},[_vm._v(\" 出售 \")]),(_vm.selectedGoods.length > 1)?_c('Button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.makeGoods}},[_vm._v(\" 合成 \")]):_vm._e(),_c('Button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.handleSellItem}},[_vm._v(\" 分解 \")])],1)],1),_c('Button',{staticClass:\"close-btn\",attrs:{\"size\":\"small\",\"type\":\"info\"},on:{\"click\":function($event){_vm.position = _vm.position === 'bottom: 0' ? 'bottom:-120px' : 'bottom: 0'}}},[_vm._v(\" \"+_vm._s(_vm.position === \"bottom: 0\" ? \"隐藏\" : \"显示\")+\" \")])]],2),_c('Modal',{attrs:{\"styles\":{top: '85px'}},model:{value:(_vm.modal),callback:function ($$v) {_vm.modal=$$v},expression:\"modal\"}},[_c('p',{staticStyle:{\"color\":\"#f60\",\"text-align\":\"center\"},attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('Icon',{attrs:{\"type\":\"ios-information-circle\"}}),_c('span',[_vm._v(\"确定分解所有标记物品？\")])],1),_c('div',{staticStyle:{\"text-align\":\"center\"},attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.modal=false}}},[_vm._v(\"取消\")]),_c('Button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.confirmHandle}},[_vm._v(\"确认\")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- 背包↓ -->\r\n  <div>\r\n    <div\r\n      slot=\"header\"\r\n      class=\"good-header\"\r\n    >\r\n      <span>储物戒指</span>\r\n      <Button\r\n        size=\"small\"\r\n        type=\"primary\"\r\n        @click=\"() => game.allSellGoods()\"\r\n      >\r\n        整理\r\n      </Button>\r\n      <Input\r\n        v-model=\"searchText\"\r\n        suffix=\"ios-search\"\r\n        placeholder=\"名称、说明、属性值\"\r\n        style=\"width: 66%\"\r\n      />\r\n    </div>\r\n    <div class=\"goods-box\">\r\n      <Badge\r\n        v-for=\"(item, index) in goods\"\r\n        :key=\"`${item.id}-${index}`\"\r\n        :count=\"item.selected\"\r\n        overflow-count=\"999\"\r\n      >\r\n        <Button\r\n          size=\"small\"\r\n          class=\"good-name\"\r\n          :style=\"item.style\"\r\n          @click=\"goodsHandle(item)\"\r\n        >\r\n          <label v-html=\"item.name\"></label>({{item.num}})\r\n        </Button>\r\n      </Badge>\r\n    </div>\r\n    <div class=\"good-info\" :style=\"position\">\r\n      <p v-if=\"!readToUse\">\r\n        去上面点一个物品\r\n      </p>\r\n      <template v-else>\r\n        <div class=\"info-box\">\r\n          <div class=\"basci-info\">\r\n            <span :style=\"readToUse.style\">\r\n              {{readToUse.name}}\r\n            </span>\r\n            <span :style=\"readToUse.style\">价格：{{readToUse.price}}</span>\r\n            <span :style=\"readToUse.style\">{{readToUse.info}}</span>\r\n          </div>\r\n          <template v-if=\"readToUse.eq_info\">\r\n            <div class=\"eq-info\">\r\n              <span\r\n                :style=\"readToUse.style\"\r\n                v-for=\"(value,key) in readToUse.eq_info\"\r\n                :key=\"key\"\r\n              >\r\n                <span :style=\"key | addStyle_mixin\">{{key}}:</span>\r\n                <span :style=\"key | addStyle_mixin\">{{value}}</span>\r\n              </span>\r\n            </div>\r\n          </template>\r\n        </div>\r\n        <div class=\"button-box\">\r\n          <Input v-model=\"readToUse.useNum\" type=\"number\">\r\n            <span slot=\"prepend\">数量</span>\r\n          </Input>\r\n          <Input v-model=\"readToUse.sellPrice\" type=\"number\">\r\n            <span slot=\"prepend\">总价</span>\r\n          </Input>\r\n          <ButtonGroup\r\n            size=\"small\"\r\n            vertical\r\n          >\r\n            <Button\r\n              size=\"small\"\r\n              type=\"primary\"\r\n              @click=\"selectGood\"\r\n            >\r\n              标记\r\n            </Button>\r\n            <Button\r\n              v-if=\"['可装备的装备'].includes(readToUse.goodsType)\"\r\n              size=\"small\"\r\n              type=\"primary\"\r\n              @click=\"handleWearItem\"\r\n            >\r\n              装备\r\n            </Button>\r\n            <Button\r\n              v-if=\"['未鉴定的装备', '藏宝图', '技能书', '蛋', '大补丹'].includes(readToUse.goodsType)\"\r\n              size=\"small\"\r\n              type=\"primary\"\r\n              @click=\"handleUseItem\"\r\n            >\r\n              使用\r\n            </Button>\r\n            <Button\r\n              size=\"small\"\r\n              type=\"primary\"\r\n              @click=\"handleSellGoods\"\r\n            >\r\n              出售\r\n            </Button>\r\n            <Button\r\n              v-if='selectedGoods.length > 1'\r\n              size=\"small\"\r\n              type=\"primary\"\r\n              @click=\"makeGoods\"\r\n            >\r\n              合成\r\n            </Button>\r\n            <Button\r\n              size=\"small\"\r\n              type=\"primary\"\r\n              @click=\"handleSellItem\"\r\n            >\r\n              分解\r\n            </Button>\r\n          </ButtonGroup>\r\n        </div>\r\n        <Button\r\n          size=\"small\"\r\n          class=\"close-btn\"\r\n          type=\"info\"\r\n          @click=\"position = position === 'bottom: 0' ? 'bottom:-120px' : 'bottom: 0'\"\r\n        >\r\n          {{ position === \"bottom: 0\" ? \"隐藏\" : \"显示\"}}\r\n        </Button>\r\n      </template>\r\n    </div>\r\n    <!-- 防误操作modal -->\r\n    <Modal\r\n      v-model=\"modal\"\r\n      :styles=\"{top: '85px'}\"\r\n    >\r\n      <p\r\n        slot=\"header\"\r\n        style=\"color:#f60;text-align:center\"\r\n      >\r\n        <Icon type=\"ios-information-circle\"></Icon>\r\n        <span>确定分解所有标记物品？</span>\r\n      </p>\r\n\r\n      <div\r\n        slot=\"footer\"\r\n        style=\"text-align:center\"\r\n      >\r\n        <Button\r\n          size=\"small\"\r\n          @click=\"modal=false\"\r\n        >取消</Button>\r\n        <Button\r\n          type=\"primary\"\r\n          size=\"small\"\r\n          @click=\"confirmHandle\"\r\n        >确认</Button>\r\n      </div>\r\n    </Modal>\r\n  </div>\r\n  <!-- 背包↑ -->\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'bag',\r\n  props: {\r\n    user: { type: Object, default: () => ({}) },\r\n    game: { type: Object, default: () => ({}) }\r\n  },\r\n  data () {\r\n    return {\r\n      readToUse: null,\r\n      searchText: '',\r\n      selectedGoods: [],\r\n      modal: false,\r\n      position: 'bottom: 0' //信息面板位置\r\n    }\r\n  },\r\n  mounted () {\r\n    this.bagInit();\r\n  },\r\n  computed: {\r\n    // 背包物品初始化\r\n    goods () {\r\n      let arr = [];\r\n      if (this.user.goods) {\r\n        this.user.goods.forEach((ele) => {\r\n          const { name, num, id } = ele;\r\n          const price_type = [null, \"灵石\", \"仙石\"];\r\n          const price = ele.info.price_type\r\n            ? `${ele.info.price / ele.info.price_type}${\r\n                price_type[ele.info.price_type]\r\n              }`\r\n            : null; //价格\r\n          const info = ele.info.info; //描述\r\n          const style = ele.info.style; //文字样式\r\n          const goodsType = ele.info.info.includes('蛋') ? '蛋' : ele.goodsType; //物品类型\r\n          const selected = this.selectedGoods.find(\r\n            (item) => item.id === ele.id\r\n          );\r\n\r\n          let obj = {\r\n            name,\r\n            num,\r\n            id,\r\n            price,\r\n            info,\r\n            style,\r\n            goodsType,\r\n            selected: selected ? Number(selected.num) : 0,\r\n            \r\n          };\r\n          if (ele.goodsType === \"可装备的装备\") {\r\n            const eq_info = this.getEqsInfo_mixin(ele.info);\r\n            obj.eq_info = eq_info;\r\n          }\r\n          arr.push(obj);\r\n        });\r\n      }\r\n\r\n      if (this.searchText) {\r\n        const list = arr.filter((ele) => {\r\n          let str = `${ele.name}${ele.info}`;\r\n          if (ele.eq_info) {\r\n            str += JSON.stringify(ele.eq_info);\r\n          }\r\n          return str.includes(this.searchText);\r\n        });\r\n        return list;\r\n      }\r\n      return arr;\r\n    }\r\n  },\r\n  methods: {\r\n    // 背包数据初始化\r\n    bagInit () {\r\n      this.user.goods = [];\r\n      this.user.goodsPage = 1;\r\n      this.game.getMyGoods();\r\n    },\r\n    // 使用物品\r\n    handleUseItem() {\r\n      this.useItem_mixin(this.readToUse);\r\n    },\r\n    // 装备物品\r\n    handleWearItem() {\r\n      const { id } = this.readToUse;\r\n      this.game.wearUserEquipment(id);\r\n    },\r\n    // 分解物品\r\n    handleSellItem() {\r\n      const { useNum, id, name } = this.readToUse;\r\n      if (!useNum || useNum < 0) return this.$Message.error('请输入正确的数量')\r\n      //如果有标记，进入批量分解，没有则直接分解     \r\n      this.selectedGoods.length > 1 ? this.modal = true : this.game.sellGoods([{ id, num: useNum }]);\r\n      this.readToUse = null;\r\n    },\r\n    //分解标记物品（批量分解）\r\n    confirmHandle() {\r\n      this.game.sellGoods(this.selectedGoods);\r\n      this.selectedGoods = [];\r\n      this.readToUse = null;\r\n      this.modal = false;\r\n    },\r\n    // 上架市场\r\n    handleSellGoods () {\r\n      const { useNum, id, name, sellPrice } = this.readToUse;\r\n      if (!useNum || useNum < 0) return this.$Message.error('请输入正确的数量')\r\n      if (!sellPrice || sellPrice < 0) return this.$Message.error('请输入正确的总价')\r\n      this.game.playerSellGoods(id, sellPrice, useNum);\r\n      this.readToUse = null;\r\n    },\r\n    // 选择物品\r\n    selectGood() {\r\n      const { useNum, id } = this.readToUse;\r\n      if (useNum < 0) return this.$Message.error('请输入正确的数量')\r\n      const obj = this.selectedGoods.find((ele) => {\r\n        const res = ele.id === id;\r\n        if (res) {\r\n          ele.num = useNum;\r\n        }\r\n        return res;\r\n      });\r\n      if (!obj) {\r\n        this.selectedGoods.push({ id, num: useNum });\r\n      }\r\n      this.selectedGoods = this.selectedGoods.filter(ele => ele.num > 0)\r\n    },\r\n    // 合成物品\r\n    makeGoods () {\r\n      this.game.makeGoods(this.selectedGoods);\r\n      this.selectedGoods = [];\r\n    },\r\n    // 物品操作\r\n    goodsHandle (val) {\r\n      this.readToUse = val;\r\n      this.readToUse.useNum = 1;\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\">\r\n.good-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding-right: 32px;\r\n  .ivu-input-with-suffix {\r\n    font-size: 12px;\r\n  }\r\n}\r\n.good-info {\r\n  box-shadow: 0 3px 10px;\r\n  font-size: 12px;\r\n  background: #fff;\r\n  opacity: 0.9;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: 10px;\r\n  position: fixed;\r\n  z-index: 99;\r\n  .close-btn{\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n  }\r\n}\r\n.goods-box {\r\n  padding-bottom: 180px;\r\n  .ivu-badge {\r\n    width: 48%;\r\n    margin: 0 1%;\r\n    .good-name {\r\n      margin: 0 0.3% 5px 0;\r\n      width: 100%;\r\n      font-size: 12px !important;\r\n    }\r\n    .ivu-badge-count {\r\n      font-size: 8px;\r\n      top: 2px;\r\n      right: 10px;\r\n    }\r\n  }\r\n}\r\n\r\n.info-box {\r\n  padding-right: 20px;\r\n  padding-top: 20px;\r\n  .basci-info,\r\n  .eq-info {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n  }\r\n}\r\n.button-box {\r\n  display: flex;\r\n  flex-direction: column;\r\n  .ivu-btn {\r\n    margin-top: 2px !important;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./bag.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./bag.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./bag.vue?vue&type=template&id=03f297c9&\"\nimport script from \"./bag.vue?vue&type=script&lang=js&\"\nexport * from \"./bag.vue?vue&type=script&lang=js&\"\nimport style0 from \"./bag.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Collapse',{attrs:{\"simple\":\"\"}},_vm._l((_vm.eqsInfo),function(item,index){return _c('Panel',{key:item.id,attrs:{\"name\":_vm._f(\"getIndex_mixin\")(index)}},[_c('img',{staticClass:\"eq-img\",attrs:{\"src\":item.img}}),_c('span',{style:(item.style)},[_vm._v(_vm._s(item.name))]),_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},_vm._l((item.info),function(value,key){return _c('div',{key:key,style:((\"padding:2px;\" + (item.style)))},[_c('span',{style:(_vm._f(\"addStyle_mixin\")(key))},[_vm._v(_vm._s(key)+\"：\")]),_c('span',{style:(_vm._f(\"addStyle_mixin\")(key))},[_vm._v(_vm._s(value))])])}),0)])}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- 人物装备↓ -->\r\n  <Collapse simple>\r\n    <Panel\r\n      :name=\"index | getIndex_mixin\"\r\n      v-for=\"(item,index) in eqsInfo\"\r\n      :key=\"item.id\"\r\n    > <img\r\n        :src=\"item.img\"\r\n        class=\"eq-img\"\r\n      >\r\n      <span :style=\"item.style\">{{item.name}}</span>\r\n      <div slot=\"content\">\r\n        <div\r\n          :style=\"`padding:2px;${item.style}`\"\r\n          v-for=\"(value,key) in item.info\"\r\n          :key=\"key\"\r\n        >\r\n          <span :style=\"key | addStyle_mixin\">{{key}}：</span>\r\n          <span :style=\"key | addStyle_mixin\">{{value}}</span>\r\n        </div>\r\n      </div>\r\n    </Panel>\r\n  </Collapse>\r\n  <!-- 人物装备↑ -->\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'eqs',\r\n  data () {\r\n    return {\r\n      user: window.user,\r\n      game: window.game\r\n    }\r\n  },\r\n  computed: {\r\n    // 装备信息\r\n    eqsInfo () {\r\n      let arr = [];\r\n      this.user.userEqs &&\r\n        this.user.userEqs.forEach((ele) => {\r\n          const obj = this.getEqsInfo_mixin(ele);\r\n          const { name, style, img } = ele;\r\n          arr.push({\r\n            name,\r\n            style,\r\n            img,\r\n            info: obj,\r\n          });\r\n        });\r\n      return arr;\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./eqs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./eqs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./eqs.vue?vue&type=template&id=71ca2013&scoped=true&\"\nimport script from \"./eqs.vue?vue&type=script&lang=js&\"\nexport * from \"./eqs.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"71ca2013\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Form',{ref:\"formInline\",attrs:{\"inline\":\"\"}},[_c('FormItem',[_c('Select',{model:{value:(_vm.user.market.type),callback:function ($$v) {_vm.$set(_vm.user.market, \"type\", $$v)},expression:\"user.market.type\"}},[_c('Option',{attrs:{\"value\":\"1\"}},[_vm._v(\"装备\")]),_c('Option',{attrs:{\"value\":\"2\"}},[_vm._v(\"材料\")]),_c('Option',{attrs:{\"value\":\"3\"}},[_vm._v(\"技能书\")]),_c('Option',{attrs:{\"value\":\"4\"}},[_vm._v(\"制造类\")]),_c('Option',{attrs:{\"value\":\"5\"}},[_vm._v(\"宠物蛋\")]),_c('Option',{attrs:{\"value\":\"6\"}},[_vm._v(\"珍稀物品\")]),_c('Option',{attrs:{\"value\":\"7\"}},[_vm._v(\"法宝材料\")]),_c('Option',{attrs:{\"value\":\"8\"}},[_vm._v(\"低级兽决\")]),_c('Option',{attrs:{\"value\":\"9\"}},[_vm._v(\"高级兽决\")])],1)],1),_c('FormItem',[_c('Input',{attrs:{\"type\":\"text\",\"placeholder\":\"物品名称\"},model:{value:(_vm.user.market.keyword),callback:function ($$v) {_vm.$set(_vm.user.market, \"keyword\", $$v)},expression:\"user.market.keyword\"}})],1),_c('FormItem',[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handlerMarketSearch}},[_vm._v(\"搜索\")])],1)],1),_c('Collapse',_vm._l((_vm.user.market.sellGoods),function(item){return _c('Panel',{key:item.name,attrs:{\"name\":item.name}},[_vm._v(\" \"+_vm._s(item.name)+\" - \"+_vm._s(item.count)+\"在售 \"),_c('List',{attrs:{\"slot\":\"content\",\"border\":\"\",\"size\":\"small\"},slot:\"content\"},_vm._l((item.list),function(goods){return _c('ListItem',{key:goods._id},[_c('ListItemMeta',{attrs:{\"description\":(((goods.sell_game_gold/goods.count).toFixed(0)) + \"仙石/个，共\" + (goods.count) + \"个【卖家：\" + (goods.user.nickname) + \"】\")}}),_c('template',{slot:\"action\"},[(_vm.user.market.type == '1')?_c('li',[_c('Tooltip',[_c('a',[_vm._v(\"属性\")]),_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},_vm._l((_vm.getEqsInfo_mixin(goods)),function(value,key){return _c('p',{key:key},[_c('span',{style:(_vm._f(\"addStyle_mixin\")(key))},[_vm._v(_vm._s(key)+\":\")]),_c('span',{style:(_vm._f(\"addStyle_mixin\")(key))},[_vm._v(_vm._s(value))])])}),0)])],1):_vm._e(),_c('li',[_c('InputNumber',{attrs:{\"max\":goods.count,\"min\":1},model:{value:(goods.buyNum),callback:function ($$v) {_vm.$set(goods, \"buyNum\", $$v)},expression:\"goods.buyNum\"}})],1),_c('li',[_c('a',{on:{\"click\":function () { return _vm.handleByGoods(goods); }}},[_vm._v(\"购买\")])])])],2)}),1)],1)}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- 市场↓ -->\r\n  <div>\r\n    <Form ref=\"formInline\" inline>\r\n      <FormItem>\r\n        <Select v-model=\"user.market.type\">\r\n          <Option value=\"1\">装备</option>\r\n          <Option value=\"2\">材料</option>\r\n          <Option value=\"3\">技能书</option>\r\n          <Option value=\"4\">制造类</option>\r\n          <Option value=\"5\">宠物蛋</option>\r\n          <Option value=\"6\">珍稀物品</option>\r\n          <Option value=\"7\">法宝材料</option>\r\n          <Option value=\"8\">低级兽决</option>\r\n          <Option value=\"9\">高级兽决</option>\r\n        </Select>\r\n      </FormItem>\r\n      <FormItem>\r\n        <Input type=\"text\" v-model=\"user.market.keyword\" placeholder=\"物品名称\" />\r\n      </FormItem>\r\n      <FormItem>\r\n        <Button type=\"primary\" @click=\"handlerMarketSearch\">搜索</Button>\r\n      </FormItem>\r\n    </Form>\r\n    <Collapse>\r\n      <Panel\r\n        v-for=\"item in user.market.sellGoods\"\r\n        :key=\"item.name\"\r\n        :name=\"item.name\"\r\n      >\r\n        {{item.name}} - {{item.count}}在售\r\n        <List slot=\"content\" border size=\"small\">\r\n          <ListItem\r\n            v-for=\"goods in item.list\"\r\n            :key=\"goods._id\"\r\n          >\r\n            <ListItemMeta\r\n              :description=\"`${(goods.sell_game_gold/goods.count).toFixed(0)}仙石/个，共${goods.count}个【卖家：${goods.user.nickname}】`\"\r\n            />\r\n            <template slot=\"action\">\r\n              <li v-if=\"user.market.type == '1'\">\r\n                <Tooltip>\r\n                  <a>属性</a>\r\n                  <div slot=\"content\">\r\n                    <p\r\n                      v-for=\"(value, key) in getEqsInfo_mixin(goods)\"\r\n                      :key=\"key\"\r\n                    >\r\n                      <span :style=\"key | addStyle_mixin\">{{key}}:</span>\r\n                      <span :style=\"key | addStyle_mixin\">{{value}}</span>\r\n                    </p>\r\n                  </div>\r\n                </Tooltip>\r\n              </li>\r\n              <li>\r\n                <InputNumber :max=\"goods.count\" :min=\"1\" v-model=\"goods.buyNum\" />\r\n              </li>\r\n              <li>\r\n                <a @click=\"() => handleByGoods(goods)\">购买</a>\r\n              </li>\r\n            </template>\r\n          </ListItem>\r\n        </List>\r\n      </Panel>\r\n    </Collapse>\r\n  </div>\r\n  <!-- 市场↑ -->\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'market',\r\n  props: {\r\n    user: { type: Object, default: () => ({}) },\r\n    game: { type: Object, default: () => ({}) }\r\n  },\r\n  data () {\r\n    return {}\r\n  },\r\n  methods: {\r\n    // 购买东西\r\n    handleByGoods (gds) {\r\n      const num = gds.buyNum || 1;\r\n      const name = gds.name || gds.goods.name;\r\n      if (num == gds.count) {\r\n        this.game.byPalyerGoods(gds._id, 2);\r\n\r\n        const gdsList = user.market.sellGoods.find(sg => sg.name === name).list;\r\n        const index = gdsList.findIndex(gl => gl._id === gds._id);\r\n        gdsList.splice(index, 1);\r\n      } else {\r\n        for (let i = 0; i < num; i++) {\r\n          gds.count--;\r\n          this.game.byPalyerGoods(gds._id, 1);\r\n        }\r\n      }\r\n      this.$forceUpdate();\r\n      this.$Message.success(`购买${name}${num}个完成`);\r\n    },\r\n    handlerMarketSearch () {\r\n      this.$Spin.show();\r\n      this.user.market.pageIndex = 1;\r\n      this.user.market.list = [];\r\n      this.game.getPlayerSellGoods(this.user.market.pageIndex, this.user.market.type);\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./market.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./market.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./market.vue?vue&type=template&id=08bbb3ee&scoped=true&\"\nimport script from \"./market.vue?vue&type=script&lang=js&\"\nexport * from \"./market.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"08bbb3ee\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Tabs',{attrs:{\"size\":\"small\"},model:{value:(_vm.tabPaneName),callback:function ($$v) {_vm.tabPaneName=$$v},expression:\"tabPaneName\"}},_vm._l((_vm.petsInfo),function(item,index){return _c('TabPane',{key:index,attrs:{\"label\":((item.name) + \"(\" + (item.skills.length) + \")\"),\"name\":(\"name\" + (index+1))}},[_c('Divider',{attrs:{\"size\":\"small\"}},[_vm._v(\"状态：\"+_vm._s(item.status?'已参战':'休息中'))]),(item.skills.length === 0)?_c('p',{staticStyle:{\"padding\":\"5px\"}},[_vm._v(\" 无技能 \")]):_vm._l((item.skills),function(skill,index){return _c('Poptip',{key:index,attrs:{\"word-wrap\":\"\",\"transfer\":\"\",\"width\":\"200\",\"trigger\":\"hover\",\"content\":skill.info}},[_c('Button',{style:(skill.style),attrs:{\"size\":\"small\"}},[_vm._v(_vm._s(skill.name))])],1)}),(_vm.tabPaneName === (\"name\" + (index+1)))?_c('Table',{attrs:{\"show-header\":false,\"columns\":_vm.columns,\"data\":item.data,\"border\":\"\"}}):_vm._e(),_c('ButtonGroup',{staticClass:\"pet-btn\",attrs:{\"size\":\"small\",\"shape\":\"circle\"}},[_c('Button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handlePet(item,3)}}},[_vm._v(\"放生\")]),_c('Button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handlePet(item,4)}}},[_vm._v(\"幻化\")]),_c('Button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handlePet(item,1)}}},[_vm._v(\"升级\")]),_c('Button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handlePet(item,2,1)}}},[_vm._v(\"全力\")]),_c('Button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handlePet(item,2,2)}}},[_vm._v(\"全魔\")]),_c('Button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handlePet(item,5)}}},[_vm._v(_vm._s(item.status?\"休息\":\"参战\"))]),_c('Button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handlePet(item,8)}}},[_vm._v(_vm._s((item.bat_num && item.status)?\"主\":(item.status == 1 ? \"副\" : \"\")))])],1),_c('ButtonGroup',{staticClass:\"pet-btn\",attrs:{\"size\":\"small\",\"shape\":\"circle\"}},[_c('Button',{attrs:{\"size\":\"small\",\"type\":\"success\"},on:{\"click\":function($event){return _vm.handlePet(item, 6)}}},[_vm._v(\"合宠\")]),_c('Button',{attrs:{\"size\":\"small\",\"type\":\"success\"},on:{\"click\":function($event){return _vm.handlePet(item, 7)}}},[_vm._v(\"打书\")])],1)],2)}),1),_c('Modal',{attrs:{\"styles\":{top: '85px'}},model:{value:(_vm.modal),callback:function ($$v) {_vm.modal=$$v},expression:\"modal\"}},[_c('p',{staticStyle:{\"color\":\"#f60\",\"text-align\":\"center\"},attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('Icon',{attrs:{\"type\":\"ios-information-circle\"}}),_c('span',[_vm._v(\"确定\"+_vm._s(_vm.handleData.name)+\"？\")])],1),(![5, 8].includes(_vm.handleData.type))?_c('div',{staticStyle:{\"text-align\":\"center\"}},[(_vm.handleData.type<6)?_c('img',{staticStyle:{\"width\":\"120px\",\"padding-top\":\"5px\"},attrs:{\"src\":\"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1593343846064&di=97a86fe902b9754de368f02e336e4eab&imgtype=0&src=http%3A%2F%2Fwww.11xzb.com%2Fd%2Ffile%2Fmoban5%2F201909020832%2F1567158444899421.png\",\"alt\":\"\"}}):(_vm.handleData.type===6)?_c('div',{staticClass:\"slelect-box\"},[_c('Select',{attrs:{\"size\":\"small\"},model:{value:(_vm.pet1),callback:function ($$v) {_vm.pet1=$$v},expression:\"pet1\"}},_vm._l((_vm.petList),function(item){return _c('Option',{key:(\"pet1-\" + (item.value)),attrs:{\"disabled\":_vm._f(\"disabled\")([item.status,item.value,_vm.pet2]),\"value\":item.value}},[_vm._v(_vm._s(item.label)+\"(\"+_vm._s(item.skills.length)+\")\")])}),1),_c('p',[_vm._v(\"技能：\"+_vm._s(_vm.selectPet1))]),_c('Select',{attrs:{\"size\":\"small\"},model:{value:(_vm.pet2),callback:function ($$v) {_vm.pet2=$$v},expression:\"pet2\"}},_vm._l((_vm.petList),function(item){return _c('Option',{key:(\"pet2-\" + (item.value)),attrs:{\"disabled\":_vm._f(\"disabled\")([item.status,item.value,_vm.pet1]),\"value\":item.value}},[_vm._v(_vm._s(item.label)+\"(\"+_vm._s(item.skills.length)+\")\")])}),1),_c('p',[_vm._v(\"技能：\"+_vm._s(_vm.selectPet2))])],1):_c('div',{staticClass:\"slelect-box\"},[_c('Select',{attrs:{\"size\":\"small\"},model:{value:(_vm.pet1),callback:function ($$v) {_vm.pet1=$$v},expression:\"pet1\"}},_vm._l((_vm.petList),function(item){return _c('Option',{key:(\"ds1-\" + (item.value)),attrs:{\"disabled\":_vm._f(\"disabled\")([item.status,item.value,_vm.pet2]),\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1),_c('p',[_vm._v(\"技能：\"+_vm._s(_vm.selectPet1))]),_c('Select',{attrs:{\"size\":\"small\"},model:{value:(_vm.pet2),callback:function ($$v) {_vm.pet2=$$v},expression:\"pet2\"}},_vm._l((_vm.bookList),function(item,index){return _c('Option',{key:(\"ds2-\" + (item.value) + \"-\" + index),attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1)],1),(_vm.handleData.type === 1)?_c('p',[_vm._v(\"点击确认继续升级，或者点击取消关闭面板\")]):_vm._e(),(_vm.handleData.type === 3 && _vm.handleData.data.status===1)?_c('p',[_vm._v(\"宠物正在参战...\")]):_vm._e()]):_vm._e(),_c('div',{staticStyle:{\"text-align\":\"center\"},attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.modal=false}}},[_vm._v(\"取消\")]),_c('Button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"disabled\":_vm.handleData.type === 3 && _vm.handleData.data.status===1},on:{\"click\":_vm.confirmHandle}},[_vm._v(\"确认\")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- 宠物信息↓ -->\r\n  <div>\r\n    <Tabs\r\n      v-model=\"tabPaneName\"\r\n      size=\"small\"\r\n    >\r\n      <TabPane\r\n        v-for=\"(item, index) in petsInfo\"\r\n        :key=\"index\"\r\n        :label=\"`${item.name}(${item.skills.length})`\"\r\n        :name=\"`name${index+1}`\"\r\n      >\r\n        <Divider size=\"small\">状态：{{item.status?'已参战':'休息中'}}</Divider>\r\n        <p\r\n          style=\"padding:5px\"\r\n          v-if=\"item.skills.length === 0\"\r\n        >\r\n          无技能\r\n        </p>\r\n        <Poptip\r\n          v-else\r\n          word-wrap\r\n          transfer\r\n          width=\"200\"\r\n          trigger=\"hover\"\r\n          v-for=\"(skill,index) in item.skills\"\r\n          :key=\"index\"\r\n          :content=\"skill.info\"\r\n        >\r\n          <Button\r\n            :style=\"skill.style\"\r\n            size=\"small\"\r\n          >{{skill.name}}</Button>\r\n        </Poptip>\r\n\r\n        <Table\r\n          v-if=\"tabPaneName === `name${index+1}`\"\r\n          :show-header=\"false\"\r\n          :columns=\"columns\"\r\n          :data=\"item.data\"\r\n          border\r\n        ></Table>\r\n        <ButtonGroup\r\n          size=\"small\"\r\n          shape=\"circle\"\r\n          class=\"pet-btn\"\r\n        >\r\n          <Button\r\n            size=\"small\"\r\n            type=\"primary\"\r\n            @click=\"handlePet(item,3)\"\r\n          >放生</Button>\r\n          <Button\r\n            size=\"small\"\r\n            type=\"primary\"\r\n            @click=\"handlePet(item,4)\"\r\n          >幻化</Button>\r\n          <Button\r\n            size=\"small\"\r\n            type=\"primary\"\r\n            @click=\"handlePet(item,1)\"\r\n          >升级</Button>\r\n          <Button\r\n            size=\"small\"\r\n            type=\"primary\"\r\n            @click=\"handlePet(item,2,1)\"\r\n          >全力</Button>\r\n          <Button\r\n            size=\"small\"\r\n            type=\"primary\"\r\n            @click=\"handlePet(item,2,2)\"\r\n          >全魔</Button>\r\n          <Button\r\n            size=\"small\"\r\n            type=\"primary\"\r\n            @click=\"handlePet(item,5)\"\r\n          >{{item.status?\"休息\":\"参战\"}}</Button>\r\n          <Button\r\n            size=\"small\"\r\n            type=\"primary\"\r\n            @click=\"handlePet(item,8)\"\r\n          >{{(item.bat_num && item.status)?\"主\":(item.status == 1 ? \"副\" : \"\")}}</Button>\r\n        </ButtonGroup>\r\n        <ButtonGroup\r\n          size=\"small\"\r\n          shape=\"circle\"\r\n          class=\"pet-btn\"\r\n        >\r\n          <Button\r\n            size=\"small\"\r\n            type=\"success\"\r\n            @click=\"handlePet(item, 6)\"\r\n          >合宠</Button>\r\n          <Button\r\n            size=\"small\"\r\n            type=\"success\"\r\n            @click=\"handlePet(item, 7)\"\r\n          >打书</Button>\r\n        </ButtonGroup>\r\n      </TabPane>\r\n    </Tabs>\r\n    <!-- 防误操作modal -->\r\n    <Modal\r\n      v-model=\"modal\"\r\n      :styles=\"{top: '85px'}\"\r\n    >\r\n      <p\r\n        slot=\"header\"\r\n        style=\"color:#f60;text-align:center\"\r\n      >\r\n        <Icon type=\"ios-information-circle\"></Icon>\r\n        <span>确定{{handleData.name}}？</span>\r\n      </p>\r\n      <div v-if=\"![5, 8].includes(handleData.type)\" style=\"text-align:center\">\r\n        <img\r\n          v-if=\"handleData.type<6\"\r\n          src=\"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1593343846064&di=97a86fe902b9754de368f02e336e4eab&imgtype=0&src=http%3A%2F%2Fwww.11xzb.com%2Fd%2Ffile%2Fmoban5%2F201909020832%2F1567158444899421.png\"\r\n          alt=\"\"\r\n          style=\"width:120px;padding-top:5px\"\r\n        >\r\n        <!-- 合宠 -->\r\n        <div\r\n          v-else-if=\"handleData.type===6\"\r\n          class=\"slelect-box\"\r\n        >\r\n          <Select\r\n            v-model=\"pet1\"\r\n            size=\"small\"\r\n          >\r\n            <Option\r\n              v-for=\"item in petList\"\r\n              :disabled=\"[item.status,item.value,pet2] | disabled\"\r\n              :value=\"item.value\"\r\n              :key=\"`pet1-${item.value}`\"\r\n            >{{item.label}}({{item.skills.length}})</Option>\r\n          </Select>\r\n          <p>技能：{{selectPet1}}</p>\r\n          <Select\r\n            v-model=\"pet2\"\r\n            size=\"small\"\r\n          >\r\n            <Option\r\n              v-for=\"item in petList\"\r\n              :disabled=\"[item.status,item.value,pet1] | disabled\"\r\n              :value=\"item.value\"\r\n              :key=\"`pet2-${item.value}`\"\r\n            >{{item.label}}({{item.skills.length}})</Option>\r\n          </Select>\r\n          <p>技能：{{selectPet2}}</p>\r\n        </div>\r\n        <!-- 打书 -->\r\n        <div\r\n          v-else\r\n          class=\"slelect-box\"\r\n        >\r\n          <Select\r\n            v-model=\"pet1\"\r\n            size=\"small\"\r\n          >\r\n            <Option\r\n              v-for=\"item in petList\"\r\n              :disabled=\"[item.status,item.value,pet2] | disabled\"\r\n              :value=\"item.value\"\r\n              :key=\"`ds1-${item.value}`\"\r\n            >{{ item.label }}</Option>\r\n          </Select>\r\n          <p>技能：{{selectPet1}}</p>\r\n          <Select\r\n            v-model=\"pet2\"\r\n            size=\"small\"\r\n          >\r\n            <Option\r\n              v-for=\"(item, index) in bookList\"\r\n              :value=\"item.value\"\r\n              :key=\"`ds2-${item.value}-${index}`\"\r\n            >{{ item.label }}</Option>\r\n          </Select>\r\n        </div>\r\n        <p v-if='handleData.type === 1'>点击确认继续升级，或者点击取消关闭面板</p>\r\n        <p v-if='handleData.type === 3 && handleData.data.status===1'>宠物正在参战...</p>\r\n      </div>\r\n      <div\r\n        slot=\"footer\"\r\n        style=\"text-align:center\"\r\n      >\r\n        <Button\r\n          size=\"small\"\r\n          @click=\"modal=false\"\r\n        >取消</Button>\r\n        <Button\r\n          type=\"primary\"\r\n          size=\"small\"\r\n          :disabled=\"handleData.type === 3 && handleData.data.status===1\"\r\n          @click=\"confirmHandle\"\r\n        >确认</Button>\r\n      </div>\r\n    </Modal>\r\n  </div>\r\n  <!-- 宠物信息↑ -->\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'pet',\r\n  props: {\r\n    user: { type: Object, default: () => ({}) },\r\n    game: { type: Object, default: () => ({}) }\r\n  },\r\n  data () {\r\n    return {\r\n      tabPaneName: \"name1\",\r\n      columns: [\r\n        {\r\n          title: \"column1\",\r\n          key: \"column1\",\r\n          align: \"center\",\r\n        },\r\n        {\r\n          title: \"column2\",\r\n          key: \"column2\",\r\n          width: 120,\r\n          align: \"center\",\r\n        },\r\n        {\r\n          title: \"column3\",\r\n          key: \"column3\",\r\n          width: 80,\r\n          align: \"center\",\r\n        },\r\n      ],\r\n      modal: false,\r\n      handleData: {},\r\n      pet1: \"\",\r\n      pet2: \"\"\r\n    }\r\n  },\r\n  mounted () {\r\n    this.game.getMyPet();\r\n  },\r\n  filters: {\r\n    //参战宠物和重复不能选\r\n    disabled(val) {\r\n      return val[0] ? true : false || val[1] === val[2];\r\n    }\r\n  },\r\n  computed: {\r\n    petsInfo () {\r\n      const arr = this.user.myPets;\r\n      let pets = [];\r\n      const type = this.rareType;\r\n      arr &&\r\n        arr.forEach((ele) => {\r\n          const { skill, _id, name, status, bat_num } = ele;\r\n          const data = [\r\n            {\r\n              column1: `等级：${ele.level}`,\r\n              column2: `类型：${type[ele.type]}`,\r\n              column3: `成长：${ele.growing_num.toFixed(2)}`,\r\n            },\r\n            {\r\n              column1: `气血：${Math.round(ele.hp)}`,\r\n              column2: `魔法：${Math.round(ele.mp)}`,\r\n              column3: `命中：${Math.round(ele.hit)}`,\r\n            },\r\n            {\r\n              column1: `攻击资质：${ele.str_zz}`,\r\n              column2: `物理伤害：${Math.round(ele.physical_damage)}`,\r\n              column3: `力量：${ele.str}`,\r\n            },\r\n            {\r\n              column1: `法力资质：${ele.int_zz}`,\r\n              column2: `魔法伤害：${Math.round(ele.magic_damage)}`,\r\n              column3: `魔力：${ele.int}`,\r\n            },\r\n            // {\r\n            //   column1: `体力资质：${ele.con_zz}`,\r\n            //   column2: `魔法防御：${Math.round(ele.magic_defense)}`,\r\n            //   column3: `体质：${ele.con}`,\r\n            // },\r\n            // {\r\n            //   column1: `防御资质：${ele.vit_zz}`,\r\n            //   column2: `物理防御：${Math.round(ele.physical_defense)}`,\r\n            //   column3: `耐力：${ele.vit}`,\r\n            // },\r\n\r\n            // {\r\n            //   column1: `速资质度：${ele.speed_zz}`,\r\n            //   column2: `速度：${Math.round(ele.speed)}`,\r\n            //   column3: `敏捷：${ele.agi}`,\r\n            // },\r\n            // {\r\n            //   column1: `躲避质度：${ele.dodge_zz}`,\r\n            //   column2: `躲避：${Math.round(ele.dodge)}`,\r\n            //   column3: `潜力：${ele.potential_num}`,\r\n            // },\r\n          ];\r\n          let skills = [];\r\n          skill.forEach((item) => {\r\n            skills.push({\r\n              name: item.name,\r\n              info: item.info,\r\n              style: item.high ? \"margin:5px;color:orchid\" : \"margin:5px;\",\r\n            });\r\n          });\r\n          const point = ele.potential_num;\r\n          const obj = { _id, skills, name, data, status, point, bat_num };\r\n          pets.push(obj);\r\n        });\r\n      return pets;\r\n    },\r\n    petList () {\r\n      const options = [];\r\n      this.petsInfo.forEach((ele) => {\r\n        let skills = [];\r\n        ele.skills.forEach((item) => {\r\n          skills.push(item.name);\r\n        });\r\n        options.push({\r\n          value: ele._id,\r\n          label: `${ele.name} ， ${ele.data[0].column3}`,\r\n          skills,\r\n          status: ele.status,\r\n        });\r\n      });\r\n      return options;\r\n    },\r\n    selectPet1 () {\r\n      const pet = this.petList.find((ele) => this.pet1 === ele.value) || {\r\n        skills: [],\r\n      };\r\n      return pet.skills.join(\"，\") || \"无\";\r\n    },\r\n    selectPet2 () {\r\n      const pet = this.petList.find((ele) => this.pet2 === ele.value) || {\r\n        skills: [],\r\n      };\r\n      return pet.skills.join(\",\") || \"无\";\r\n    },\r\n    bookList () {\r\n      const options = [];\r\n      (this.user.goods || []).map((ele) => {\r\n        ele.goodsType === \"兽决\" &&\r\n          options.push({\r\n            value: ele.id,\r\n            label: ele.name,\r\n          });\r\n      });\r\n      return options;\r\n    }\r\n  },\r\n  methods: {\r\n    //宠物相关操作\r\n    handlePet(obj, type, point) {\r\n      const arr = [\"升级\", \"加点\", \"放生\", \"幻化\", \"参战/休息\", \"合成\", \"打书\", \"主副战宠切换\"];\r\n      const points = {\r\n        str: point === 1 ? obj.point : 0, // 力量\r\n        int: point === 2 ? obj.point : 0, // 智力\r\n        agi: 0, // 敏捷\r\n        vit: 0, // 耐力\r\n        con: 0, // 体质\r\n      };\r\n\r\n      this.modal = true;\r\n      this.handleData = {\r\n        type: type,\r\n        data: obj,\r\n        point: type === 2 ? points : null,\r\n        name: arr[type - 1],\r\n      };\r\n    },\r\n    confirmHandle() {\r\n      const data = this.handleData;\r\n\r\n      //升级，放生，加点\r\n      if (data.type < 4) {\r\n        this.game.upUserPetLevel(data.data._id, data.type, data.point);\r\n      }\r\n      //幻化\r\n      if (data.type === 4) {\r\n        this.game.turnIntoPet(data.data._id);\r\n        this.tabPaneName = \"name1\";\r\n      }\r\n      //参战 or 休息\r\n      if (data.type === 5) {\r\n        const status = data.data.status ? 0 : 1;\r\n        this.game.playUserPet(data.data._id, status);\r\n        this.tabPaneName = \"name1\";\r\n      }\r\n      //合宠\r\n      if (data.type === 6) {\r\n        this.game.fitPet(this.pet1, this.pet2);\r\n        this.tabPaneName = `name${this.petsInfo.length - 1}`;\r\n        this.pet1 = \"\";\r\n        this.pet2 = \"\";\r\n      }\r\n      if (data.type === 7) {\r\n        this.game.addUserPetSkill(this.pet2, this.pet1);\r\n        this.pet1 = \"\";\r\n        this.pet2 = \"\";\r\n      }\r\n      if (data.type === 8) {\r\n        this.game.playUserPet(data.data._id, 3);\r\n      }\r\n\r\n      if (data.type !== 1) {\r\n        this.modal = false;\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.pet-btn {\r\n  padding-top: 5px;\r\n  display: flex !important;\r\n  justify-content: center;\r\n  .ivu-btn {\r\n    padding: 0 6px !important;\r\n  }\r\n}\r\n\r\n.slelect-box {\r\n  padding: 10px;\r\n  p {\r\n    padding: 10px;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pet.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pet.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./pet.vue?vue&type=template&id=90cf5b4e&scoped=true&\"\nimport script from \"./pet.vue?vue&type=script&lang=js&\"\nexport * from \"./pet.vue?vue&type=script&lang=js&\"\nimport style0 from \"./pet.vue?vue&type=style&index=0&id=90cf5b4e&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"90cf5b4e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.user.arms)?[_vm._l((_vm.user.arms),function(arm){return _c('Tag',{key:arm.name},[_vm._v(\" \"+_vm._s(arm.name)+\"[\"+_vm._s(arm.exp)+\"/\"+_vm._s(arm.needExp)+\"] \")])}),_c('div',{staticClass:\"br\"}),_c('div',{staticClass:\"br\"}),_c('div',{staticClass:\"br\"}),_c('Input',{attrs:{\"type\":\"number\"},model:{value:(_vm.upSkillNum),callback:function ($$v) {_vm.upSkillNum=$$v},expression:\"upSkillNum\"}},[_c('Select',{staticStyle:{\"width\":\"100px\"},attrs:{\"slot\":\"prepend\",\"transfer\":\"\"},slot:\"prepend\",model:{value:(_vm.upSkillType),callback:function ($$v) {_vm.upSkillType=$$v},expression:\"upSkillType\"}},[_c('Option',{attrs:{\"value\":1}},[_vm._v(\"剑修\")]),_c('Option',{attrs:{\"value\":2}},[_vm._v(\"枪修\")]),_c('Option',{attrs:{\"value\":3}},[_vm._v(\"锤修\")]),_c('Option',{attrs:{\"value\":4}},[_vm._v(\"伞修\")])],1),_c('Button',{attrs:{\"slot\":\"append\",\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.handleFationSkill},slot:\"append\"},[_vm._v(\"确定\")])],1)]:_vm._e(),(_vm.user.skills)?_vm._l((_vm.user.skills),function(skill){return _c('div',{key:skill._id},[_c('div',{staticClass:\"br\"}),_c('div',{staticClass:\"br\"}),_c('div',{staticClass:\"br\"}),_vm._v(\" \"+_vm._s(skill.name)+\"： \"),_c('ButtonGroup',{attrs:{\"size\":\"small\"}},[_c('Button',{on:{\"click\":function () { return _vm.game.upLevelUserSkill(1, skill._id); }}},[_vm._v(\" 基础伤害\"+_vm._s(skill.real_damage)+\" \"),_c('Icon',{attrs:{\"type\":\"md-arrow-round-up\"}})],1),_c('Button',{on:{\"click\":function () { return _vm.game.upLevelUserSkill(2, skill._id); }}},[_vm._v(\" 属性波动【\"+_vm._s(skill.min_hurt.toFixed(2))+\" ~ \"+_vm._s(skill.max_hurt.toFixed(2))+\"】 \"),_c('Icon',{attrs:{\"type\":\"md-arrow-round-up\"}})],1),_c('Button',{on:{\"click\":function () { return _vm.game.upLevelUserSkill(3, skill._id); }}},[_vm._v(\" 作用单位【\"+_vm._s(skill.unit)+\"】 \"),_c('Icon',{attrs:{\"type\":\"md-arrow-round-up\"}})],1)],1)],1)}):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- 人物技能↓ -->\r\n  <div>\r\n    <template v-if=\"user.arms\">\r\n      <Tag v-for=\"arm in user.arms\" :key=\"arm.name\">\r\n        {{arm.name}}[{{arm.exp}}/{{arm.needExp}}]\r\n      </Tag>\r\n      <div class=\"br\" />\r\n      <div class=\"br\" />\r\n      <div class=\"br\" />\r\n      <Input v-model=\"upSkillNum\" type=\"number\">\r\n        <Select transfer v-model=\"upSkillType\" slot=\"prepend\" style=\"width: 100px\">\r\n          <Option :value=\"1\">剑修</Option>\r\n          <Option :value=\"2\">枪修</Option>\r\n          <Option :value=\"3\">锤修</Option>\r\n          <Option :value=\"4\">伞修</Option>\r\n        </Select>\r\n        <Button slot=\"append\" type=\"primary\" size=\"small\" @click=\"handleFationSkill\">确定</Button>\r\n      </Input>\r\n    </template>\r\n    <template v-if=\"user.skills\">\r\n      <div v-for=\"skill in user.skills\" :key=\"skill._id\">\r\n        <div class=\"br\" />\r\n        <div class=\"br\" />\r\n        <div class=\"br\" />\r\n        {{skill.name}}：\r\n        <ButtonGroup size=\"small\">\r\n          <Button @click=\"() => game.upLevelUserSkill(1, skill._id)\">\r\n            基础伤害{{skill.real_damage}}\r\n            <Icon type=\"md-arrow-round-up\" />\r\n          </Button>\r\n          <Button @click=\"() => game.upLevelUserSkill(2, skill._id)\">\r\n            属性波动【{{skill.min_hurt.toFixed(2)}} ~ {{skill.max_hurt.toFixed(2)}}】\r\n            <Icon type=\"md-arrow-round-up\" />\r\n          </Button>\r\n          <Button @click=\"() => game.upLevelUserSkill(3, skill._id)\">\r\n            作用单位【{{skill.unit}}】\r\n            <Icon type=\"md-arrow-round-up\" />\r\n          </Button>\r\n        </ButtonGroup>\r\n      </div>\r\n    </template>\r\n  </div>\r\n  <!-- 人物技能↑ -->\r\n</template>\r\n<script>\r\nimport { sleep } from \"@libs/tools\";\r\nexport default {\r\n  name: 'skills',\r\n  props: {\r\n    user: { type: Object, default: () => ({}) },\r\n    game: { type: Object, default: () => ({}) }\r\n  },\r\n  data () {\r\n    return {\r\n      upSkillNum: 50,\r\n      upSkillType: 1\r\n    }\r\n  },\r\n  methods: {\r\n    async handleFationSkill(type) {\r\n      if (this.upSkillNum <= 0) {\r\n        this.$Message.error('大胸弟，别搞事情');\r\n        return;\r\n      }\r\n      if (this.upSkillNum * 20000 > this.user.myInfo.game_silver) {\r\n        this.$Message.error('大胸弟，你钱不够啊');\r\n        return;\r\n      }\r\n      this.$Spin.show({\r\n        render: () => (\r\n          <p>\r\n            正在自动连点技能，为避免请求次数过多和程序错乱，在此窗口关闭后再进行其他操作\r\n          </p>\r\n        ),\r\n      });\r\n      for (let i = 0; i < this.upSkillNum; i++) {\r\n        this.game.repairUserArms(this.upSkillType);\r\n        await sleep(50);\r\n      }\r\n      this.game.userInfo();\r\n      this.game.getMySkill();\r\n      this.$Spin.hide();\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./skills.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./skills.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./skills.vue?vue&type=template&id=ceae768e&scoped=true&\"\nimport script from \"./skills.vue?vue&type=script&lang=js&\"\nexport * from \"./skills.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ceae768e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('List',_vm._l((_vm.user.userTasks),function(task){return _c('ListItem',{key:task.utid},[_c('ListItemMeta',{attrs:{\"description\":((task.info) + \" - 所需物品：\" + (task.need.join(',')))}},[_c('template',{slot:\"title\"},[_c('p',{domProps:{\"innerHTML\":_vm._s(((task.title) + \" - 奖励物品：\" + (task.give.join(','))))}})])],2),_c('template',{slot:\"action\"},[_c('li',[_c('a',{on:{\"click\":function($event){return _vm.game.payUserTask(task.utid)}}},[_vm._v(\"完成\")])])])],2)}),1),_c('Divider',{attrs:{\"orientation\":\"left\"}},[_vm._v(\"系统任务\")]),_c('List',_vm._l((_vm.user.systemTask),function(task){return _c('ListItem',{key:task._id},[_c('ListItemMeta',{attrs:{\"description\":(\"\" + (task.info))}},[_c('template',{slot:\"title\"},[_c('p',{domProps:{\"innerHTML\":_vm._s(task.title)}})])],2),_c('template',{slot:\"action\"},[_c('li',[_c('a',{on:{\"click\":function($event){return _vm.game.getCopyTask(task._id)}}},[_vm._v(\"领取\")])])])],2)}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- 任务↓ -->\r\n  <div>\r\n    <List>\r\n      <ListItem v-for=\"task in user.userTasks\" :key=\"task.utid\">\r\n        <ListItemMeta\r\n          :description=\"`${task.info} - 所需物品：${task.need.join(',')}`\"\r\n        >\r\n          <template slot=\"title\">\r\n            <p v-html=\"`${task.title} - 奖励物品：${task.give.join(',')}`\"></p>\r\n          </template>\r\n        </ListItemMeta>\r\n        <template slot=\"action\">\r\n          <li>\r\n            <a @click=\"game.payUserTask(task.utid)\">完成</a>\r\n          </li>\r\n        </template>\r\n      </ListItem>\r\n    </List>\r\n    <Divider orientation=\"left\">系统任务</Divider>\r\n    <List>\r\n      <ListItem v-for=\"task in user.systemTask\" :key=\"task._id\">\r\n        <ListItemMeta\r\n          :description=\"`${task.info}`\"\r\n        >\r\n          <template slot=\"title\">\r\n            <p v-html=\"task.title\"></p>\r\n          </template>\r\n        </ListItemMeta>\r\n        <template slot=\"action\">\r\n          <li>\r\n            <a @click=\"game.getCopyTask(task._id)\">领取</a>\r\n          </li>\r\n        </template>\r\n      </ListItem>\r\n    </List>\r\n  </div>\r\n  <!-- 任务↑ -->\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'tasks',\r\n  props: {\r\n    user: { type: Object, default: () => ({}) },\r\n    game: { type: Object, default: () => ({}) }\r\n  },\r\n  data () {\r\n    return {}\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tasks.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tasks.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./tasks.vue?vue&type=template&id=095088da&scoped=true&\"\nimport script from \"./tasks.vue?vue&type=script&lang=js&\"\nexport * from \"./tasks.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"095088da\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('CellGroup',_vm._l((_vm.userInfo),function(value,key){return _c('Cell',{key:key,attrs:{\"title\":key,\"extra\":(\"\" + value)}})}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n   <!-- 人物属性↓ -->\r\n  <CellGroup>\r\n    <Cell\r\n      v-for=\"(value, key) in userInfo\"\r\n      :key=\"key\"\r\n      :title=\"key\"\r\n      :extra=\"`${value}`\"\r\n    />\r\n  </CellGroup>\r\n  <!-- 人物属性↑ -->\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'userinfo',\r\n  props: {\r\n    user: { type: Object, default: () => ({}) },\r\n    game: { type: Object, default: () => ({}) }\r\n  },\r\n  data () {\r\n    return {}\r\n  },\r\n  computed: {\r\n    userInfo() {\r\n      const obj = this.user.myInfo;\r\n      let info = {};\r\n      if (obj) {\r\n        info = {\r\n          等级: obj.level,\r\n          经验: Math.round(obj.exp),\r\n          气血: obj.hp_cap,\r\n          魔法: obj.mp,\r\n          命中: obj.hit,\r\n          物理伤害: obj.physical_damage,\r\n          物理防御: obj.physical_defense,\r\n          魔法伤害: obj.magic_damage,\r\n          魔法防御: obj.magic_defense,\r\n          治疗能力: obj.restore_damage,\r\n          速度: obj.speed,\r\n          物理暴击: obj.physical_crit,\r\n          法术暴击: obj.magic_crit,\r\n          体质: obj.con,\r\n          魔力: obj.int,\r\n          力量: obj.str,\r\n          耐力: obj.vit,\r\n          敏捷: obj.agi,\r\n          潜力: obj.potential_num,\r\n          躲避: obj.dodge,\r\n          活力: Math.round(obj.vitality_num),\r\n          气血储备: Math.round(obj.hp_store),\r\n          魔法储备: Math.round(obj.mp_store),\r\n          宝宝经验: Math.round(obj.pet_exp),\r\n        };\r\n      }\r\n      return info;\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userinfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userinfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./userinfo.vue?vue&type=template&id=309ff728&scoped=true&\"\nimport script from \"./userinfo.vue?vue&type=script&lang=js&\"\nexport * from \"./userinfo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"309ff728\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"goods-box\"},_vm._l((_vm.goods),function(item,_id){return _c('Button',{key:_id,staticClass:\"good-name\",style:(item.style),attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.currentGood = item}}},[_c('label',{domProps:{\"innerHTML\":_vm._s(item.name)}})])}),1),_c('div',{staticClass:\"info-box\"},[_c('div',{staticClass:\"basci-info\"},[_c('span',{style:(_vm.currentGood.style)},[_vm._v(_vm._s(_vm.currentGood.name))]),_c('span',{style:(_vm.currentGood.style)},[_vm._v(\"价格：\"+_vm._s(_vm.currentGood.price))]),_c('span',{style:(_vm.currentGood.style)},[_vm._v(_vm._s(_vm.currentGood.info))])]),_c('Button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.game.byGoodsToSystem(2,_vm.currentGood._id)}}},[_vm._v(\" 购买 \")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- 商城↓ -->\r\n  <div>\r\n    <div class=\"goods-box\">\r\n      <Button\r\n        v-for=\"(item, _id) in goods\"\r\n        :key=\"_id\"\r\n        size=\"small\"\r\n        class=\"good-name\"\r\n        :style=\"item.style\"\r\n        @click=\"currentGood = item\"\r\n      >\r\n        <label v-html=\"item.name\"></label>\r\n      </Button>\r\n    </div>\r\n    <div class=\"info-box\">\r\n      <div class=\"basci-info\">\r\n        <span :style=\"currentGood.style\">{{currentGood.name}}</span>\r\n        <span :style=\"currentGood.style\">价格：{{currentGood.price}}</span>  \r\n        <span :style=\"currentGood.style\">{{currentGood.info}}</span>\r\n      </div>\r\n      <Button \r\n        size=\"small\"\r\n        type=\"primary\"\r\n        @click=\"game.byGoodsToSystem(2,currentGood._id)\" \r\n      >\r\n        购买\r\n      </Button>\r\n    </div>\r\n  </div>\r\n  <!-- 商城↑ -->\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'shop',\r\n  props: {\r\n    user: { type: Object, default: () => ({}) },\r\n    game: { type: Object, default: () => ({}) }\r\n  },\r\n  data () {\r\n    return {\r\n      currentGood: {}\r\n    }\r\n  },\r\n  mounted () {\r\n    this.game.getSystemSellGoods()\r\n  },\r\n  computed: {\r\n    goods () {\r\n      let arr = [];\r\n      if (this.user.shop) {\r\n        this.user.shop.goods.forEach((ele) => {\r\n          const { name, info, style, _id } = ele;\r\n          const price_type = [null, \"灵石\", \"仙石\"];\r\n          const price = ele.price_type\r\n            ? `${ele.price}${\r\n                price_type[ele.price_type]\r\n              }`\r\n            : null; \r\n\r\n          let obj = {\r\n            name,   //名称\r\n            price, //价格\r\n            info, //描述\r\n            style, //文字样式\r\n            _id //物品id\r\n          };\r\n          arr.push(obj);\r\n        });\r\n        return arr;\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.goods-box {\r\n  padding-bottom: 180px;\r\n  .good-name {\r\n    margin: 0 0.5% 5px 0;\r\n    width: 49%;\r\n    font-size: 12px !important;\r\n  }\r\n}\r\n.info-box {\r\n   box-shadow: 0 3px 10px;\r\n  font-size: 12px;\r\n  background: #fff;\r\n  opacity: 0.9;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: 10px;\r\n  position: fixed;\r\n  z-index: 99;\r\n  bottom: 0;\r\n  .basci-info{\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shop.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shop.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./shop.vue?vue&type=template&id=5512574c&scoped=true&\"\nimport script from \"./shop.vue?vue&type=script&lang=js&\"\nexport * from \"./shop.vue?vue&type=script&lang=js&\"\nimport style0 from \"./shop.vue?vue&type=style&index=0&id=5512574c&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5512574c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"br\"}),_vm._v(\" 捕捉指定 \"),_c('i-switch',{attrs:{\"size\":\"large\",\"true-color\":\"#2db7f5\",\"false-color\":\"#2d8cf0\",\"disabled\":_vm.user.isCompose},model:{value:(_vm.user.catchType),callback:function ($$v) {_vm.$set(_vm.user, \"catchType\", $$v)},expression:\"user.catchType\"}},[_c('span',{attrs:{\"slot\":\"open\"},slot:\"open\"},[_vm._v(\"技能\")]),_c('span',{attrs:{\"slot\":\"close\"},slot:\"close\"},[_vm._v(\"宠物\")])]),_vm._v(\" \"),(_vm.user.catchType)?[_c('div',{staticClass:\"br\"}),_vm._v(\" 选择技能： \"),_c('Select',{staticStyle:{\"max-width\":\"140px\"},attrs:{\"multiple\":\"\",\"size\":\"small\"},model:{value:(_vm.user.catchSkills),callback:function ($$v) {_vm.$set(_vm.user, \"catchSkills\", $$v)},expression:\"user.catchSkills\"}},_vm._l((_vm.skillList),function(skill){return _c('Option',{key:skill,attrs:{\"value\":skill}},[_vm._v(\" \"+_vm._s(skill)+\" \")])}),1),_vm._v(\" 锁定宠物： \"),_c('Select',{staticStyle:{\"max-width\":\"140px\"},attrs:{\"multiple\":\"\",\"size\":\"small\"},model:{value:(_vm.user.lockPet),callback:function ($$v) {_vm.$set(_vm.user, \"lockPet\", $$v)},expression:\"user.lockPet\"}},_vm._l((_vm.user.myPets),function(pet){return _c('Option',{key:pet._id,attrs:{\"value\":pet._id}},[_vm._v(\" \"+_vm._s(pet.name)+\"[\"+_vm._s(pet.skill.map(function (skl) { return skl.name; }).join('，'))+\"] \")])}),1),_vm._v(\" \"),_c('Checkbox',{attrs:{\"border\":\"\"},on:{\"on-change\":_vm.handleAutoChange},model:{value:(_vm.user.isCompose),callback:function ($$v) {_vm.$set(_vm.user, \"isCompose\", $$v)},expression:\"user.isCompose\"}},[_vm._v(\"自动合成\")])]:[_vm._v(\" 选择宠物： \"),_c('Select',{staticStyle:{\"max-width\":\"300px\"},attrs:{\"multiple\":\"\",\"size\":\"small\"},model:{value:(_vm.user.catchPet),callback:function ($$v) {_vm.$set(_vm.user, \"catchPet\", $$v)},expression:\"user.catchPet\"}},_vm._l((_vm.screenMonsterMap),function(screenMonster){return _c('Option',{key:screenMonster.monsterName,attrs:{\"value\":screenMonster.monsterName}},[_vm._v(\" \"+_vm._s(screenMonster.monsterName)+\" \")])}),1)],_c('div',{staticClass:\"br\"}),_c('p',[(_vm.user.catchType && _vm.user.catchPetBySkill && _vm.user.catchPetBySkill.length > 0)?_c('label',[_vm._v(\" 捕捉目标：【\"+_vm._s(_vm.user.catchPetBySkill.join('，'))+\"】， \")]):_vm._e(),_vm._v(\" 历史捕捉成功率：【\"+_vm._s(_vm.catchRate)+\"%】 \")])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div class=\"br\" />\r\n    捕捉指定\r\n    <i-switch v-model=\"user.catchType\" size=\"large\" true-color=\"#2db7f5\" false-color=\"#2d8cf0\" :disabled=\"user.isCompose\">\r\n      <span slot=\"open\">技能</span>\r\n      <span slot=\"close\">宠物</span>\r\n    </i-switch>\r\n    &nbsp;\r\n    <template v-if=\"user.catchType\">\r\n      <div class=\"br\" />\r\n      选择技能：\r\n      <Select v-model=\"user.catchSkills\" multiple size=\"small\" style=\"max-width: 140px;\">\r\n        <Option\r\n          v-for=\"skill in skillList\"\r\n          :value=\"skill\"\r\n          :key=\"skill\"\r\n        >\r\n          {{skill}}\r\n        </Option>\r\n      </Select>\r\n      &nbsp;\r\n      锁定宠物：\r\n      <Select v-model=\"user.lockPet\" multiple size=\"small\" style=\"max-width: 140px;\">\r\n        <Option\r\n          v-for=\"pet in user.myPets\"\r\n          :value=\"pet._id\"\r\n          :key=\"pet._id\"\r\n        >\r\n          {{pet.name}}[{{pet.skill.map(skl => skl.name).join('，')}}]\r\n        </Option>\r\n      </Select>\r\n      &nbsp;\r\n      <Checkbox v-model=\"user.isCompose\" border @on-change=\"handleAutoChange\">自动合成</Checkbox>\r\n    </template>\r\n    <template v-else>\r\n      选择宠物：\r\n      <Select v-model=\"user.catchPet\" multiple size=\"small\" style=\"max-width: 300px;\">\r\n        <Option\r\n          v-for=\"screenMonster in screenMonsterMap\"\r\n          :value=\"screenMonster.monsterName\"\r\n          :key=\"screenMonster.monsterName\"\r\n        >\r\n          {{screenMonster.monsterName}}\r\n        </Option>\r\n      </Select>\r\n    </template>\r\n    <div class=\"br\" />\r\n    <p>\r\n      <label v-if=\"user.catchType && user.catchPetBySkill && user.catchPetBySkill.length > 0\">\r\n        捕捉目标：【{{user.catchPetBySkill.join('，')}}】，\r\n      </label>\r\n      历史捕捉成功率：【{{catchRate}}%】\r\n    </p>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { sleep } from \"@libs/tools\";\r\nexport default {\r\n  name: 'pet-catch-ctrl',\r\n  props: {\r\n    user: { type: Object, default: () => ({}) },\r\n    game: { type: Object, default: () => ({}) }\r\n  },\r\n  data () {\r\n    return {\r\n      screenMonsterMap: [],\r\n      interval: 0\r\n    }\r\n  },\r\n  computed: {\r\n    skillList () {\r\n      const skillMap = {};\r\n      this.screenMonsterMap.filter(smm => smm.skill).map(smm => {\r\n        smm.skill.map(sk => {\r\n          skillMap[sk.name] = true;\r\n        });\r\n      });\r\n      return Object.keys(skillMap);\r\n    },\r\n    catchRate () {\r\n      return ((user.catchSuccess || 0) / (user.catchFail || 1) * 100).toFixed(2)\r\n    }\r\n  },\r\n  watch: {\r\n    'user.myPets': {\r\n      deep: true,\r\n      handler (mp) {\r\n        const lockPet = this.user.lockPet;\r\n        if (!mp || !lockPet) return;\r\n        const myPetIds = mp.map(m => m._id);\r\n        for (let i = 0; i < lockPet.length; i++) {\r\n          if (!myPetIds.includes(lockPet[i])) {\r\n            lockPet.splice(i, 1);\r\n            i--;\r\n          }\r\n        }\r\n      }\r\n    },\r\n    'user.catchSkills': {\r\n      deep: true,\r\n      handler (cs) {\r\n        if (this.screenMonsterMap.length === 0) return;\r\n        const catchSkillCopy = JSON.parse(JSON.stringify(cs || []));\r\n        if (catchSkillCopy.length === 0) {\r\n          this.user.catchPetBySkill = [];\r\n          return;\r\n        }\r\n        const catchPetBySkill = [];\r\n        // 匹配包含选择技能最多的怪，没有就一只一只抓\r\n        this.screenMonsterMap\r\n          .map(smm => {\r\n            let count = 0;\r\n            smm.skill && smm.skill.map(sk => {\r\n              if (catchSkillCopy.includes(sk.name)) {\r\n                count++;\r\n              }\r\n            });\r\n            smm.tempCount = count;\r\n            return smm;\r\n          })\r\n          .sort((a, b) => b.tempCount - a.tempCount)\r\n          .map(smm => {\r\n            let flag = false;\r\n            smm.skill.map(sk => {\r\n              let index = catchSkillCopy.findIndex(csc => csc === sk.name);\r\n              if (index > -1) {\r\n                catchSkillCopy.splice(index, 1);\r\n                flag = true;\r\n              }\r\n            });\r\n            if (flag) {\r\n              catchPetBySkill.push(smm);\r\n            }\r\n          });\r\n        this.user.catchPetBySkill = catchPetBySkill.sort((a, b) => a.monsterLevel - b.monsterLevel).map(smm => smm.monsterName);\r\n      }\r\n    }\r\n  },\r\n  async mounted () {\r\n    await sleep(() => window.screens.length > 0);\r\n    const screenMonsterMap = [];\r\n    const screens = window.screens;\r\n    window.monsterData.data\r\n      .filter(d => d.type !== 3 && d.skill && d.skill.length > 0)\r\n      .map(ml => {\r\n        const screen = screens.find(s => s.monster.includes(ml._id))\r\n        if (screen) {\r\n          screenMonsterMap.push({\r\n            screenId: screen._id,\r\n            screenName: screen.name,\r\n            monsterId: ml._id,\r\n            monsterName: ml.name,\r\n            monsterLevel: ml.level,\r\n            skill: ml.skill\r\n          });\r\n        }\r\n    });\r\n    this.screenMonsterMap = screenMonsterMap;\r\n    this.handleAutoChange(this.user.isCompose);\r\n  },\r\n  methods: {\r\n    // 检查当前副本有没有要捉的宠物\r\n    checkScreenHasPet (petList) {\r\n      if (!this.user.combatName || petList.length === 0) return;\r\n      const monsterList = this.screenMonsterMap.filter(smm => smm.screenName === this.user.combatName);\r\n      return monsterList.some(ml => petList.includes(ml.monsterName));\r\n    },\r\n    // 检查当前副本指定宠物能抓到的技能\r\n    checkScreenHasSkill () {\r\n      const obj = {};\r\n      const catchList = this.user.catchPetBySkill;\r\n      this.screenMonsterMap\r\n        .filter(smm => smm.screenName === this.user.combatName && catchList.includes(smm.monsterName))\r\n        .map(smm => smm.skill.map(skl => obj[skl.name] = true ));\r\n      return Object.keys(obj);\r\n    },\r\n    // 查找要抓的宠物在哪个副本\r\n    checkPetInScreen (petName) {\r\n      return this.screenMonsterMap.find(smm => smm.monsterName === petName).screenId;\r\n    },\r\n    // 根据某位置的宠物来判断要切换到哪个副本\r\n    switchCombat (petId) {\r\n      let screenId;\r\n      if (petId) {\r\n        // 查找还没抓到的技能的宠物\r\n        const catchSkills = this.user.catchSkills;\r\n        const catchList = this.user.catchPetBySkill;\r\n        const pet = this.user.myPets.find(pet => pet._id === petId);\r\n        const skills = pet.skill.map(skl => skl.name);\r\n        let nextSkill;\r\n        catchSkills.map(cs => {\r\n          // 强调顺序\r\n          if (!skills.includes(cs) && !nextSkill) {\r\n            nextSkill = cs;\r\n          }\r\n        });\r\n        if (!nextSkill) {\r\n          this.switchCombat();\r\n          return;\r\n        }\r\n        const monsterScreen = this.screenMonsterMap.find(smm => smm.skill.some(skl => skl.name === nextSkill) && catchList.includes(smm.monsterName));\r\n        screenId = monsterScreen.screenId;\r\n        this.$Message.info(`下一个要抓的技能是【${nextSkill}】，去【${monsterScreen.screenName}】`);\r\n      } else {\r\n        screenId = this.checkPetInScreen(this.user.catchPetBySkill[0]);\r\n        this.$Message.info(`回到捕获目标第一只宠物重新抓`);\r\n      }\r\n      this.user.team.combat = screenId;\r\n      this.game.switchCombatScreen(screenId);\r\n    },\r\n    async handleAutoChange (flag) {\r\n      if (!flag) return;\r\n      const lockPet = this.user.lockPet;\r\n      const catchList = this.user.catchPetBySkill;\r\n      if (!lockPet || lockPet.length === 0) {\r\n        this.$Message.warning('检测到你没有锁定宠物，现在立刻取消自动合成还来得及');\r\n      }\r\n      if (!catchList || catchList.length === 0) {\r\n        this.$Message.warning('还没设置捕捉');\r\n        return;\r\n      }\r\n      if (!this.user.team) {\r\n        this.game.createdTeam(this.user.map.id);\r\n        await sleep(() => !!this.user.team);\r\n      }\r\n      if (!this.user.combatName) {\r\n        this.switchCombat();\r\n        await sleep(() => !!this.user.combatName);\r\n      }\r\n      if (!this.user.fighting) {\r\n        this.$set(this.user, 'fighting', true);\r\n      }\r\n      if (this.checkScreenHasPet(catchList) === false){\r\n        this.$Message.warning('当前副本没有符合捕捉条件的宠物，正在切换');\r\n        this.switchCombat();\r\n        await sleep(1000);\r\n      }\r\n      this.game.showMyTeam(0);\r\n      this.game.startCombat(this.user.team.combat);\r\n      this.game.getMyPet();\r\n      this.loopPetCheck();\r\n    },\r\n    // 丢宠判断\r\n    discardPet (pet, reason) {\r\n      const lockPet = this.user.lockPet;\r\n      if ((lockPet && lockPet.includes(pet._id)) || pet.type == 3 || (pet.skill || []).length >= 6) {\r\n        // 不丢锁定   不丢神兽  不丢6技能以上的\r\n        return false;\r\n      }\r\n      this.$Message.info(`丢弃${pet.name}【${(pet.skill || []).map(sk => sk.name).join(',') || '空'}】，原因【${reason}】`);\r\n      this.game.upUserPetLevel(pet._id, 3);\r\n      return true;\r\n    },\r\n    // 循环判断合宠\r\n    async loopPetCheck () {\r\n      await sleep(6000);\r\n      if (!this.user.isCompose) return;\r\n      const myPets = this.user.myPets;\r\n      const catchSkills = this.user.catchSkills;\r\n      for (let i = 0; i < myPets.length; i++) {\r\n        const pet = myPets[i];\r\n        // 放生没技能 或 没有要的技能\r\n        if ((!pet.skill || pet.skill.length === 0) || !pet.skill.some(skl => catchSkills.includes(skl.name))) {\r\n          this.discardPet(pet, '没有要的技能');\r\n        }\r\n      }\r\n      this.composePet();\r\n      this.loopPetCheck();\r\n    },\r\n    async composePet () {\r\n      const myPets = this.user.myPets;\r\n      const lockPet = this.user.lockPet;\r\n      const catchSkills = this.user.catchSkills;\r\n      const screenSkill = this.checkScreenHasSkill();\r\n      const composeSkill = screenSkill.filter(ss => catchSkills.includes(ss));\r\n      let pet1, pet2;\r\n      for (let i = 0; i < myPets.length; i++) {\r\n        const pet = myPets[i];\r\n        const skills = pet.skill.map(skl => skl.name);\r\n        if ((lockPet && lockPet.includes(pet._id))) {\r\n          // 判断是否锁定\r\n          continue;\r\n        }\r\n        // 判断拥有所有要的技能\r\n        let flag = true;\r\n        catchSkills.map(cs => {\r\n          if (!skills.includes(cs)) {\r\n            flag = false;\r\n          }\r\n        });\r\n        if (flag) {\r\n          if (i > 9) {\r\n            this.$Message.success(`已经合成好多只了，自动停止脚本`);\r\n            console.log(`合成脚本完成`, Date.now(), this.user.email);\r\n            this.$set(this.user, 'fighting', false);\r\n            this.$set(this.user, 'isCompose', false);\r\n            return\r\n          }\r\n          continue;\r\n        } else if (pet.type == 3) {\r\n          // 避免神兽被拿来合成\r\n          continue;\r\n        }\r\n        // 判断拥有这个地图所有能抓的技能\r\n        flag = true;\r\n        composeSkill.map(cs => {\r\n          if (!skills.includes(cs)) {\r\n            flag = false;\r\n          }\r\n        });\r\n        if (!pet1 && flag) {\r\n          this.$Message.success(`这个地图所有能抓的都抓了【${composeSkill.join(',')}】`)\r\n          this.switchCombat(pet._id);\r\n          return;\r\n        }\r\n        // 如果技能不齐，就跟下一个不齐的合成\r\n        if (!pet1) {\r\n          pet1 = pet;\r\n        } else if (!pet2) {\r\n          const pt1Skills = pet1.skill.map(skl => skl.name);\r\n          if (skills.some(skl => !pt1Skills.includes(skl) && catchSkills.includes(skl))) {\r\n            pet2 = pet;\r\n          } else if (i >= 9) {\r\n            this.discardPet(pet, '技能重复');\r\n          }\r\n        }\r\n        if (pet1 && pet2) {\r\n          this.$Message.info(`合成${pet1.name}【${pet1.skill.map(skl => skl.name).join('，')}】和${pet2.name}【${pet2.skill.map(skl => skl.name).join('，')}】`)\r\n          this.game.fitPet(pet1._id, pet2._id);\r\n          return;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pet-catch-ctrl.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pet-catch-ctrl.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./pet-catch-ctrl.vue?vue&type=template&id=6df37358&scoped=true&\"\nimport script from \"./pet-catch-ctrl.vue?vue&type=script&lang=js&\"\nexport * from \"./pet-catch-ctrl.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6df37358\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./User.vue?vue&type=template&id=709aa2bc&scoped=true&\"\nimport script from \"./User.vue?vue&type=script&lang=js&\"\nexport * from \"./User.vue?vue&type=script&lang=js&\"\nimport style0 from \"./User.vue?vue&type=style&index=0&id=709aa2bc&lang=less&scoped=true&\"\nimport style1 from \"./User.vue?vue&type=style&index=1&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"709aa2bc\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport Home from '../views/Home.vue'\r\nimport User from '../views/User.vue'\r\n\r\nVue.use(VueRouter)\r\n\r\n  const routes = [\r\n    {\r\n      path: '/',\r\n      name: 'Home',\r\n      component: Home\r\n    },\r\n    {\r\n      path: '/user/:email',\r\n      name: 'user',\r\n      component: User\r\n    }\r\n]\r\n\r\nconst router = new VueRouter({\r\n  routes\r\n})\r\n\r\nexport default router\r\n","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\n\r\nVue.use(Vuex)\r\n\r\nexport default new Vuex.Store({\r\n  state: {\r\n  },\r\n  mutations: {\r\n  },\r\n  actions: {\r\n  },\r\n  modules: {\r\n  }\r\n})\r\n","import { sleep } from \"@libs/tools\";\r\nexport default {\r\n  data () {\r\n    return {\r\n      rareType: [\"普通\", \"稀有\", \"传说\", \"PY\"]\r\n    }\r\n  },\r\n  filters: {\r\n    addStyle_mixin (val) {\r\n      const arr1 = [\"体质\", \"魔力\", \"力量\", \"耐力\", \"敏捷\"];\r\n      const arr2 = [\"物理暴击\", \"法术暴击\", \"特技\"];\r\n\r\n      if (arr1.includes(val)) {\r\n        return \"color:green;font-weight: 600;\";\r\n      }\r\n      if (arr2.includes(val)) {\r\n        return \"color:orchid;\";\r\n      }\r\n      return \"\";\r\n    },\r\n    getIndex_mixin (val) {\r\n      const index = val + 1;\r\n      return index.toString();\r\n    }\r\n  },\r\n  methods: {\r\n    async useItem_mixin (readUse) {\r\n      const { useNum, id, name } = readUse;\r\n      if (!useNum || useNum < 0) return this.$Message.error('请输入正确的数量')\r\n      window.freshPackage = false;\r\n      this.$Spin.show({\r\n        render: () => (\r\n          <p>\r\n            正在连续使用物品{name}\r\n            {useNum}\r\n            个，为避免请求次数过多和程序错乱，在此窗口关闭后再进行其他操作\r\n          </p>\r\n        ),\r\n      });\r\n      for (let i = 0; i < useNum; i++) {\r\n        this.game.useGoods(id);\r\n        await sleep(1100);\r\n      }\r\n      window.freshPackage = true;\r\n      this.game.userInfo();\r\n      // 重置背包\r\n      this.user.goods = [];\r\n      this.user.goodsPage = 1;\r\n      this.game.getMyGoods();\r\n      this.readToUse = null;\r\n      this.$Spin.hide();\r\n    },\r\n    //用于生成装备展示信息\r\n    getEqsInfo_mixin (obj) {\r\n      const eq_data = {\r\n        佩戴等级: obj.wear_level,\r\n        物理伤害: obj.physical_damage,\r\n        物理防御: obj.physical_defense,\r\n        魔法伤害: obj.magic_damage,\r\n        魔法防御: obj.magic_defense,\r\n        治疗能力: obj.restore_damage,\r\n        气血: obj.a,\r\n        速度: obj.speed,\r\n        体质: obj.con,\r\n        魔力: obj.int,\r\n        力量: obj.str,\r\n        耐力: obj.vit,\r\n        敏捷: obj.agi,\r\n        物理暴击: obj.physical_crit,\r\n        法术暴击: obj.magic_crit,\r\n        特技: obj.skill ? `${obj.skill.name}--${obj.skill.info}` : \"\",\r\n        评分: Math.round(obj.score),\r\n      };\r\n      let eq_info = {};\r\n      for (const key in eq_data) {\r\n        if (eq_data.hasOwnProperty(key)) {\r\n          const element = eq_data[key];\r\n          if (element) {\r\n            eq_info[key] = element;\r\n          }\r\n        }\r\n      }\r\n      return eq_info;\r\n    }\r\n  }\r\n}","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport store from './store'\r\nimport mixins from './mixins'\r\nimport viewDesign from 'view-design'\r\nimport 'view-design/dist/styles/iview.css'\r\n\r\nVue.use(viewDesign)\r\nVue.mixin(mixins)\r\n\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n  router,\r\n  store,\r\n  render: h => h(App)\r\n}).$mount('#app')\r\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=less&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=style&index=1&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=style&index=1&lang=less&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=1&id=6a0e8444&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=1&id=6a0e8444&lang=less&scoped=true&\"","define(function (exports, require, module) {\r\n    (function (exports, ByteArray, global) {\r\n        var Protocol = exports;\r\n\r\n        var PKG_HEAD_BYTES = 4;\r\n        var MSG_FLAG_BYTES = 1;\r\n        var MSG_ROUTE_CODE_BYTES = 2;\r\n        var MSG_ID_MAX_BYTES = 5;\r\n        var MSG_ROUTE_LEN_BYTES = 1;\r\n\r\n        var MSG_ROUTE_CODE_MAX = 0xffff;\r\n\r\n        var MSG_COMPRESS_ROUTE_MASK = 0x1;\r\n        var MSG_TYPE_MASK = 0x7;\r\n\r\n        var Package = Protocol.Package = {};\r\n        var Message = Protocol.Message = {};\r\n\r\n        Package.TYPE_HANDSHAKE = 1;\r\n        Package.TYPE_HANDSHAKE_ACK = 2;\r\n        Package.TYPE_HEARTBEAT = 3;\r\n        Package.TYPE_DATA = 4;\r\n        Package.TYPE_KICK = 5;\r\n\r\n        Message.TYPE_REQUEST = 0;\r\n        Message.TYPE_NOTIFY = 1;\r\n        Message.TYPE_RESPONSE = 2;\r\n        Message.TYPE_PUSH = 3;\r\n\r\n        /**\r\n     * pomele client encode\r\n     * id message id;\r\n     * route message route\r\n     * msg message body\r\n     * socketio current support string\r\n     */\r\n        Protocol.strencode = function (str) {\r\n            var byteArray = new ByteArray(str.length * 3);\r\n            var offset = 0;\r\n            for (var i = 0; i < str.length; i++) {\r\n                var charCode = str.charCodeAt(i);\r\n                var codes = null;\r\n                if (charCode <= 0x7f) {\r\n                    codes = [charCode];\r\n                } else if (charCode <= 0x7ff) {\r\n                    codes = [0xc0 | (charCode >> 6), 0x80 | (charCode & 0x3f)];\r\n                } else {\r\n                    codes = [0xe0 | (charCode >> 12), 0x80 | ((charCode & 0xfc0) >> 6), 0x80 | (charCode & 0x3f)];\r\n                }\r\n                for (var j = 0; j < codes.length; j++) {\r\n                    byteArray[offset] = codes[j];\r\n                    ++offset;\r\n                }\r\n            }\r\n            var _buffer = new ByteArray(offset);\r\n            copyArray(_buffer, 0, byteArray, 0, offset);\r\n            return _buffer;\r\n        }\r\n            ;\r\n\r\n        /**\r\n     * client decode\r\n     * msg String data\r\n     * return Message Object\r\n     */\r\n        Protocol.strdecode = function (buffer) {\r\n            var bytes = new ByteArray(buffer);\r\n            var array = [];\r\n            var offset = 0;\r\n            var charCode = 0;\r\n            var end = bytes.length;\r\n            while (offset < end) {\r\n                if (bytes[offset] < 128) {\r\n                    charCode = bytes[offset];\r\n                    offset += 1;\r\n                } else if (bytes[offset] < 224) {\r\n                    charCode = ((bytes[offset] & 0x3f) << 6) + (bytes[offset + 1] & 0x3f);\r\n                    offset += 2;\r\n                } else {\r\n                    charCode = ((bytes[offset] & 0x0f) << 12) + ((bytes[offset + 1] & 0x3f) << 6) + (bytes[offset + 2] & 0x3f);\r\n                    offset += 3;\r\n                }\r\n                array.push(charCode);\r\n            }\r\n            var res = '';\r\n            var chunk = 8 * 1024;\r\n            var i;\r\n            for (i = 0; i < array.length / chunk; i++) {\r\n            res += String.fromCharCode.apply(null, array.slice(i * chunk, (i + 1) * chunk));\r\n            }\r\n            res += String.fromCharCode.apply(null, array.slice(i * chunk));\r\n            return res;\r\n\r\n            // return String.fromCharCode.apply(null, array);\r\n        }\r\n            ;\r\n\r\n        /**\r\n     * Package protocol encode.\r\n     *\r\n     * Pomelo package format:\r\n     * +------+-------------+------------------+\r\n     * | type | body length |       body       |\r\n     * +------+-------------+------------------+\r\n     *\r\n     * Head: 4bytes\r\n     *   0: package type,\r\n     *      1 - handshake,\r\n     *      2 - handshake ack,\r\n     *      3 - heartbeat,\r\n     *      4 - data\r\n     *      5 - kick\r\n     *   1 - 3: big-endian body length\r\n     * Body: body length bytes\r\n     *\r\n     * @param  {Number}    type   package type\r\n     * @param  {ByteArray} body   body content in bytes\r\n     * @return {ByteArray}        new byte array that contains encode result\r\n     */\r\n        Package.encode = function (type, body) {\r\n            var length = body ? body.length : 0;\r\n            var buffer = new ByteArray(PKG_HEAD_BYTES + length);\r\n            var index = 0;\r\n            buffer[index++] = type & 0xff;\r\n            buffer[index++] = (length >> 16) & 0xff;\r\n            buffer[index++] = (length >> 8) & 0xff;\r\n            buffer[index++] = length & 0xff;\r\n            if (body) {\r\n                copyArray(buffer, index, body, 0, length);\r\n            }\r\n            return buffer;\r\n        }\r\n            ;\r\n\r\n        /**\r\n     * Package protocol decode.\r\n     * See encode for package format.\r\n     *\r\n     * @param  {ByteArray} buffer byte array containing package content\r\n     * @return {Object}           {type: package type, buffer: body byte array}\r\n     */\r\n        Package.decode = function (buffer) {\r\n            var offset = 0;\r\n            var bytes = new ByteArray(buffer);\r\n            var length = 0;\r\n            var rs = [];\r\n            while (offset < bytes.length) {\r\n                var type = bytes[offset++];\r\n                length = ((bytes[offset++]) << 16 | (bytes[offset++]) << 8 | bytes[offset++]) >>> 0;\r\n                var body = length ? new ByteArray(length) : null;\r\n                copyArray(body, 0, bytes, offset, length);\r\n                offset += length;\r\n                rs.push({\r\n                    'type': type,\r\n                    'body': body\r\n                });\r\n            }\r\n            return rs.length === 1 ? rs[0] : rs;\r\n        }\r\n            ;\r\n\r\n        /**\r\n     * Message protocol encode.\r\n     *\r\n     * @param  {Number} id            message id\r\n     * @param  {Number} type          message type\r\n     * @param  {Number} compressRoute whether compress route\r\n     * @param  {Number|String} route  route code or route string\r\n     * @param  {Buffer} msg           message body bytes\r\n     * @return {Buffer}               encode result\r\n     */\r\n        Message.encode = function (id, type, compressRoute, route, msg) {\r\n            // caculate message max length\r\n            var idBytes = msgHasId(type) ? caculateMsgIdBytes(id) : 0;\r\n            var msgLen = MSG_FLAG_BYTES + idBytes;\r\n\r\n            if (msgHasRoute(type)) {\r\n                if (compressRoute) {\r\n                    if (typeof route !== 'number') {\r\n                        throw new Error('error flag for number route!');\r\n                    }\r\n                    msgLen += MSG_ROUTE_CODE_BYTES;\r\n                } else {\r\n                    msgLen += MSG_ROUTE_LEN_BYTES;\r\n                    if (route) {\r\n                        route = Protocol.strencode(route);\r\n                        if (route.length > 255) {\r\n                            throw new Error('route maxlength is overflow');\r\n                        }\r\n                        msgLen += route.length;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (msg) {\r\n                msgLen += msg.length;\r\n            }\r\n\r\n            var buffer = new ByteArray(msgLen);\r\n            var offset = 0;\r\n\r\n            // add flag\r\n            offset = encodeMsgFlag(type, compressRoute, buffer, offset);\r\n\r\n            // add message id\r\n            if (msgHasId(type)) {\r\n                offset = encodeMsgId(id, buffer, offset);\r\n            }\r\n\r\n            // add route\r\n            if (msgHasRoute(type)) {\r\n                offset = encodeMsgRoute(compressRoute, route, buffer, offset);\r\n            }\r\n\r\n            // add body\r\n            if (msg) {\r\n                offset = encodeMsgBody(msg, buffer, offset);\r\n            }\r\n\r\n            return buffer;\r\n        }\r\n            ;\r\n\r\n        /**\r\n     * Message protocol decode.\r\n     *\r\n     * @param  {Buffer|Uint8Array} buffer message bytes\r\n     * @return {Object}            message object\r\n     */\r\n        Message.decode = function (buffer) {\r\n            var bytes = new ByteArray(buffer);\r\n            var bytesLen = bytes.length || bytes.byteLength;\r\n            var offset = 0;\r\n            var id = 0;\r\n            var route = null;\r\n\r\n            // parse flag\r\n            var flag = bytes[offset++];\r\n            var compressRoute = flag & MSG_COMPRESS_ROUTE_MASK;\r\n            var type = (flag >> 1) & MSG_TYPE_MASK;\r\n\r\n            // parse id\r\n            if (msgHasId(type)) {\r\n                var m = parseInt(bytes[offset]);\r\n                var i = 0;\r\n                do {\r\n                    var m = parseInt(bytes[offset]);\r\n                    id = id + ((m & 0x7f) * Math.pow(2, (7 * i)));\r\n                    offset++;\r\n                    i++;\r\n                } while (m >= 128);\r\n            }\r\n\r\n            // parse route\r\n            if (msgHasRoute(type)) {\r\n                if (compressRoute) {\r\n                    route = (bytes[offset++]) << 8 | bytes[offset++];\r\n                } else {\r\n                    var routeLen = bytes[offset++];\r\n                    if (routeLen) {\r\n                        route = new ByteArray(routeLen);\r\n                        copyArray(route, 0, bytes, offset, routeLen);\r\n                        route = Protocol.strdecode(route);\r\n                    } else {\r\n                        route = '';\r\n                    }\r\n                    offset += routeLen;\r\n                }\r\n            }\r\n\r\n            // parse body\r\n            var bodyLen = bytesLen - offset;\r\n            var body = new ByteArray(bodyLen);\r\n\r\n            copyArray(body, 0, bytes, offset, bodyLen);\r\n\r\n            return {\r\n                'id': id,\r\n                'type': type,\r\n                'compressRoute': compressRoute,\r\n                'route': route,\r\n                'body': body\r\n            };\r\n        }\r\n            ;\r\n\r\n        var copyArray = function (dest, doffset, src, soffset, length) {\r\n            if ('function' === typeof src.copy) {\r\n                // Buffer\r\n                src.copy(dest, doffset, soffset, soffset + length);\r\n            } else {\r\n                // Uint8Array\r\n                for (var index = 0; index < length; index++) {\r\n                    dest[doffset++] = src[soffset++];\r\n                }\r\n            }\r\n        };\r\n\r\n        var msgHasId = function (type) {\r\n            return type === Message.TYPE_REQUEST || type === Message.TYPE_RESPONSE;\r\n        };\r\n\r\n        var msgHasRoute = function (type) {\r\n            return type === Message.TYPE_REQUEST || type === Message.TYPE_NOTIFY || type === Message.TYPE_PUSH;\r\n        };\r\n\r\n        var caculateMsgIdBytes = function (id) {\r\n            var len = 0;\r\n            do {\r\n                len += 1;\r\n                id >>= 7;\r\n            } while (id > 0); return len;\r\n        };\r\n\r\n        var encodeMsgFlag = function (type, compressRoute, buffer, offset) {\r\n            if (type !== Message.TYPE_REQUEST && type !== Message.TYPE_NOTIFY && type !== Message.TYPE_RESPONSE && type !== Message.TYPE_PUSH) {\r\n                throw new Error('unkonw message type: ' + type);\r\n            }\r\n\r\n            buffer[offset] = (type << 1) | (compressRoute ? 1 : 0);\r\n\r\n            return offset + MSG_FLAG_BYTES;\r\n        };\r\n\r\n        var encodeMsgId = function (id, buffer, offset) {\r\n            do {\r\n                var tmp = id % 128;\r\n                var next = Math.floor(id / 128);\r\n\r\n                if (next !== 0) {\r\n                    tmp = tmp + 128;\r\n                }\r\n                buffer[offset++] = tmp;\r\n\r\n                id = next;\r\n            } while (id !== 0);\r\n            return offset;\r\n        };\r\n\r\n        var encodeMsgRoute = function (compressRoute, route, buffer, offset) {\r\n            if (compressRoute) {\r\n                if (route > MSG_ROUTE_CODE_MAX) {\r\n                    throw new Error('route number is overflow');\r\n                }\r\n\r\n                buffer[offset++] = (route >> 8) & 0xff;\r\n                buffer[offset++] = route & 0xff;\r\n            } else {\r\n                if (route) {\r\n                    buffer[offset++] = route.length & 0xff;\r\n                    copyArray(buffer, offset, route, 0, route.length);\r\n                    offset += route.length;\r\n                } else {\r\n                    buffer[offset++] = 0;\r\n                }\r\n            }\r\n\r\n            return offset;\r\n        };\r\n\r\n        var encodeMsgBody = function (msg, buffer, offset) {\r\n            copyArray(buffer, offset, msg, 0, msg.length);\r\n            return offset + msg.length;\r\n        };\r\n\r\n        module.exports = Protocol;\r\n        if (typeof (window) != \"undefined\") {\r\n            window.Protocol = Protocol;\r\n        }\r\n    }\r\n    )(typeof (window) == \"undefined\" ? module.exports : (this.Protocol = {}), typeof (window) == \"undefined\" ? Buffer : Uint8Array, this);\r\n\r\n});\r\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shop.vue?vue&type=style&index=0&id=5512574c&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shop.vue?vue&type=style&index=0&id=5512574c&lang=less&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}